<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Course materials | Análisis Estadístico en R</title>
    <link>/</link>
      <atom:link href="/index.xml" rel="self" type="application/rss+xml" />
    <description>Course materials</description>
    <generator>Wowchemy (https://wowchemy.com)</generator><lastBuildDate>Mon, 08 Nov 2021 00:00:00 +0000</lastBuildDate>
    <image>
      <url>/media/logo_hu02bc8dfe7cae86b2ee03430b67caeaf2_22353_300x300_fit_lanczos_2.png</url>
      <title>Course materials</title>
      <link>/</link>
    </image>
    
    <item>
      <title>Things you should know for Exam 1</title>
      <link>/resource/exam1/</link>
      <pubDate>Wed, 30 Sep 2020 00:00:00 +0000</pubDate>
      <guid>/resource/exam1/</guid>
      <description>&lt;h2 id=&#34;evidence-causation-and-evaluation&#34;&gt;Evidence, causation, and evaluation&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;You should understand…&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;…the difference between experimental research and observational research&lt;/li&gt;
&lt;li&gt;…the sometimes conflicting roles of science and intuition in public administration and policy&lt;/li&gt;
&lt;li&gt;…the difference between the various types of evaluations and how they target specific parts of a logic model&lt;/li&gt;
&lt;li&gt;…the difference between identifying correlation (math) and identifying causation (philosophy and theory)&lt;/li&gt;
&lt;li&gt;…what it means for a relationship to be causal&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;regression-and-inference&#34;&gt;Regression and inference&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;You should understand…&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;…the difference between correlation coefficients and regression coefficients&lt;/li&gt;
&lt;li&gt;…the difference between outcome/response/dependent and explanatory/predictor/independent variables&lt;/li&gt;
&lt;li&gt;…the two purposes of regression&lt;/li&gt;
&lt;li&gt;…what each of the components in a regression equation stand for, in both &amp;ldquo;flavors&amp;rdquo; of notation:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;\(y = \beta_0 + \beta_1 x_1 + \beta_2 x_2 + \epsilon\)&lt;/code&gt; for the statistical flavor&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\(y = \alpha + \beta x_1 + \gamma x_2 + \epsilon\)&lt;/code&gt; for the econometrics flavor&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;…how sliders and switches work as metaphors for regression coefficients&lt;/li&gt;
&lt;li&gt;…what it means to hold variables constant (or to control for variables)&lt;/li&gt;
&lt;li&gt;…the different elements of the grammar of graphics and be able to identify how variables are encoded in a graph (i.e. how columns in a dataset can be represented through x/y coordinates, through color, through size, through fill, etc.)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;You should be able to…&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;…write and interpret R code that calculates summary statistics for groups (i.e. &lt;code&gt;group_by() %&amp;gt;% summarize()&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;…write and interpret R code that builds linear models (i.e. &lt;code&gt;lm()&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;…interpret regression coefficients&lt;/li&gt;
&lt;li&gt;…interpret other regression diagnostics like &lt;code&gt;\(R^2\)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;…use the &lt;code&gt;%&amp;gt;%&lt;/code&gt; pipe in R to chain functions together&lt;/li&gt;
&lt;li&gt;…use &lt;code&gt;ggplot()&lt;/code&gt; to visualize data&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Helpful resources:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-book&#34;&gt;&lt;/i&gt; Garrett Grolemund and Hadley Wickham, &lt;a href=&#34;https://r4ds.had.co.nz/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;em&gt;R for Data Science&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-book&#34;&gt;&lt;/i&gt; Kieran Healy, &lt;a href=&#34;http://socviz.co/makeplot.html#how-ggplot-works&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&amp;ldquo;How ggplot works,&amp;quot;&lt;/a&gt; chapter 3 in &lt;em&gt;Data Visualization: A Practical Introduction&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;theories-of-change-and-measurement&#34;&gt;Theories of change and measurement&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;You should understand…&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;…how to describe a program&amp;rsquo;s theory of change&lt;/li&gt;
&lt;li&gt;…the difference between inputs, activities, outputs, and outcomes&lt;/li&gt;
&lt;li&gt;…the elements of a program&amp;rsquo;s impact theory: causes (activities) linked to effects (outcomes)&lt;/li&gt;
&lt;li&gt;…the elements of a program&amp;rsquo;s logic model: the explicit links between all its inputs, activities, outputs, and outcomes&lt;/li&gt;
&lt;li&gt;…the difference between implicit and articulated program theories&lt;/li&gt;
&lt;li&gt;…the purpose of smaller-scale mechanism testing&lt;/li&gt;
&lt;li&gt;…how indicators can be measured at different levels of abstraction&lt;/li&gt;
&lt;li&gt;…what makes an indicator a good indicator&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;You should be able to…&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;…identify a program&amp;rsquo;s underlying theory based on its mission statement&lt;/li&gt;
&lt;li&gt;…draw a program impact theory chart that links activities to outcomes&lt;/li&gt;
&lt;li&gt;…draw a program logic model that links inputs to activities to outputs to outcomes&lt;/li&gt;
&lt;li&gt;…identify the most central elements of a potential outcome measurement&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;counterfactuals-and-dags&#34;&gt;Counterfactuals and DAGs&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;You should understand…&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;…how a causal model encodes our understanding of a causal process&lt;/li&gt;
&lt;li&gt;…how to identify front door and back door paths between treatment/exposure and outcome&lt;/li&gt;
&lt;li&gt;…why we avoid closing front door paths&lt;/li&gt;
&lt;li&gt;…why we close back door paths&lt;/li&gt;
&lt;li&gt;…why adjusting for colliders can distort causal effects&lt;/li&gt;
&lt;li&gt;…the difference between logic models and DAGs&lt;/li&gt;
&lt;li&gt;…the difference between individual level causal effects, average treatment effects (ATE), conditional average treatment effect (CATE), average treatment on the treated effects (ATT), and average treatment on the untreated (ATU)&lt;/li&gt;
&lt;li&gt;…what the fundamental problem of causal inference is and how we can attempt to address it&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;You should be able to…&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;…draw a possible DAG for a given causal relationship&lt;/li&gt;
&lt;li&gt;…identify all pathways between treatment/exposure and outcome&lt;/li&gt;
&lt;li&gt;…identify which nodes in the DAG need to be adjusted for (or closed)&lt;/li&gt;
&lt;li&gt;…identify colliders (which should not be adjusted for)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Helpful resources:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-external-link-square-alt&#34;&gt;&lt;/i&gt; Malcom Barrett, &lt;a href=&#34;https://cran.r-project.org/web/packages/ggdag/vignettes/intro-to-dags.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&amp;ldquo;An Introduction to Directed Acyclic Graphs&amp;rdquo;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-external-link-square-alt&#34;&gt;&lt;/i&gt; Malcom Barrett, &lt;a href=&#34;https://cran.r-project.org/web/packages/ggdag/vignettes/intro-to-ggdag.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&amp;ldquo;An Introduction to ggdag&amp;rdquo;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-external-link-square-alt&#34;&gt;&lt;/i&gt; Judea Pearl, &lt;a href=&#34;http://causality.cs.ucla.edu/blog/index.php/2019/08/14/a-crash-course-in-good-and-bad-control/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&amp;ldquo;A Crash Course in Good and Bad Control&amp;rdquo;&lt;/a&gt;: A quick summary of back doors, front doors, confounders, colliders, and when to control/not control for DAG nodes&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fab fa-youtube&#34;&gt;&lt;/i&gt; Causal Inference Bootcamp, &lt;a href=&#34;https://modu.ssri.duke.edu/module/introduction-causal-inference/average-treatment-effect&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&amp;ldquo;Average Treatment Effects,&amp;quot;&lt;/a&gt; Duke University&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fab fa-youtube&#34;&gt;&lt;/i&gt; Causal Inference Bootcamp, &lt;a href=&#34;https://modu.ssri.duke.edu/module/introduction-causal-inference/unit-level-effect&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&amp;ldquo;Unit Level Effects,&amp;quot;&lt;/a&gt; Duke University&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fab fa-youtube&#34;&gt;&lt;/i&gt; Causal Inference Bootcamp, &lt;a href=&#34;https://modu.ssri.duke.edu/module/introduction-causal-inference/conditional-average-treatment-effect&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&amp;ldquo;Conditional Average Treatment Effects,&amp;quot;&lt;/a&gt; Duke University&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fab fa-youtube&#34;&gt;&lt;/i&gt; Causal Inference Bootcamp, &lt;a href=&#34;https://modu.ssri.duke.edu/module/introduction-causal-inference/counterfactuals&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&amp;ldquo;Counterfactuals,&amp;quot;&lt;/a&gt; Duke University&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-external-link-square-alt&#34;&gt;&lt;/i&gt; Neel Ocean, &lt;a href=&#34;http://www.neelocean.com/understanding-selection-bias/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&amp;ldquo;Understanding Selection Bias&amp;rdquo;&lt;/a&gt;: explanation of how to identify selection bias from the ATT and the ATE, with an explanation of how ATE = ATT + selection bias under the potential outcomes framework&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-external-link-square-alt&#34;&gt;&lt;/i&gt; Paul Hünermund, &lt;a href=&#34;https://p-hunermund.com/2018/10/15/sample-selection-vs-selection-into-treatment/amp/?__twitter_impression=true&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&amp;ldquo;Sample Selection vs. Selection Into Treatment&amp;rdquo;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;threats-to-validity&#34;&gt;Threats to validity&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;You should understand…&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;…what it means when a study has internal validity and know how to identify the major threats to internal validity, including: omitted variable bias (selection and attrition), trend issues (maturation, secular trends, seasonality, testing, regression to the mean), study calibration issues (measurement error, time frame of study), and contamination issues (Hawthorne effects, John Henry effects, spillovers, and intervening events)&lt;/li&gt;
&lt;li&gt;…why selection bias is the most pernicious and difficult threat to internal validity and how we can account for it&lt;/li&gt;
&lt;li&gt;…what it means when a study has external validity&lt;/li&gt;
&lt;li&gt;…what it means when the measures used in a study have construct validity&lt;/li&gt;
&lt;li&gt;…what it means when the analysis used in a study has statistical conclusion validity&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;You should be able to…&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;…identify existing and potential threats to validity in a study&lt;/li&gt;
&lt;li&gt;…suggest ways of addressing these threats&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Helpful resources:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Really, just google &lt;a href=&#34;https://www.google.com/search?q=threats&amp;#43;to&amp;#43;internal&amp;#43;validity&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&amp;ldquo;threats to internal validity&amp;rdquo;&lt;/a&gt; or &lt;a href=&#34;https://www.google.com/search?q=threats&amp;#43;to&amp;#43;external&amp;#43;validity&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&amp;ldquo;threats to external validity&amp;rdquo;&lt;/a&gt; and you&amp;rsquo;ll find a billion different slide decks, articles, and lessons about these. They&amp;rsquo;re a pretty standard part of any research design class.&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Installing R, RStudio, tidyverse, and tinytex</title>
      <link>/resource/install/</link>
      <pubDate>Fri, 01 May 2020 00:00:00 +0000</pubDate>
      <guid>/resource/install/</guid>
      <description>&lt;p&gt;You will do all of your work in this class with the open source (and free!) programming language &lt;a href=&#34;https://cran.r-project.org/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;R&lt;/a&gt;. You will use &lt;a href=&#34;https://www.rstudio.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;RStudio&lt;/a&gt; as the main program to access R. Think of R as an engine and RStudio as a car dashboard—R handles all the calculations and the actual statistics, while RStudio provides a nice interface for running R code.&lt;/p&gt;
&lt;h2 id=&#34;rstudiocloud&#34;&gt;RStudio.cloud&lt;/h2&gt;
&lt;p&gt;R is free, but it can sometimes be a pain to install and configure. To make life easier, you can (and should!) use the free &lt;a href=&#34;http://rstudio.cloud/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;RStudio.cloud&lt;/a&gt; service &lt;em&gt;initially&lt;/em&gt;, which lets you run a full instance of RStudio in your web browser. This means you won&amp;rsquo;t have to install anything on your computer to get started with R! We will have a shared class workspace in RStudio.cloud that will let you quickly copy templates for labs and problem sets.&lt;/p&gt;
&lt;p&gt;Go to &lt;a href=&#34;https://rstudio.cloud/&#34;&gt;https://rstudio.cloud/&lt;/a&gt; and create an account. You&amp;rsquo;ll receive a link to join the shared class workspace separately. If you don&amp;rsquo;t get this link, let me know and I will invite you.&lt;/p&gt;
&lt;h2 id=&#34;rstudio-on-your-computer&#34;&gt;RStudio on your computer&lt;/h2&gt;
&lt;p&gt;RStudio.cloud is convenient, but it can be slow and it is not designed to be able to handle larger datasets, more complicated analysis, or fancier graphics. Over the course of the semester, you should wean yourself off of RStudio.cloud and install all these things locally. This is also important if you want to customize fonts, since RStudio.cloud has extremely limited support for fonts other than Helvetica.&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s how you install all these things&lt;/p&gt;
&lt;h3 id=&#34;install-r&#34;&gt;Install R&lt;/h3&gt;
&lt;p&gt;First you need to install R itself (the engine).&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Go to the CRAN (Collective R Archive Network)^[It&amp;rsquo;s a goofy name, but CRAN is where most R packages—and R itself—lives.] website: &lt;a href=&#34;https://cran.r-project.org/&#34;&gt;https://cran.r-project.org/&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Click on &amp;ldquo;Download R for &lt;code&gt;XXX&lt;/code&gt;&amp;rdquo;, where &lt;code&gt;XXX&lt;/code&gt; is either Mac or Windows:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/install/install-r-links.png&#34; width=&#34;60%&#34; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;If you use macOS, scroll down to the first &lt;code&gt;.pkg&lt;/code&gt; file in the list of files (in this picture, it&amp;rsquo;s &lt;code&gt;R-4.0.0.pkg&lt;/code&gt;; as of right now, the current version is also 4.0.0) and download it.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/install/install-r-mac.png&#34; width=&#34;100%&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If you use Windows, click &amp;ldquo;base&amp;rdquo; (or click on the bolded &amp;ldquo;install R for the first time&amp;rdquo; link) and download it.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/install/install-r-windows.png&#34; width=&#34;100%&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Double click on the downloaded file (check your &lt;code&gt;Downloads&lt;/code&gt; folder). Click yes through all the prompts to install like any other program.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If you use macOS, &lt;a href=&#34;https://www.xquartz.org/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;download and install XQuartz&lt;/a&gt;. You do not need to do this on Windows.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;install-rstudio&#34;&gt;Install RStudio&lt;/h3&gt;
&lt;p&gt;Next, you need to install RStudio, the nicer graphical user interface (GUI) for R (the dashboard). Once R and RStudio are both installed, you can ignore R and only use RStudio. RStudio will use R automatically and you won&amp;rsquo;t ever have to interact with it directly.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Go to the free download location on RStudio&amp;rsquo;s website: &lt;a href=&#34;https://www.rstudio.com/products/rstudio/download/#download&#34;&gt;https://www.rstudio.com/products/rstudio/download/#download&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The website should automatically detect your operating system (macOS or Windows) and show a big download button for it:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/install/install-r-rstudio1.png&#34; width=&#34;50%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;If not, scroll down a little to the large table and choose the version of RStudio that matches your operating system.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/install/install-r-rstudio2.png&#34; width=&#34;100%&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Double click on the downloaded file (again, check your &lt;code&gt;Downloads&lt;/code&gt; folder). Click yes through all the prompts to install like any other program.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Double click on RStudio to run it (check your applications folder or start menu).&lt;/p&gt;
&lt;h3 id=&#34;install-tidyverse&#34;&gt;Install &lt;code&gt;tidyverse&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;R packages are easy to install with RStudio. Select the packages panel, click on &amp;ldquo;Install,&amp;rdquo; type the name of the package you want to install, and press enter.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/install/install-r-package-panel.png&#34; width=&#34;40%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;This can sometimes be tedious when you&amp;rsquo;re installing lots of packages, though. &lt;a href=&#34;https://www.tidyverse.org/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;The tidyverse&lt;/a&gt;, for instance, consists of dozens of packages (including &lt;strong&gt;ggplot2&lt;/strong&gt;) that all work together. Rather than install each individually, you can install a single magical package and get them all at the same time.&lt;/p&gt;
&lt;p&gt;Go to the packages panel in RStudio, click on &amp;ldquo;Install,&amp;rdquo; type &amp;ldquo;tidyverse&amp;rdquo;, and press enter. You&amp;rsquo;ll see a bunch of output in the RStudio console as all the tidyverse packages are installed.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/install/install-r-tidyverse.png&#34; width=&#34;60%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Notice also that RStudio will generate a line of code for you and run it: &lt;code&gt;install.packages(&amp;quot;tidyverse&amp;quot;)&lt;/code&gt;. You can also just paste and run this instead of using the packages panel.&lt;/p&gt;
&lt;h3 id=&#34;install-tinytex&#34;&gt;Install &lt;code&gt;tinytex&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;When you knit to PDF, R uses a special scientific typesetting program named LaTeX (pronounced &amp;ldquo;lay-tek&amp;rdquo; or &amp;ldquo;lah-tex&amp;rdquo;; for goofy nerdy reasons, the x is technically the &amp;ldquo;ch&amp;rdquo; sound in &amp;ldquo;Bach&amp;rdquo;, but most people just say it as &amp;ldquo;k&amp;rdquo;—saying &amp;ldquo;layteks&amp;rdquo; is frowned on for whatever reason).&lt;/p&gt;
&lt;p&gt;LaTeX is neat and makes pretty documents, but it&amp;rsquo;s a huge program—&lt;a href=&#34;https://tug.org/mactex/mactex-download.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;the macOS version, for instance, is nearly 4 GB&lt;/a&gt;! To make life easier, there&amp;rsquo;s &lt;a href=&#34;https://yihui.org/tinytex/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;an R package named &lt;strong&gt;tinytex&lt;/strong&gt;&lt;/a&gt; that installs a minimal LaTeX program and that automatically deals with differences between macOS and Windows.&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s how to install &lt;strong&gt;tinytex&lt;/strong&gt; so you can knit to pretty PDFs:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Use the Packages in panel in RStudio to install &lt;strong&gt;tinytex&lt;/strong&gt; like you did above with &lt;strong&gt;tidyverse&lt;/strong&gt;. Alternatively, run &lt;code&gt;install.packages(&amp;quot;tinytex&amp;quot;)&lt;/code&gt; in the console.&lt;/li&gt;
&lt;li&gt;Run &lt;code&gt;tinytex::install_tinytex()&lt;/code&gt; in the console.&lt;/li&gt;
&lt;li&gt;Wait for a bit while R downloads and installs everything you need.&lt;/li&gt;
&lt;li&gt;The end! You should now be able to knit to PDF.&lt;/li&gt;
&lt;/ol&gt;
</description>
    </item>
    
    <item>
      <title>Things you should know for Exam 2</title>
      <link>/resource/exam2/</link>
      <pubDate>Thu, 12 Nov 2020 00:00:00 +0000</pubDate>
      <guid>/resource/exam2/</guid>
      <description>&lt;h2 id=&#34;randomization&#34;&gt;Randomization&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Understand why randomization is crucial for causal inference and counterfactuals&lt;/li&gt;
&lt;li&gt;Understand the process for analyzing a randomized controlled trial&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Crucial resources&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://evalf20.classes.andrewheiss.com/content/07-content/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Readings, slides, and videos for randomization and matching&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/example/rcts/&#34;&gt;Guide for RCTs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Problem set 3&lt;/li&gt;
&lt;li&gt;Task 1 in problem set 8&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;matching-and-inverse-probability-weighting&#34;&gt;Matching and inverse probability weighting&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Understand the intuition behind matching and inverse probability weighting&lt;/li&gt;
&lt;li&gt;Understand the process for adjusting for confounders and closing backdoors with both matching and inverse probability weighting&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Crucial resources&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://evalf20.classes.andrewheiss.com/content/07-content/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Readings, slides, and videos for randomization and matching&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/example/matching-ipw/&#34;&gt;Guide for matching and inverse probability weighting&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Problem set 3&lt;/li&gt;
&lt;li&gt;Task 2 in problem set 8&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;difference-in-difference&#34;&gt;Difference-in-difference&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Understand the intuition behind making causal inferences with difference-in-differences&lt;/li&gt;
&lt;li&gt;Understand the process for analyzing diff-in-diffs&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Crucial resources&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://evalf20.classes.andrewheiss.com/content/08-content/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Readings, slides, and videos for diff-in-diff&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/example/diff-in-diff/&#34;&gt;Guide for diff-in-diff&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Problem set 4&lt;/li&gt;
&lt;li&gt;Problem set 5&lt;/li&gt;
&lt;li&gt;Task 3 in problem set 8&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;regression-discontinuity&#34;&gt;Regression discontinuity&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Understand the intuition behind making causal inferences with regression discontinuity&lt;/li&gt;
&lt;li&gt;Understand the process for analyzing regression discontinuities, both &lt;em&gt;&lt;strong&gt;fuzzy&lt;/strong&gt;&lt;/em&gt; and &lt;em&gt;&lt;strong&gt;sharp&lt;/strong&gt;&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Understand the difference between ATE and LATE&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Crucial resources&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://evalf20.classes.andrewheiss.com/content/10-content/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Readings, slides, and videos for regression discontinuity I (sharp)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://evalf20.classes.andrewheiss.com/content/12-content/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Readings, slides, and videos for regression discontinuity II (fuzzy)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/example/rdd/&#34;&gt;Guide for sharp diff-in-diff&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/example/rdd-fuzzy/&#34;&gt;Guide for fuzzy diff-in-diff&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Problem set 6&lt;/li&gt;
&lt;li&gt;Task 4 in problem set 8&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;instrumental-variables&#34;&gt;Instrumental variables&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Understand the intuition behind using instruments for causal inference&lt;/li&gt;
&lt;li&gt;Understand the three characteristics of a good instrument&lt;/li&gt;
&lt;li&gt;Understand the process for analyzing data with instrumental variables and 2SLS&lt;/li&gt;
&lt;li&gt;Understand the difference between ATE and LATE&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Crucial resources&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://evalf20.classes.andrewheiss.com/content/11-content/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Readings, slides, and videos for instrumental variables I&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://evalf20.classes.andrewheiss.com/content/12-content/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Readings, slides, and videos for instrumental variables II&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/example/iv/&#34;&gt;Guide for instrumental variables&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Problem set 7&lt;/li&gt;
&lt;li&gt;Task 5 in problem set 8&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>R</title>
      <link>/resource/r/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/resource/r/</guid>
      <description>&lt;h2 id=&#34;learning-r&#34;&gt;Learning R&lt;/h2&gt;
&lt;p&gt;I highly recommend subscribing to the &lt;a href=&#34;https://rweekly.org/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;R Weekly newsletter&lt;/a&gt;. This e-mail is sent every Monday and is full of helpful tutorials about how to do stuff with R.&lt;/p&gt;
&lt;p&gt;Searching for help with R on Google can sometimes be tricky because the program name is a single letter. Google is generally smart enough to figure out what you mean when you search for &amp;ldquo;r scatterplot&amp;rdquo;, but if it does struggle, try searching for &amp;ldquo;rstats&amp;rdquo; instead (e.g. &amp;ldquo;rstats scatterplot&amp;rdquo;).&lt;/p&gt;
&lt;p&gt;If you use Twitter, post R-related questions and content with &lt;a href=&#34;https://twitter.com/search?q=%23rstats&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#rstats&lt;/a&gt;. The community there is exceptionally generous and helpful. Also check out &lt;a href=&#34;https://stackoverflow.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;StackOverflow&lt;/a&gt; (a Q&amp;amp;A site with hundreds of thousands of answers to all sorts of programming questions) and &lt;a href=&#34;https://community.rstudio.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;RStudio Community&lt;/a&gt; (a forum specifically designed for people using RStudio and the tidyverse (i.e. you)).&lt;/p&gt;
&lt;p&gt;These resources are also really really helpful:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://r4ds.had.co.nz/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;R for Data Science&lt;/strong&gt;&lt;/a&gt;: A free online book for learning the basics of R and the tidyverse.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.rstudio.com/resources/cheatsheets/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;R and RStudio cheat sheets&lt;/strong&gt;&lt;/a&gt;: A large collection of simple cheat sheets for RStudio, &lt;strong&gt;ggplot2&lt;/strong&gt;, and other R-related things.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://stat545.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;Stat 545&lt;/strong&gt;&lt;/a&gt;: &lt;a href=&#34;https://twitter.com/JennyBryan&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Dr. Jenny Bryan&lt;/a&gt; at RStudio has an entire introductory course in R, visualization, and data analysis online.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www2.stat.duke.edu/courses/Fall17/sta112.01/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;STA 112FS: Data Science&lt;/strong&gt;&lt;/a&gt;: &lt;a href=&#34;https://twitter.com/minebocek&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Dr. Mine Çetinkaya-Rundel&lt;/a&gt; at the University of Edinburgh / Duke University has an entire introductory course in R, visualization, and data science online.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cslu.ohsu.edu/~bedricks/courses/cs631/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;CSE 631: Principles &amp;amp; Practice of Data Visualization&lt;/strong&gt;&lt;/a&gt;: Yet another introductory course for R and ggplot2 by &lt;a href=&#34;https://twitter.com/apreshill&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Dr. Alison Presmanes Hill&lt;/a&gt; at RStudio.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;r-in-the-wild&#34;&gt;R in the wild&lt;/h2&gt;
&lt;p&gt;A popular (and increasingly standard) way for sharing your analyses and visualizations is to post an annotated explanation of your process somewhere online. RStudio allows you to publish knitted HTML files directly to &lt;a href=&#34;http://rpubs.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;RPubs&lt;/a&gt;, but you can also post your output to a blog or other type of website.^[If you want to be really fancy, you can use &lt;a href=&#34;https://bookdown.org/yihui/blogdown/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;blogdown&lt;/a&gt;, which makes a complete website with R Markdown files. That&amp;rsquo;s actually how this site is built (&lt;a href=&#34;https://github.com/andrewheiss/datavizm20.classes.andrewheiss.com&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;see the source code&lt;/a&gt;). You can build your own site &lt;a href=&#34;https://apreshill.rbind.io/post/up-and-running-with-blogdown/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;with this tutorial&lt;/a&gt;.] Reading these kinds of posts is one of the best ways to learn R, since they walk you through each step of the process &lt;em&gt;and&lt;/em&gt; show the code and output.&lt;/p&gt;
&lt;p&gt;Here are some of the best examples I&amp;rsquo;ve come across:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://varianceexplained.org/r/trump-tweets/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Text analysis of Trump&amp;rsquo;s tweets confirms he writes only the (angrier) Android half&lt;/a&gt; (with a &lt;a href=&#34;http://varianceexplained.org/r/trump-followup/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;follow-up&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://rudeboybert.github.io/fivethirtyeight/articles/bob_ross.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Bob Ross - Joy of Painting&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://rudeboybert.github.io/fivethirtyeight/articles/bechdel.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Bechdel analysis using the tidyverse&lt;/a&gt;: There are also a bunch of other examples &lt;a href=&#34;https://rudeboybert.github.io/fivethirtyeight/articles/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;using data from FiveThirtyEight&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://rpubs.com/Jwhitman/Final_Project&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Sexism on the Silver Screen: Exploring film&amp;rsquo;s gender divide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://soc301s2017.netlify.com/group_projects/group5&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Comparison of Quentin Tarantino Movies by Box Office and the Bechdel Test&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://juliasilge.com/blog/who-came-to-vote/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Who came to vote in Utah&amp;rsquo;s caucuses?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://juliasilge.com/blog/health-care-indicators/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Health care indicators in Utah counties&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://juliasilge.com/blog/song-lyrics-across/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Song lyrics across the United States&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://blog.karawoo.com/2016/09/22/A-decade-ish-of-listening-to-Sigur-Ros&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;A decade (ish) of listening to Sigur Rós&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://rpubs.com/ry_lisa_elana/chicago&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;When is Tom peeping these days?&lt;/a&gt;: There are a also bunch of final projects from other R and data visualization classes &lt;a href=&#34;http://soc301s2017.netlify.com/group-projects/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;here&lt;/a&gt; and &lt;a href=&#34;https://rudeboybert.github.io/MATH116/PS/final_project/final_project_outline.html#past_examples&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;here&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://rud.is/b/2017/09/18/mapping-fall-foliage-with-sf/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Mapping Fall Foliage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://rud.is/b/2017/07/25/r%E2%81%B6-general-attys-distributions/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;General (Attys) Distributions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://rud.is/b/2017/06/18/r%E2%81%B6-disproving-approval/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Disproving Approval&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>R style suggestions</title>
      <link>/resource/style/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/resource/style/</guid>
      <description>&lt;h2 id=&#34;r-style-conventions&#34;&gt;R style conventions&lt;/h2&gt;
&lt;p&gt;R is fairly forgiving about how you type code (unlike other languages like Python, where miscounting spaces can ruin your code!). All of these things will do exactly the same thing:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;mpg &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(cty &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;, class &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;compact&amp;#34;&lt;/span&gt;)

mpg &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(cty &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;, class &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;compact&amp;#34;&lt;/span&gt;)

mpg &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(cty &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;, 
         class &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;compact&amp;#34;&lt;/span&gt;)

mpg &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(cty&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;, class&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;compact&amp;#34;&lt;/span&gt;)

&lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(mpg,cty&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;,class&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;compact&amp;#34;&lt;/span&gt;)

mpg &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
&lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(cty &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;, 
                        class &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;compact&amp;#34;&lt;/span&gt;)

&lt;span style=&#34;color:#a6e22e&#34;&gt;filter &lt;/span&gt;( mpg,cty&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;,     class&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;compact&amp;#34;&lt;/span&gt; )
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;But you&amp;rsquo;ll notice that only a few of those iterations (the first three) are easily readable.&lt;/p&gt;
&lt;p&gt;To help improve readability and make it easier to share code with others, there&amp;rsquo;s &lt;a href=&#34;https://style.tidyverse.org/index.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;an unofficial style guide for writing R code&lt;/a&gt;. It&amp;rsquo;s fairly short and just has lots of examples of good and bad ways of writing code (naming variables, dealing with long lines, using proper indentation levels, etc.)—you should glance through it some time.&lt;/p&gt;
&lt;p&gt;RStudio has a built-in way of cleaning up your code. Select some code, press &lt;kbd&gt;ctrl&lt;/kbd&gt; + &lt;kbd&gt;i&lt;/kbd&gt; (on Windows) or &lt;kbd&gt;⌘&lt;/kbd&gt; + &lt;kbd&gt;i&lt;/kbd&gt; (on macOS), and R will reformat the code for you. It&amp;rsquo;s not always perfect, but it&amp;rsquo;s really helpful for getting indentation right without having to manually hit &lt;kbd&gt;space&lt;/kbd&gt; a billion times.&lt;/p&gt;
&lt;h2 id=&#34;main-style-things-to-pay-attention-to-for-this-class&#34;&gt;Main style things to pay attention to for this class&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;Important note&lt;/em&gt;: I won&amp;rsquo;t ever grade you on any of this! If you submit something like &lt;code&gt;filter(mpg,cty&amp;gt;10,class==&amp;quot;compact&amp;quot;)&lt;/code&gt;, I might recommend adding spaces, but it won&amp;rsquo;t affect your grade or points or anything.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;spacing&#34;&gt;Spacing&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;See the &lt;a href=&#34;https://style.tidyverse.org/syntax.html#spacing&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&amp;ldquo;Spacing&amp;rdquo; section&lt;/a&gt; in the tidyverse style guide.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Put spaces after commas (like in regular English):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Good&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(mpg, cty &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;)

&lt;span style=&#34;color:#75715e&#34;&gt;# Bad&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(mpg , cty &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;)
&lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(mpg ,cty &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;)
&lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(mpg,cty &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Put spaces around operators like &lt;code&gt;+&lt;/code&gt;, &lt;code&gt;-&lt;/code&gt;, &lt;code&gt;&amp;gt;&lt;/code&gt;, &lt;code&gt;=&lt;/code&gt;, etc.:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Good&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(mpg, cty &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;)

&lt;span style=&#34;color:#75715e&#34;&gt;# Bad&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(mpg, cty&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;)
&lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(mpg, cty&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;)
&lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(mpg, cty &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Don&amp;rsquo;t put spaces around parentheses that are parts of functions:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Good&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(mpg, cty &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;)

&lt;span style=&#34;color:#75715e&#34;&gt;# Bad&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;filter &lt;/span&gt;(mpg, cty &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;)
&lt;span style=&#34;color:#a6e22e&#34;&gt;filter &lt;/span&gt;( mpg, cty &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;)
&lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;( mpg, cty &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt; )
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;long-lines&#34;&gt;Long lines&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;See the &lt;a href=&#34;https://style.tidyverse.org/syntax.html#long-lines&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&amp;ldquo;Long lines&amp;rdquo; section&lt;/a&gt; in the tidyverse style guide.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It&amp;rsquo;s generally good practice to not have really long lines of code. A good suggestion is to keep lines at a maximum of 80 characters. Instead of counting characters by hand (ew), in RStudio go to &amp;ldquo;Tools&amp;rdquo; &amp;gt; &amp;ldquo;Global Options&amp;rdquo; &amp;gt; &amp;ldquo;Code&amp;rdquo; &amp;gt; &amp;ldquo;Display&amp;rdquo; and check the box for &amp;ldquo;Show margin&amp;rdquo;. You should now see a really thin line indicating 80 characters. Again, you can go beyond this—that&amp;rsquo;s fine. It&amp;rsquo;s just good practice to avoid going too far past it.&lt;/p&gt;
&lt;p&gt;You can add line breaks inside longer lines of code. Line breaks should come after commas, and things like function arguments should align within the function:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Good&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(mpg, cty &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;, class &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;compact&amp;#34;&lt;/span&gt;)

&lt;span style=&#34;color:#75715e&#34;&gt;# Good&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(mpg, cty &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;, 
       class &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;compact&amp;#34;&lt;/span&gt;)

&lt;span style=&#34;color:#75715e&#34;&gt;# Good&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(mpg,
       cty &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;,
       class &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;compact&amp;#34;&lt;/span&gt;)

&lt;span style=&#34;color:#75715e&#34;&gt;# Bad&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(mpg, cty &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;, class &lt;span style=&#34;color:#f92672&#34;&gt;%in%&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;compact&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;pickup&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;midsize&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;subcompact&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;suv&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;2seater&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;minivan&amp;#34;&lt;/span&gt;))

&lt;span style=&#34;color:#75715e&#34;&gt;# Good&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(mpg, 
       cty &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;, 
       class &lt;span style=&#34;color:#f92672&#34;&gt;%in%&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;compact&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;pickup&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;midsize&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;subcompact&amp;#34;&lt;/span&gt;, 
                    &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;suv&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;2seater&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;minivan&amp;#34;&lt;/span&gt;))
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;pipes--and-ggplot-layers-&#34;&gt;Pipes (&lt;code&gt;%&amp;gt;%&lt;/code&gt;) and ggplot layers (&lt;code&gt;+&lt;/code&gt;)&lt;/h3&gt;
&lt;p&gt;Put each layer of a ggplot plot on separate lines, with the &lt;code&gt;+&lt;/code&gt; at the end of the line, indented with two spaces:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Good&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(mpg, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; cty, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; hwy, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; class)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_point&lt;/span&gt;() &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_smooth&lt;/span&gt;() &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_bw&lt;/span&gt;()

&lt;span style=&#34;color:#75715e&#34;&gt;# Bad&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(mpg, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; cty, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; hwy, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; class)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_point&lt;/span&gt;() &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_smooth&lt;/span&gt;() &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_bw&lt;/span&gt;()

&lt;span style=&#34;color:#75715e&#34;&gt;# Super bad&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(mpg, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; cty, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; hwy, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; class)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_point&lt;/span&gt;() &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_smooth&lt;/span&gt;() &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_bw&lt;/span&gt;()

&lt;span style=&#34;color:#75715e&#34;&gt;# Super bad and won&amp;#39;t even work&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(mpg, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; cty, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; hwy, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; class))
  &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_point&lt;/span&gt;()
  &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_smooth&lt;/span&gt;() 
  &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_bw&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Put each step in a dplyr pipeline on separate lines, with the &lt;code&gt;%&amp;gt;%&lt;/code&gt; at the end of the line, indented with two spaces:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Good&lt;/span&gt;
mpg &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(cty &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span style=&#34;color:#a6e22e&#34;&gt;group_by&lt;/span&gt;(class) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span style=&#34;color:#a6e22e&#34;&gt;summarize&lt;/span&gt;(avg_hwy &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;mean&lt;/span&gt;(hwy))

&lt;span style=&#34;color:#75715e&#34;&gt;# Bad&lt;/span&gt;
mpg &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(cty &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;group_by&lt;/span&gt;(class) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span style=&#34;color:#a6e22e&#34;&gt;summarize&lt;/span&gt;(avg_hwy &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;mean&lt;/span&gt;(hwy))

&lt;span style=&#34;color:#75715e&#34;&gt;# Super bad&lt;/span&gt;
mpg &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(cty &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;group_by&lt;/span&gt;(class) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;summarize&lt;/span&gt;(avg_hwy &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;mean&lt;/span&gt;(hwy))

&lt;span style=&#34;color:#75715e&#34;&gt;# Super bad and won&amp;#39;t even work&lt;/span&gt;
mpg &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(cty &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;)
  &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;group_by&lt;/span&gt;(class)
  &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;summarize&lt;/span&gt;(avg_hwy &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;mean&lt;/span&gt;(hwy))
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;comments&#34;&gt;Comments&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;See the &lt;a href=&#34;https://style.tidyverse.org/syntax.html#comments&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&amp;ldquo;Comments&amp;rdquo; section&lt;/a&gt; in the tidyverse style guide.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Comments should start with a comment symbol and a single space: &lt;code&gt;# &lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Good&lt;/span&gt;

&lt;span style=&#34;color:#75715e&#34;&gt;#Bad&lt;/span&gt;

    &lt;span style=&#34;color:#75715e&#34;&gt;#Bad&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;If the comment is really short (and won&amp;rsquo;t cause you to go over 80 characters in the line), you can include it in the same line as the code, separated by at least two spaces (it works with one space, but using a couple can enhance readability):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;mpg &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(cty &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Only rows where cty is 10 +&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;group_by&lt;/span&gt;(class) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Divide into class groups&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;summarize&lt;/span&gt;(avg_hwy &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;mean&lt;/span&gt;(hwy))  &lt;span style=&#34;color:#75715e&#34;&gt;# Find the average hwy in each group&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You can add extra spaces to get inline comments to align, if you want:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;mpg &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(cty &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;            &lt;span style=&#34;color:#75715e&#34;&gt;# Only rows where cty is 10 +&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;group_by&lt;/span&gt;(class) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;             &lt;span style=&#34;color:#75715e&#34;&gt;# Divide into class groups&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;summarize&lt;/span&gt;(avg_hwy &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;mean&lt;/span&gt;(hwy))  &lt;span style=&#34;color:#75715e&#34;&gt;# Find the average hwy in each group&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;If the comment is really long, you can break it into multiple lines. RStudio can do this for you if you go to &amp;ldquo;Code&amp;rdquo; &amp;gt; &amp;ldquo;Reflow comment&amp;rdquo;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Good&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# Happy families are all alike; every unhappy family is unhappy in its own way.&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# Everything was in confusion in the Oblonskys’ house. The wife had discovered&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# that the husband was carrying on an intrigue with a French girl, who had been&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# a governess in their family, and she had announced to her husband that she&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# could not go on living in the same house with him. This position of affairs&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# had now lasted three days, and not only the husband and wife themselves, but&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# all the members of their family and household, were painfully conscious of it.&lt;/span&gt;

&lt;span style=&#34;color:#75715e&#34;&gt;# Bad&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# Happy families are all alike; every unhappy family is unhappy in its own way. Everything was in confusion in the Oblonskys’ house. The wife had discovered that the husband was carrying on an intrigue with a French girl, who had been a governess in their family, and she had announced to her husband that she could not go on living in the same house with him. This position of affairs had now lasted three days, and not only the husband and wife themselves, but all the members of their family and household, were painfully conscious of it.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Though, if you&amp;rsquo;re dealing with comments that are &lt;em&gt;that&lt;/em&gt; long, consider putting the text in R Markdown instead and having it be actual prose.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Unzipping files</title>
      <link>/resource/unzipping/</link>
      <pubDate>Wed, 06 May 2020 00:00:00 +0000</pubDate>
      <guid>/resource/unzipping/</guid>
      <description>&lt;p&gt;Because RStudio projects typically consist of multiple files (R scripts, datasets, graphical output, etc.) the easiest way to distribute them to you for examples, assignments, and projects is to combine all the different files in to a single compressed collection called a &lt;strong&gt;zip file&lt;/strong&gt;. When you unzip a zipped file, your operating system extracts all the files that are contained inside into a new folder on your computer.&lt;/p&gt;
&lt;p&gt;Unzipping files on macOS is trivial, but unzipping files on Windows can mess you up if you don&amp;rsquo;t pay careful attention. Here&amp;rsquo;s a helpful guide to unzipping files on both macOS and Windows.&lt;/p&gt;
&lt;h2 id=&#34;unzipping-files-on-macos&#34;&gt;Unzipping files on macOS&lt;/h2&gt;
&lt;p&gt;Double click on the downloaded &lt;code&gt;.zip&lt;/code&gt; file. macOS will automatically create a new folder with the same name as the &lt;code&gt;.zip&lt;/code&gt; file, and all the file&amp;rsquo;s contents will be inside. Double click on the RStudio Project file (&lt;code&gt;.Rproj&lt;/code&gt;) to get started.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/unzipping/unzip-mac.png&#34; width=&#34;60%&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;unzipping-files-on-windows&#34;&gt;Unzipping files on Windows&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;tl;dr&lt;/strong&gt;: Right click on the &lt;code&gt;.zip&lt;/code&gt; file, select &amp;ldquo;Extract All…&amp;rdquo;, and work with the resulting unzipped folder.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Unlike macOS, Windows does &lt;em&gt;not&lt;/em&gt; automatically unzip things for you. If you double click on the &lt;code&gt;.zip&lt;/code&gt; file, Windows will show you what&amp;rsquo;s inside, but it will do so without actually extracting anything. This &lt;del&gt;can be&lt;/del&gt; is incredibly confusing! Here&amp;rsquo;s what it looks like—the only clues that this folder is really a &lt;code&gt;.zip&lt;/code&gt; file are that there&amp;rsquo;s a &amp;ldquo;Compressed Folder Tools&amp;rdquo; tab at the top, and there&amp;rsquo;s a &amp;ldquo;Ratio&amp;rdquo; column that shows how much each file is compressed.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/unzipping/inside-zip-windows.png&#34; width=&#34;80%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;It is very tempting to try to open files from this view. However, if you do, things will break and you won&amp;rsquo;t be able to correctly work with any of the files in the zipped folder. If you open the R Project file, for instance, RStudio will point to a bizarre working directory buried deep in some temporary folder:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/unzipping/temp-wd-windows.png&#34; width=&#34;60%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;You most likely won&amp;rsquo;t be able to open any data files or save anything, which will be frustrating.&lt;/p&gt;
&lt;p&gt;Instead, you need to right click on the &lt;code&gt;.zip&lt;/code&gt; file and select &amp;ldquo;Extract All…&amp;quot;:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/unzipping/extract-windows-1.png&#34; width=&#34;60%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Then choose where you want to unzip all the files and click on &amp;ldquo;Extract&amp;rdquo;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/unzipping/extract-windows-2.png&#34; width=&#34;60%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;You should then finally have a real folder with all the contents of the zipped file. Open the R Project file and RStudio will point to the correct working directory and everything will work.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/unzipping/extract-windows-3.png&#34; width=&#34;60%&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Data</title>
      <link>/resource/data/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/resource/data/</guid>
      <description>&lt;p&gt;There are a ton of places to find data related to public policy and administration (as well as data on pretty much any topic you want) online:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://tinyletter.com/data-is-plural&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;Data is Plural newsletter&lt;/strong&gt;&lt;/a&gt;: Jeremy Singer-Vine sends a weekly newsletter of the most interesting public datasets he&amp;rsquo;s found. You should subscribe to it. &lt;a href=&#34;https://docs.google.com/spreadsheets/d/1wZhPLMCHKJvwOkP4juclhjFgqIY8fQFMemwKL2c64vk/edit#gid=0&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;He also has an archive of all the datasets he&amp;rsquo;s highlighted.&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://toolbox.google.com/datasetsearch&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;Google Dataset Search&lt;/strong&gt;&lt;/a&gt;: Google indexes thousands of public datasets; search for them here.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://www.kaggle.com/datasets&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;Kaggle&lt;/strong&gt;&lt;/a&gt;: Kaggle hosts machine learning competitions where people compete to create the fastest, most efficient, most predictive algorithms. A byproduct of these competitions is a host of fascinating datasets that are generally free and open to the public. See, for example, &lt;a href=&#34;https://www.kaggle.com/hugomathien/soccer&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;the European Soccer Database&lt;/a&gt;, the &lt;a href=&#34;https://www.kaggle.com/rtatman/salem-witchcraft-dataset&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Salem Witchcraft Dataset&lt;/a&gt; or results from an &lt;a href=&#34;https://www.kaggle.com/rtatman/oreo-flavors-tastetest-ratings&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Oreo flavors taste test&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://www.threesixtygiving.org/data/data-registry/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;360Giving&lt;/strong&gt;&lt;/a&gt;: Dozens of British foundations follow a standard file format for sharing grant data and have made that data available online.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://us-cities.survey.okfn.org/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;US City Open Data Census&lt;/strong&gt;&lt;/a&gt;: More than 100 US cities have committed to sharing dozens of types of data, including data about crime, budgets, campaign finance, lobbying, transit, and zoning. This site from the &lt;a href=&#34;http://sunlightfoundation.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Sunlight Foundation&lt;/a&gt; and &lt;a href=&#34;http://www.codeforamerica.org//&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Code for America&lt;/a&gt; collects this data and rates cities by how well they&amp;rsquo;re doing.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Political science and economics datasets&lt;/strong&gt;: There&amp;rsquo;s a wealth of data available for political science- and economics-related topics:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/briatte/srqm/wiki/Data&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;François Briatte&amp;rsquo;s extensive curated lists&lt;/strong&gt;&lt;/a&gt;: Includes data from/about intergovernmental organizations (IGOs), nongovernmental organizations (NGOs), public opinion surveys, parliaments and legislatures, wars, human rights, elections, and municipalities.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/leeper/poliscitoys/issues/1&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;Thomas Leeper&amp;rsquo;s list of political science datasets&lt;/strong&gt;&lt;/a&gt;: Good short list of useful datasets, divided by type of data (country-level data, survey data, social media data, event data, text data, etc.).&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/erikgahner/PolData&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;Erik Gahner&amp;rsquo;s list of political science datasets&lt;/strong&gt;&lt;/a&gt;: Huge list of useful datasets, divided by topic (governance, elections, policy, political elites, etc.)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Mixtape-style R code translations</title>
      <link>/resource/mixtape-diffs/</link>
      <pubDate>Mon, 04 Jan 2021 00:00:00 +0000</pubDate>
      <guid>/resource/mixtape-diffs/</guid>
      <description>&lt;script src=&#34;/rmarkdown-libs/kePrint-0.0.1/kePrint.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;/rmarkdown-libs/lightable-0.0.1/lightable.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;p&gt;&lt;a href=&#34;https://mixtape.scunning.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;em&gt;Causal Inference: The Mixtape&lt;/em&gt;&lt;/a&gt; includes code examples in both Stata and R, which is so cool! The previous PDF-only version of the book only had Stata code, so it was hard to follow along with in this class.&lt;/p&gt;
&lt;p&gt;As you&amp;rsquo;ll note throughout this class, there are lots of ways to do things in R. You&amp;rsquo;ll come across code in the RStudio forums and on StackOverflow that works, but looks slightly different than you&amp;rsquo;re used to. In this class, we use the &lt;a href=&#34;&#34;&gt;tidyverse&lt;/a&gt;, or a set of packages that all work together nicely like &lt;strong&gt;ggplot2&lt;/strong&gt;, &lt;strong&gt;dplyr&lt;/strong&gt;, and others.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;The Mixtape&lt;/em&gt; also uses tidyverse (yay!), but has a couple code quirks and differences. Because the HTML version of the book (with R code) only came out on January 3, I haven&amp;rsquo;t had time to find all the differences, so I&amp;rsquo;ll keep a running list here.&lt;/p&gt;
&lt;h2 id=&#34;loading-data&#34;&gt;Loading data&lt;/h2&gt;
&lt;p&gt;Throughout &lt;em&gt;The Mixtape&lt;/em&gt;, the code examples load data from external files stored online. The code provided for loading this data is a little more complicated than it needs to be. For instance, consider &lt;a href=&#34;https://mixtape.scunning.com/ch3.html#statistical-inference&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;this from Section 4.0.1&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(tidyverse)
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(haven)

read_data &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;function&lt;/span&gt;(df)
{
  full_path &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;paste&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://raw.github.com/scunning1975/mixtape/master/&amp;#34;&lt;/span&gt;, 
                     df, sep &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;)
  df &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;read_dta&lt;/span&gt;(full_path)
  &lt;span style=&#34;color:#a6e22e&#34;&gt;return&lt;/span&gt;(df)
}

yule &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;read_data&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;yule.dta&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(paup &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; outrelief &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; old &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; pop, .)
  
&lt;span style=&#34;color:#a6e22e&#34;&gt;summary&lt;/span&gt;(yule)
&lt;span style=&#34;color:#75715e&#34;&gt;## &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## Call:&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## lm(formula = paup ~ outrelief + old + pop, data = .)&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## Residuals:&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##    Min     1Q Median     3Q    Max &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## -17.48  -5.31  -1.83   3.13  25.34 &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## Coefficients:&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##             Estimate Std. Error t value Pr(&amp;gt;|t|)    &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## (Intercept)  63.1877    27.1439    2.33    0.027 *  &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## outrelief     0.7521     0.1350    5.57  5.8e-06 ***&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## old           0.0556     0.2234    0.25    0.805    &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## pop          -0.3107     0.0669   -4.65  7.3e-05 ***&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## ---&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## Residual standard error: 9.6 on 28 degrees of freedom&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## Multiple R-squared:  0.697,	Adjusted R-squared:  0.665 &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## F-statistic: 21.5 on 3 and 28 DF,  p-value: 2e-07&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Here, &lt;em&gt;The Mixtape&lt;/em&gt; authors created a custom function named &lt;code&gt;read_data()&lt;/code&gt; that loads a Stata file from a URL at GitHub. They then run a model on that data and store the results as an object named &lt;code&gt;yule&lt;/code&gt;. It works, but it&amp;rsquo;s not the most efficient way to do this for a few reasons:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;You don&amp;rsquo;t need that whole custom &lt;code&gt;read_data()&lt;/code&gt; function. Instead you can feed &lt;code&gt;read_dta()&lt;/code&gt; a full URL and load it like that&lt;/li&gt;
&lt;li&gt;It&amp;rsquo;s best if you save the data as an object by itself, &lt;em&gt;then&lt;/em&gt; use it to create models. As it stands now, you can&amp;rsquo;t look at the &lt;code&gt;yule.dta&lt;/code&gt; file or make scatterplots or do anything with the data, since the results that are stored as &lt;code&gt;yule&lt;/code&gt; are the results from the model, not the data itself.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Instead, this is an easier way to load the data and run the model:&lt;/p&gt;
&lt;h3 id=&#34;translation&#34;&gt;Translation&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Mixtape version&lt;/span&gt;
read_data &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;function&lt;/span&gt;(df)
{
  full_path &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;paste&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://raw.github.com/scunning1975/mixtape/master/&amp;#34;&lt;/span&gt;, 
                     df, sep &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;)
  df &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;read_dta&lt;/span&gt;(full_path)
  &lt;span style=&#34;color:#a6e22e&#34;&gt;return&lt;/span&gt;(df)
}

yule &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;read_data&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;yule.dta&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(paup &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; outrelief &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; old &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; pop, .)

&lt;span style=&#34;color:#a6e22e&#34;&gt;summary&lt;/span&gt;(yule)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Our class version&lt;/span&gt;
yule_data &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;read_dta&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://raw.github.com/scunning1975/mixtape/master/yule.dta&amp;#34;&lt;/span&gt;)

yule_model &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(paup &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; outrelief &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; old &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; pop,
                 data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; yule_data)

&lt;span style=&#34;color:#a6e22e&#34;&gt;summary&lt;/span&gt;(yule_model)
&lt;span style=&#34;color:#75715e&#34;&gt;## &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## Call:&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## lm(formula = paup ~ outrelief + old + pop, data = yule_data)&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## Residuals:&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##    Min     1Q Median     3Q    Max &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## -17.48  -5.31  -1.83   3.13  25.34 &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## Coefficients:&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##             Estimate Std. Error t value Pr(&amp;gt;|t|)    &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## (Intercept)  63.1877    27.1439    2.33    0.027 *  &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## outrelief     0.7521     0.1350    5.57  5.8e-06 ***&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## old           0.0556     0.2234    0.25    0.805    &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## pop          -0.3107     0.0669   -4.65  7.3e-05 ***&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## ---&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## Residual standard error: 9.6 on 28 degrees of freedom&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## Multiple R-squared:  0.697,	Adjusted R-squared:  0.665 &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## F-statistic: 21.5 on 3 and 28 DF,  p-value: 2e-07&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Even better, instead of using &lt;code&gt;summary(yule_model)&lt;/code&gt;, you can use &lt;code&gt;tidy()&lt;/code&gt; and &lt;code&gt;glance()&lt;/code&gt; from the &lt;strong&gt;broom&lt;/strong&gt; library, which convert any kind of model object into standard data frames:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(broom)  &lt;span style=&#34;color:#75715e&#34;&gt;# You only need to run this once&lt;/span&gt;

&lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;(yule_model)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 4 x 5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   term        estimate std.error statistic    p.value&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;      &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 (Intercept)  63.2      27.1        2.33  0.0274    &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 outrelief     0.752     0.135      5.57  0.00000583&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3 old           0.0556    0.223      0.249 0.805     &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 4 pop          -0.311     0.0669    -4.65  0.0000725&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;glance&lt;/span&gt;(yule_model)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 1 x 12&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   r.squared adj.r.squared sigma statistic     p.value    df logLik   AIC   BIC deviance df.residual  nobs&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##       &amp;lt;dbl&amp;gt;         &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;       &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;       &amp;lt;int&amp;gt; &amp;lt;int&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1     0.697         0.665  9.55      21.5 0.000000200     3  -115.  241.  248.    2552.          28    32&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;side-by-side-regression-tables-stargazer-vs-modelsummary&#34;&gt;Side-by-side regression tables: stargazer vs. modelsummary&lt;/h2&gt;
&lt;p&gt;Side-by-side regression tables are a standard feature of economics, political science, and policy articles and reports. They conveniently let you see the results from multiple regresison models in one table. &lt;a href=&#34;http://svmiller.com/blog/2014/08/reading-a-regression-table-a-guide-for-students/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;This blog post here goes into detail about how to read them&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;There are several R packages for creating these tables automatically. One of the earliest is named &lt;strong&gt;stargazer&lt;/strong&gt;, and tons of people still use it—including &lt;em&gt;The Mixtape&lt;/em&gt;. For instance, Section 3.1.5 in &lt;em&gt;The Mixtape&lt;/em&gt; shows an example of discrimination and collider bias and the code there shows three regression models side by side:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;collider_discrimination.R&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;set.seed&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1234&lt;/span&gt;)

&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(tidyverse)
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(stargazer)

tb &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;tibble&lt;/span&gt;(
  female &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ifelse&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;runif&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;10000&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.5&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;),
  ability &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rnorm&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;10000&lt;/span&gt;),
  discrimination &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; female,
  occupation &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;ability &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;female &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;discrimination &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rnorm&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;10000&lt;/span&gt;),
  wage &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;discrimination &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;occupation &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;ability &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rnorm&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;10000&lt;/span&gt;) 
)

lm_1 &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(wage &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; female, tb)
lm_2 &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(wage &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; female &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; occupation, tb)
lm_3 &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(wage &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; female &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; occupation &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; ability, tb)

&lt;span style=&#34;color:#a6e22e&#34;&gt;stargazer&lt;/span&gt;(lm_1, lm_2, lm_3, type &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;html&amp;#34;&lt;/span&gt;, 
          column.labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Biased Unconditional&amp;#34;&lt;/span&gt;, 
                            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Biased&amp;#34;&lt;/span&gt;,
                            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Unbiased Conditional&amp;#34;&lt;/span&gt;))
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;table style=&#34;text-align:center&#34;&gt;&lt;tr&gt;&lt;td colspan=&#34;4&#34; style=&#34;border-bottom: 1px solid black&#34;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;&lt;td colspan=&#34;3&#34;&gt;&lt;em&gt;Dependent variable:&lt;/em&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td colspan=&#34;3&#34; style=&#34;border-bottom: 1px solid black&#34;&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;&lt;td colspan=&#34;3&#34;&gt;wage&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;&lt;td&gt;Biased Unconditional&lt;/td&gt;&lt;td&gt;Biased&lt;/td&gt;&lt;td&gt;Unbiased Conditional&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;&lt;td&gt;(1)&lt;/td&gt;&lt;td&gt;(2)&lt;/td&gt;&lt;td&gt;(3)&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td colspan=&#34;4&#34; style=&#34;border-bottom: 1px solid black&#34;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&#34;text-align:left&#34;&gt;female&lt;/td&gt;&lt;td&gt;-2.900&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;td&gt;0.560&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;td&gt;-0.980&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;&lt;td&gt;(0.084)&lt;/td&gt;&lt;td&gt;(0.029)&lt;/td&gt;&lt;td&gt;(0.028)&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style=&#34;text-align:left&#34;&gt;occupation&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;1.800&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;td&gt;0.990&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;(0.006)&lt;/td&gt;&lt;td&gt;(0.010)&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style=&#34;text-align:left&#34;&gt;ability&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;2.000&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;(0.023)&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style=&#34;text-align:left&#34;&gt;Constant&lt;/td&gt;&lt;td&gt;2.000&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;td&gt;0.240&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;td&gt;1.000&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;&lt;td&gt;(0.060)&lt;/td&gt;&lt;td&gt;(0.020)&lt;/td&gt;&lt;td&gt;(0.017)&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style=&#34;text-align:left&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td colspan=&#34;4&#34; style=&#34;border-bottom: 1px solid black&#34;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&#34;text-align:left&#34;&gt;Observations&lt;/td&gt;&lt;td&gt;10,000&lt;/td&gt;&lt;td&gt;10,000&lt;/td&gt;&lt;td&gt;10,000&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style=&#34;text-align:left&#34;&gt;R&lt;sup&gt;2&lt;/sup&gt;&lt;/td&gt;&lt;td&gt;0.110&lt;/td&gt;&lt;td&gt;0.910&lt;/td&gt;&lt;td&gt;0.950&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style=&#34;text-align:left&#34;&gt;Adjusted R&lt;sup&gt;2&lt;/sup&gt;&lt;/td&gt;&lt;td&gt;0.110&lt;/td&gt;&lt;td&gt;0.910&lt;/td&gt;&lt;td&gt;0.950&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style=&#34;text-align:left&#34;&gt;Residual Std. Error&lt;/td&gt;&lt;td&gt;4.200 (df = 9998)&lt;/td&gt;&lt;td&gt;1.300 (df = 9997)&lt;/td&gt;&lt;td&gt;1.000 (df = 9996)&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td style=&#34;text-align:left&#34;&gt;F Statistic&lt;/td&gt;&lt;td&gt;1,208.000&lt;sup&gt;***&lt;/sup&gt; (df = 1; 9998)&lt;/td&gt;&lt;td&gt;50,089.000&lt;sup&gt;***&lt;/sup&gt; (df = 2; 9997)&lt;/td&gt;&lt;td&gt;62,279.000&lt;sup&gt;***&lt;/sup&gt; (df = 3; 9996)&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td colspan=&#34;4&#34; style=&#34;border-bottom: 1px solid black&#34;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&#34;text-align:left&#34;&gt;&lt;em&gt;Note:&lt;/em&gt;&lt;/td&gt;&lt;td colspan=&#34;3&#34; style=&#34;text-align:right&#34;&gt;&lt;sup&gt;*&lt;/sup&gt;p&lt;0.1; &lt;sup&gt;**&lt;/sup&gt;p&lt;0.05; &lt;sup&gt;***&lt;/sup&gt;p&lt;0.01&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;
&lt;p&gt;Neat. That works, and there are a ton of additional options you can feed to &lt;code&gt;stargazer()&lt;/code&gt;—run &lt;code&gt;?stargazer&lt;/code&gt; or search in the Help pane for &amp;ldquo;stargazer&amp;rdquo; to see more.&lt;/p&gt;
&lt;p&gt;However, I&amp;rsquo;m not a fan of &lt;strong&gt;stargazer&lt;/strong&gt; for a few reasons:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Stargazer tables won&amp;rsquo;t knit to Word&lt;/li&gt;
&lt;li&gt;You have to use different syntax when you&amp;rsquo;re knitting to PDF vs. HTML (i.e. you have to change the &lt;code&gt;type&lt;/code&gt; argument)&lt;/li&gt;
&lt;li&gt;Stargazer handles basic models like &lt;code&gt;lm()&lt;/code&gt; and &lt;code&gt;glm()&lt;/code&gt; well, but doesn&amp;rsquo;t support newer things since (1) it hasn&amp;rsquo;t been updated for a while, and (2) support for any newer models has to be built-in by hand by the developer.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In this class we won&amp;rsquo;t use &lt;strong&gt;stargazer&lt;/strong&gt;. Instead, we&amp;rsquo;ll use the newer &lt;a href=&#34;https://vincentarelbundock.github.io/modelsummary/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;modelsummary&lt;/strong&gt; package&lt;/a&gt;, which addresses all of the issues with Stargazer:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;modelsummary&lt;/strong&gt; tables knit to Word&lt;/li&gt;
&lt;li&gt;You don&amp;rsquo;t have to use any special syntax when knitting documents with &lt;strong&gt;modelsummary&lt;/strong&gt; tables—knit to PDF and they&amp;rsquo;ll show up in the PDF; knit to Word and they&amp;rsquo;ll show up in the Word file; knit to HTML and they&amp;rsquo;ll show up there&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;modelsummary&lt;/strong&gt; handles any model that is supported by the &lt;strong&gt;broom&lt;/strong&gt; package (basically, if you ran run &lt;code&gt;tidy()&lt;/code&gt; on it, you can stick it in a table with &lt;strong&gt;modelsummary&lt;/strong&gt;). If a model doesn&amp;rsquo;t support broom yet, you can actually add that support yourself. For instance, nonparametric regression discontinuity models made with the &lt;strong&gt;rdrobust&lt;/strong&gt; package don&amp;rsquo;t work in either &lt;strong&gt;stargazer&lt;/strong&gt; or &lt;strong&gt;modelsummary&lt;/strong&gt;. They&amp;rsquo;ll probably never be added to &lt;strong&gt;stargazer&lt;/strong&gt;, but if you &lt;a href=&#34;https://github.com/tidymodels/broom/issues/777#issuecomment-643251123&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;include the code here&lt;/a&gt; in your document, you can add &lt;strong&gt;rdrobust&lt;/strong&gt; models to &lt;code&gt;modelsummary()&lt;/code&gt;. Magic!&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The syntax for &lt;code&gt;modelsummary()&lt;/code&gt; is a little different from &lt;code&gt;stargazer()&lt;/code&gt;. Here&amp;rsquo;s how to recreate the same table from before:&lt;/p&gt;
&lt;h3 id=&#34;translation-1&#34;&gt;Translation&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Stargazer version&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;stargazer&lt;/span&gt;(lm_1, lm_2, lm_3, type &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;text&amp;#34;&lt;/span&gt;, 
          column.labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Biased Unconditional&amp;#34;&lt;/span&gt;, 
                            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Biased&amp;#34;&lt;/span&gt;,
                            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Unbiased Conditional&amp;#34;&lt;/span&gt;))
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# modelsummary version&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(modelsummary)  &lt;span style=&#34;color:#75715e&#34;&gt;# You only need to run this once&lt;/span&gt;

&lt;span style=&#34;color:#a6e22e&#34;&gt;modelsummary&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Biased Unconditional&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; lm_1, 
                  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Biased&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; lm_2, 
                  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Unbiased Conditional&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; lm_3),
             stars &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;table class=&#34;table&#34; style=&#34;width: auto !important; margin-left: auto; margin-right: auto;&#34;&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style=&#34;text-align:left;&#34;&gt;   &lt;/th&gt;
   &lt;th style=&#34;text-align:center;&#34;&gt; Biased Unconditional &lt;/th&gt;
   &lt;th style=&#34;text-align:center;&#34;&gt; Biased &lt;/th&gt;
   &lt;th style=&#34;text-align:center;&#34;&gt; Unbiased Conditional &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; (Intercept) &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 2.015*** &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 0.245*** &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 1.005*** &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; (0.060) &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; (0.020) &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; (0.017) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; female &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; -2.933*** &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 0.561*** &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; -0.984*** &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; (0.084) &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; (0.029) &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; (0.028) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; occupation &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 1.790*** &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 0.995*** &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; (0.006) &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; (0.010) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; ability &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 2.007*** &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; (0.023) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; Num.Obs. &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 10000 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 10000 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 10000 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; R2 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 0.108 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 0.909 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 0.949 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; R2 Adj. &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 0.108 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 0.909 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 0.949 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; AIC &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 57175.7 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 34320.7 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 28518.8 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; BIC &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 57197.3 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 34349.6 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 28554.9 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; Log.Lik. &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; -28584.837 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; -17156.358 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; -14254.399 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; F &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 1208.290 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 50089.046 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 62279.460 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;tfoot&gt;
&lt;tr&gt;
&lt;td style=&#34;padding: 0; border:0;&#34; colspan=&#34;100%&#34;&gt;
&lt;sup&gt;&lt;/sup&gt; * p &amp;lt; 0.1, ** p &amp;lt; 0.05, *** p &amp;lt; 0.01&lt;/td&gt;
&lt;/tr&gt;
&lt;/tfoot&gt;
&lt;/table&gt;
&lt;p&gt;That&amp;rsquo;s it! You feed &lt;code&gt;modelsummary()&lt;/code&gt; a list of models. If you name the elements of the list, you&amp;rsquo;ll get column headings.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;modelsummary()&lt;/code&gt; function has a ton of options for changing the appearance, adding extra rows, omitting rows, highlighting rows, etc. &lt;a href=&#34;https://vincentarelbundock.github.io/modelsummary/articles/modelsummary.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;See this page for examples.&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Citations and bibliography</title>
      <link>/resource/citations/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/resource/citations/</guid>
      <description>&lt;p&gt;You can &lt;a href=&#34;/bib/references.bib&#34;&gt;download a BibTeX file&lt;/a&gt; of all the non-web-based readings in the course:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/bib/references.bib&#34;&gt;&lt;i class=&#34;fas fa-book&#34;&gt;&lt;/i&gt; &lt;code&gt;references.bib&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can open the file in &lt;a href=&#34;http://bibdesk.sourceforge.net/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;BibDesk on macOS&lt;/a&gt;, &lt;a href=&#34;http://www.jabref.org/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;JabRef on Windows&lt;/a&gt;, or &lt;a href=&#34;https://www.zotero.org/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Zotero&lt;/a&gt; or &lt;a href=&#34;https://www.mendeley.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Mendeley&lt;/a&gt; online.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Calidad de modelos y otras técnicas</title>
      <link>/content/11-content/</link>
      <pubDate>Mon, 08 Nov 2021 00:00:00 +0000</pubDate>
      <guid>/content/11-content/</guid>
      <description>&lt;h2 id=&#34;readings&#34;&gt;Readings&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-book&#34;&gt;&lt;/i&gt; Chapter 5 in &lt;em&gt;Impact Evaluation in Practice&lt;/em&gt;&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-book&#34;&gt;&lt;/i&gt; Chapter 3 in &lt;em&gt;Mastering ’Metrics&lt;/em&gt;&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-book&#34;&gt;&lt;/i&gt; &lt;a href=&#34;https://mixtape.scunning.com/ch6.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Chapter 7, “Instrumental variables”&lt;/a&gt; in &lt;em&gt;Causal Inference: The Mixtape&lt;/em&gt;&lt;sup id=&#34;fnref:3&#34;&gt;&lt;a href=&#34;#fn:3&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;3&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;instrumental-variables&#34;&gt;Instrumental variables&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;The &lt;a href=&#34;/example/iv/&#34;&gt;example page on instrumental variables&lt;/a&gt; shows how to use R to analyze and estimate causal effects with instrumental variables&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;slides&#34;&gt;Slides&lt;/h2&gt;
&lt;p&gt;The slides for today’s lesson are available online as an HTML file. Use the buttons below to open the slides either as an interactive website or as a static PDF (for printing or storing for later). You can also click in the slides below and navigate through them with your left and right arrow keys.&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;btn btn-primary btn-lg&#34; target=&#34;_blank&#34; href=&#34;/slides/11-slides.html&#34;&gt;&lt;i class=&#34;fas fa-external-link-alt&#34;&gt;&lt;/i&gt; View all slides in new window&lt;/a&gt; &lt;a class=&#34;btn btn-primary btn-lg&#34; target=&#34;_blank&#34; href=&#34;/slides/11-slides.pdf&#34; role=&#34;button&#34;&gt;&lt;i class=&#34;far fa-file-pdf&#34;&gt;&lt;/i&gt; Download PDF of all slides&lt;/a&gt;&lt;/p&gt;
&lt;ul class=&#34;nav nav-tabs&#34; id=&#34;slide-tabs&#34; role=&#34;tablist&#34;&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link active&#34; id=&#34;introduction-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#introduction&#34; role=&#34;tab&#34; aria-controls=&#34;introduction&#34; aria-selected=&#34;true&#34;&gt;Introduction&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link&#34; id=&#34;endogeneity-and-exogeneity-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#endogeneity-and-exogeneity&#34; role=&#34;tab&#34; aria-controls=&#34;endogeneity-and-exogeneity&#34; aria-selected=&#34;false&#34;&gt;Endogeneity and exogeneity&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link&#34; id=&#34;instruments-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#instruments&#34; role=&#34;tab&#34; aria-controls=&#34;instruments&#34; aria-selected=&#34;false&#34;&gt;Instruments&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link&#34; id=&#34;using-instruments-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#using-instruments&#34; role=&#34;tab&#34; aria-controls=&#34;using-instruments&#34; aria-selected=&#34;false&#34;&gt;Using instruments&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;slide-tabs&#34; class=&#34;tab-content&#34;&gt;
&lt;div id=&#34;introduction&#34; class=&#34;tab-pane fade show active&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;introduction-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/11-slides.html#1&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;endogeneity-and-exogeneity&#34; class=&#34;tab-pane fade&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;endogeneity-and-exogeneity-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/11-slides.html#endo-exo&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;instruments&#34; class=&#34;tab-pane fade&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;instruments-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/11-slides.html#instruments&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;using-instruments&#34; class=&#34;tab-pane fade&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;using-instruments-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/11-slides.html#using-instruments&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;fyi&#34;&gt;
&lt;strong&gt;Fun fact&lt;/strong&gt;: If you type &lt;kbd&gt;?&lt;/kbd&gt; (or &lt;kbd&gt;shift&lt;/kbd&gt; + &lt;kbd&gt;/&lt;/kbd&gt;) while going through the slides, you can see a list of special slide-specific commands.
&lt;/div&gt;
&lt;h2 id=&#34;videos&#34;&gt;Videos&lt;/h2&gt;
&lt;p&gt;Videos for each section of the lecture are &lt;a href=&#34;https://www.youtube.com/playlist?list=PLS6tnpTr39sEsOSeMK19h6RWUB5kHrn0q&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;available at this YouTube playlist&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=2L4h_XRrNAg&amp;amp;list=PLS6tnpTr39sEsOSeMK19h6RWUB5kHrn0q&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Introduction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=fLJKAMSXDyw&amp;amp;list=PLS6tnpTr39sEsOSeMK19h6RWUB5kHrn0q&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Endogeneity and exogeneity&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=915d3OMaWNA&amp;amp;list=PLS6tnpTr39sEsOSeMK19h6RWUB5kHrn0q&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Instruments&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=rCMQkrVIKOc&amp;amp;list=PLS6tnpTr39sEsOSeMK19h6RWUB5kHrn0q&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Using instruments&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can also watch the playlist (and skip around to different sections) here:&lt;/p&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;https://www.youtube.com/embed/playlist?list=PLS6tnpTr39sEsOSeMK19h6RWUB5kHrn0q&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Paul J. Gertler et al., &lt;em&gt;Impact Evaluation in Practice&lt;/em&gt;, 2nd ed. (Inter-American Development Bank; World Bank, 2016), &lt;a href=&#34;https://openknowledge.worldbank.org/handle/10986/25030&#34;&gt;https://openknowledge.worldbank.org/handle/10986/25030&lt;/a&gt;. &lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Joshua D. Angrist and Jörn-Steffen Pischke, &lt;em&gt;Mastering ’Metrics: The Path from Cause to Effect&lt;/em&gt; (Princeton, NJ: Princeton University Press, 2015). &lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:3&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Scott Cunningham, &lt;em&gt;Causal Inference: The Mixtape&lt;/em&gt; (New Haven, CT: Yale University Press, 2021), &lt;a href=&#34;https://mixtape.scunning.com/&#34;&gt;https://mixtape.scunning.com/&lt;/a&gt;. &lt;a href=&#34;#fnref:3&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
    </item>
    
    <item>
      <title>Calidad de modelos y otras técnicas de estimación</title>
      <link>/example/11-practico/</link>
      <pubDate>Mon, 08 Nov 2021 00:00:00 +0000</pubDate>
      <guid>/example/11-practico/</guid>
      <description>&lt;h2 id=&#34;dags-with-dagittynet&#34;&gt;DAGs with dagitty.net&lt;/h2&gt;
&lt;p&gt;The easiest way to quickly build DAGs and find adjustment sets and testable implications is to use &lt;a href=&#34;http://dagitty.net/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;dagitty.net&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This video shows how to use it:&lt;/p&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;https://www.youtube.com/embed/3euqrnD9w7c&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;h2 id=&#34;dags-with-r-ggdag-and-dagitty&#34;&gt;DAGs with R, ggdag, and dagitty&lt;/h2&gt;
&lt;p&gt;You can use the &lt;a href=&#34;https://ggdag.malco.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;ggdag&lt;/strong&gt;&lt;/a&gt; and &lt;a href=&#34;http://dagitty.net/primer/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;dagitty&lt;/strong&gt;&lt;/a&gt; packages in R to build and work with DAGs too. I typically draw an initial DAG in my browser with dagitty.net and then I rewrite it in code in R so that it&amp;rsquo;s more official and formal and reproducible.&lt;/p&gt;
&lt;h3 id=&#34;live-coding-example&#34;&gt;Live coding example&lt;/h3&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;https://www.youtube.com/embed/uoAjyyToUTE&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;h3 id=&#34;basic-dags&#34;&gt;Basic DAGs&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;(This is a heavily cleaned up and annotated version of the code from the video.)&lt;/em&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Load packages&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(tidyverse)  &lt;span style=&#34;color:#75715e&#34;&gt;# For dplyr, ggplot, and friends&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(ggdag)      &lt;span style=&#34;color:#75715e&#34;&gt;# For plotting DAGs&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(dagitty)    &lt;span style=&#34;color:#75715e&#34;&gt;# For working with DAG logic&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The general process for making and working with DAGs in R is to create a DAG object with &lt;code&gt;dagify()&lt;/code&gt; and then plot it with &lt;code&gt;ggdag()&lt;/code&gt;. The documentation for &lt;strong&gt;ggdag&lt;/strong&gt; is really good and helpful and full of examples. Check these pages for all sorts of additional details:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://ggdag.malco.io/articles/intro-to-ggdag.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&amp;ldquo;An introduction to ggdag&amp;rdquo;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://ggdag.malco.io/articles/intro-to-dags.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&amp;ldquo;An introduction to directed acyclic graphs&amp;rdquo;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://ggdag.malco.io/reference/index.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;List of all ggdag-related functions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The syntax for &lt;code&gt;dagify()&lt;/code&gt; is similar to the formula syntax you&amp;rsquo;ve been using for building regression models with &lt;code&gt;lm()&lt;/code&gt;. The formulas you use in &lt;code&gt;dagify()&lt;/code&gt; indicate the relationships between nodes.&lt;/p&gt;
&lt;p&gt;For instance, in this DAG, &lt;code&gt;y&lt;/code&gt; is caused by &lt;code&gt;x&lt;/code&gt;, &lt;code&gt;a&lt;/code&gt;, and &lt;code&gt;b&lt;/code&gt; (&lt;code&gt;y ~ x + a + b&lt;/code&gt;), and &lt;code&gt;x&lt;/code&gt; is caused by &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; (&lt;code&gt;x ~ a + b&lt;/code&gt;). This means that &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; are confounders. Use the &lt;code&gt;exposure&lt;/code&gt; and &lt;code&gt;outcome&lt;/code&gt; arguments to specify which nodes are the exposure (or treatment/intervention/program) and the outcome.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Create super basic DAG&lt;/span&gt;
simple_dag &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  y &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  x &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;x&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;y&amp;#34;&lt;/span&gt;
)

&lt;span style=&#34;color:#75715e&#34;&gt;# Adding a theme_dag() layer to the plot makes it have a white background with no axis labels&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag&lt;/span&gt;(simple_dag) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/11-practico_files/figure-html/super-basic-dag-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;If you want to plot which nodes are the exposure and outcome, use &lt;code&gt;ggdag_status()&lt;/code&gt; instead:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(simple_dag) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/11-practico_files/figure-html/simple-status-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;layouts-and-manual-coordinates&#34;&gt;Layouts and manual coordinates&lt;/h3&gt;
&lt;p&gt;Notice how the layout is different in both of those graphs. By default, &lt;code&gt;ggdag()&lt;/code&gt; positions the nodes randomly every time using a network algorithm. You can change the algorithm by using the &lt;code&gt;layout&lt;/code&gt; argument: &lt;code&gt;ggdag(simple_dag, layout = &amp;quot;nicely&amp;quot;)&lt;/code&gt;. You can see a full list of possible algorithms by running &lt;code&gt;?layout_tbl_graph_igraph&lt;/code&gt; in the console.&lt;/p&gt;
&lt;p&gt;Alternatively, you can specify your own coordinates so that the nodes are positioned in the same place every time. Do this with the &lt;code&gt;coords&lt;/code&gt; argument in &lt;code&gt;dagify()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The best way to figure out what these numbers should be is to draw the DAG on paper or on a whiteboard and add a grid to it and then figure out the coordinates. For instance, in this DAG there are three rows and three columns: &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt; go in the middle row (row 2) while &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; go in the middle column (column 2). It can also be helpful to not include &lt;code&gt;theme_dag()&lt;/code&gt; at first so you can see the numbers for the underlying grid. Once you have everything positioned correctly, add &lt;code&gt;theme_dag()&lt;/code&gt; to clean it up.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;simple_dag_with_coords &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  y &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  x &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;x&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;y&amp;#34;&lt;/span&gt;,
  coords &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;),
                y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;))
)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(simple_dag_with_coords) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/11-practico_files/figure-html/dag-with-coords-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;node-names-and-labels&#34;&gt;Node names and labels&lt;/h3&gt;
&lt;p&gt;The variable names you use do not have to be limited to just &lt;code&gt;x&lt;/code&gt;, &lt;code&gt;y&lt;/code&gt;, and other lowercase letters. You can any names you want, as long as there are no spaces.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;dag_with_var_names &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; treatment &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; confounder1 &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; confounder2,
  treatment &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; confounder1 &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; confounder2,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;treatment&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;outcome&amp;#34;&lt;/span&gt;
)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(dag_with_var_names) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/11-practico_files/figure-html/dag-with-names-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;However, unless you use very short names, it is likely that the text will not fit inside the nodes. To get around this, you can add labels to the nodes using the &lt;code&gt;labels&lt;/code&gt; argument in &lt;code&gt;dagify()&lt;/code&gt;. Plot the labels by setting &lt;code&gt;use_labels = &amp;quot;label&amp;quot;&lt;/code&gt; in &lt;code&gt;ggdag()&lt;/code&gt;. You can turn off the text in the nodes with &lt;code&gt;text = FALSE&lt;/code&gt; in &lt;code&gt;ggdag()&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;simple_dag_with_coords_and_labels &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  y &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  x &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;x&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;y&amp;#34;&lt;/span&gt;,
  labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Outcome&amp;#34;&lt;/span&gt;, x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Treatment&amp;#34;&lt;/span&gt;,
             a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Confounder 1&amp;#34;&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Confounder 2&amp;#34;&lt;/span&gt;),
  coords &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;),
                y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;))
)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(simple_dag_with_coords_and_labels,
             use_labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;, text &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;guides&lt;/span&gt;(fill &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Disable the legend&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/11-practico_files/figure-html/dag-with-labels-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;paths-and-adjustment-sets&#34;&gt;Paths and adjustment sets&lt;/h3&gt;
&lt;p&gt;R can also perform analysis on DAG objects. For example, we can find all the testable implications from the DAG using the &lt;code&gt;impliedConditionalIndependencies()&lt;/code&gt; function from the &lt;strong&gt;dagitty&lt;/strong&gt; package. For this simple DAG, there is only one: &lt;code&gt;a&lt;/code&gt; should be independent of &lt;code&gt;b&lt;/code&gt;. If we had a dataset with columns for each of these variables, we could check if this is true by running &lt;code&gt;cor(a, b)&lt;/code&gt; to see if the two are related.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;impliedConditionalIndependencies&lt;/span&gt;(simple_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## a _||_ b&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We can also find all the paths between &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt; using the &lt;code&gt;paths()&lt;/code&gt; function from the &lt;strong&gt;dagitty&lt;/strong&gt; package. We can see that there are three open paths between &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;paths&lt;/span&gt;(simple_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## $paths&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] &amp;#34;x -&amp;gt; y&amp;#34;      &amp;#34;x &amp;lt;- a -&amp;gt; y&amp;#34; &amp;#34;x &amp;lt;- b -&amp;gt; y&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## $open&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] TRUE TRUE TRUE&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The first open path is fine—we want a single &lt;em&gt;d&lt;/em&gt;-connected relationship between treatment and outcome—but the other two indicate that there is confounding from &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt;. We can see what each of these paths are with the &lt;code&gt;ggdag_paths()&lt;/code&gt; function from the &lt;strong&gt;ggdag&lt;/strong&gt; package:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_paths&lt;/span&gt;(simple_dag_with_coords) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/11-practico_files/figure-html/plot-dag-paths-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Instead of listing out all the possible paths and identifying backdoors by hand, you can use the &lt;code&gt;adjustmentSets()&lt;/code&gt; function in the &lt;strong&gt;dagitty&lt;/strong&gt; package to programmatically find all the nodes that need to be adjusted. Here we see that both &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; need to be controlled for to isolate the &lt;code&gt;x -&amp;gt; y&lt;/code&gt; relationship.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;adjustmentSets&lt;/span&gt;(simple_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## { a, b }&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You can also visualize the adjustment sets with &lt;code&gt;ggdag_adjustment_set()&lt;/code&gt; in the &lt;strong&gt;ggdag&lt;/strong&gt; package. Make sure you set &lt;code&gt;shadow = TRUE&lt;/code&gt; to draw the arrows coming out of the adjusted nodes—by default, those are not included.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_adjustment_set&lt;/span&gt;(simple_dag_with_coords, shadow &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/11-practico_files/figure-html/plot-adjustment-sets-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;R will find minimally sufficient adjustment sets, which includes the fewest number of adjustments needed to close all backdoors between &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt;. In this example DAG there was only one set of variables (&lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt;), but in other situations there could be many possible sets, or none if the causal effect is not identifiable.&lt;/p&gt;
&lt;h3 id=&#34;plot-dag-from-dagittynet-with-ggdag&#34;&gt;Plot DAG from dagitty.net with &lt;code&gt;ggdag()&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;If you use &lt;a href=&#34;http://dagitty.net/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;dagitty.net&lt;/a&gt; to draw a DAG, you&amp;rsquo;ll notice that it generates some code for you in the model code section:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/example/dagitty-code.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;You can copy that &lt;code&gt;dag{ ... }&lt;/code&gt; code and paste it into R to define a DAG object rather than use the &lt;code&gt;dagify()&lt;/code&gt; function. To do this, use the &lt;code&gt;dagitty()&lt;/code&gt; function from the &lt;strong&gt;dagitty&lt;/strong&gt; library and include the whole generated model code in single quotes (&lt;code&gt;&#39;&#39;&lt;/code&gt;):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;model_from_dagitty &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagitty&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;dag {
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;bb=&amp;#34;0,0,1,1&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; [pos=&amp;#34;0.809,0.306&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; [pos=&amp;#34;0.810,0.529&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some outcome&amp;#34; [outcome,pos=&amp;#34;0.918,0.432&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some treatment&amp;#34; [exposure,pos=&amp;#34;0.681,0.426&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; -&amp;gt; &amp;#34;Some treatment&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; -&amp;gt; &amp;#34;Some treatment&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some treatment&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;}
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&lt;/span&gt;)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag&lt;/span&gt;(model_from_dagitty) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/11-practico_files/figure-html/code-from-dagitty-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;By default it&amp;rsquo;s going to look ugly because (1) the node labels don&amp;rsquo;t fit, and (2) slight differences in the coordinates make it so the nodes don&amp;rsquo;t perfectly align with each other. To fix coordinate alignment, you can modify the numbers in the generated DAG code. Here I rounded the numbers so that they&amp;rsquo;re all 0.3, 0.8, etc.&lt;/p&gt;
&lt;p&gt;To fix the label issue, you can add the &lt;code&gt;use_labels&lt;/code&gt; argument like normally. Only here, you can&amp;rsquo;t specify &lt;code&gt;use_labels = &amp;quot;label&amp;quot;&lt;/code&gt;. Instead, when you specify a DAG using dagitty&amp;rsquo;s code like this, the column in the underlying dataset that contains the labels is named &lt;code&gt;name&lt;/code&gt;, so you need to use &lt;code&gt;use_labels = &amp;quot;name&amp;quot;&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Other &lt;code&gt;ggdag()&lt;/code&gt; variations like &lt;code&gt;ggdag_status()&lt;/code&gt; will still work fine.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;model_from_dagitty_rounded &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagitty&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;dag {
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;bb=&amp;#34;0,0,1,1&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; [pos=&amp;#34;0.8,0.3&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; [pos=&amp;#34;0.8,0.5&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some outcome&amp;#34; [outcome,pos=&amp;#34;0.9,0.4&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some treatment&amp;#34; [exposure,pos=&amp;#34;0.7,0.4&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; -&amp;gt; &amp;#34;Some treatment&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; -&amp;gt; &amp;#34;Some treatment&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some treatment&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;}
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&lt;/span&gt;)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(model_from_dagitty_rounded, text &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, use_labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;guides&lt;/span&gt;(color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Turn off legend&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/11-practico_files/figure-html/code-from-dagitty-better-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;mosquito-net-example&#34;&gt;Mosquito net example&lt;/h2&gt;
&lt;h3 id=&#34;conditional-independencies&#34;&gt;Conditional independencies&lt;/h3&gt;
&lt;p&gt;You can test if your stated relationships are correct by looking at the conditional independencies that are implied by the DAG. In dagitty.net, these appear in the sidebar in the &amp;ldquo;Testable implications&amp;rdquo; section. To show how this works, we&amp;rsquo;ll use a simulated dataset that I generated about a fictional mosquito net program. Download the data here if you want to follow along:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/data/mosquito_nets.csv&#34;&gt;&lt;i class=&#34;fas fa-table&#34;&gt;&lt;/i&gt; &lt;code&gt;mosquito_nets.csv&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Researchers are interested in whether using mosquito nets decreases an individual&amp;rsquo;s risk of contracting malaria. They have collected data from 1,752 households in an unnamed country and have variables related to environmental factors, individual health, and household characteristics. Additionally, this country has a special government program that provides free mosquito nets to households that meet specific requirements: to qualify for the program, there must be more than 4 members of the household, and the household&amp;rsquo;s monthly income must be lower than $700 a month. Households are not automatically enrolled in the program, and many do not use it. The data is not experimental—researchers have no control over who uses mosquito nets, and individual households make their own choices over whether to apply for free nets or buy their own nets, as well as whether they use the nets if they have them.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;mosquito_dag &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; net &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; health &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; temperature &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; resistance,
  net &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; health &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; temperature &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; eligible &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; household,
  eligible &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; household,
  health &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; income,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;net&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;malaria_risk&amp;#34;&lt;/span&gt;,
  coords &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, income &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;, health &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;,
                      temperature &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;, resistance &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;8.5&lt;/span&gt;, eligible &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, household &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;),
                y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, income &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, health &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,
                      temperature &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, resistance &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, eligible &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, household &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;)),
  labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Risk of malaria&amp;#34;&lt;/span&gt;, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Mosquito net&amp;#34;&lt;/span&gt;, income &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Income&amp;#34;&lt;/span&gt;,
             health &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Health&amp;#34;&lt;/span&gt;, temperature &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Nighttime temperatures&amp;#34;&lt;/span&gt;,
             resistance &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Insecticide resistance&amp;#34;&lt;/span&gt;,
             eligible &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Eligible for program&amp;#34;&lt;/span&gt;, household &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Number in household&amp;#34;&lt;/span&gt;)
)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(mosquito_dag, use_labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;, text &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;guides&lt;/span&gt;(fill &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Disable the legend&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/11-practico_files/figure-html/build-mosquito-dag-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The causal graph above  outlines the complete relationship between mosquito net use and risk of malaria. Each node in the DAG is a column in the dataset collected by the researchers, and includes the following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Malaria risk (&lt;code&gt;malaria_risk&lt;/code&gt;): The likelihood that someone in the household will be infected with malaria. Measured on a scale of 0–100, with higher values indicating higher risk.&lt;/li&gt;
&lt;li&gt;Mosquito net (&lt;code&gt;net&lt;/code&gt; and &lt;code&gt;net_num&lt;/code&gt;): A binary variable indicating if the household used mosquito nets.&lt;/li&gt;
&lt;li&gt;Eligible for program (&lt;code&gt;eligible&lt;/code&gt;): A binary variable indicating if the household is eligible for the free net program.&lt;/li&gt;
&lt;li&gt;Income (&lt;code&gt;income&lt;/code&gt;): The household&amp;rsquo;s monthly income, in US dollars.&lt;/li&gt;
&lt;li&gt;Nighttime temperatures (&lt;code&gt;temperature&lt;/code&gt;): The average temperature at night, in Celsius.&lt;/li&gt;
&lt;li&gt;Health (&lt;code&gt;health&lt;/code&gt;): Self-reported healthiness in the household. Measured on a scale of 0–100, with higher values indicating better health.&lt;/li&gt;
&lt;li&gt;Number in household (&lt;code&gt;household&lt;/code&gt;): Number of people living in the household.&lt;/li&gt;
&lt;li&gt;Insecticide resistance (&lt;code&gt;resistance&lt;/code&gt;): Some strains of mosquitoes are more resistant to insecticide and thus pose a higher risk of infecting people with malaria. This is measured on a scale of 0–100, with higher values indicating higher resistance.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;According to the DAG, malaria risk is caused by income, temperatures, health, insecticide resistance, and mosquito net use. People who live in hotter regions, have lower incomes, have worse health, are surrounded by mosquitoes with high resistance to insecticide, and who do not use mosquito nets are at higher risk of contracting malaria than those who do not. Mosquito net use is caused by income, nighttime temperatures, health, the number of people living in the house, and eligibility for the free net program. People who live in areas that are cooler at night, have higher incomes, have better health, have more people in the home, and are eligible for free government nets are more likely to regularly use nets than those who do not. The DAG also shows that eligibility for the free net program is caused by income and household size, since households must meet specific thresholds to qualify.&lt;/p&gt;
&lt;p&gt;First, let&amp;rsquo;s download the dataset, put in a folder named &lt;code&gt;data&lt;/code&gt;, and load it:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/data/mosquito_nets.csv&#34;&gt;&lt;i class=&#34;fas fa-table&#34;&gt;&lt;/i&gt; &lt;code&gt;mosquito_nets.csv&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Load the data.&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# It&amp;#39;d be a good idea to click on the &amp;#34;mosquito_nets.csv&amp;#34; object in the&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# Environment panel in RStudio to see what the data looks like after you load it&lt;/span&gt;
mosquito_nets &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;read_csv&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;data/mosquito_nets.csv&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We can use this data to check if the relationships defined by our DAG reflect reality. Recall that &lt;em&gt;d&lt;/em&gt;-separation implies that nodes are statistically independent of each other and do not transfer associational information. If you draw the mosquito net DAG with dagitty.net, or if you run &lt;code&gt;impliedConditionalIndependencies()&lt;/code&gt; in R, you can see a list of all the implied conditional independencies.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;impliedConditionalIndependencies&lt;/span&gt;(mosquito_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## elgb _||_ hlth | incm&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## elgb _||_ mlr_ | hlth, incm, net, tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## elgb _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## elgb _||_ tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hlth _||_ hshl&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hlth _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hlth _||_ tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hshl _||_ incm&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hshl _||_ mlr_ | hlth, incm, net, tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hshl _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hshl _||_ tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## incm _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## incm _||_ tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## net _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## rsst _||_ tmpr&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The &lt;code&gt;_||_&lt;/code&gt; symbol in the output here is the &lt;code&gt;\(\perp\)&lt;/code&gt; symbol, which means &amp;ldquo;independent of&amp;rdquo;. The &lt;code&gt;|&lt;/code&gt; in the output means &amp;ldquo;given&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;In the interest of space, we will not verify all these implied independencies, but we can test a few of them:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;\(\text{Health} \perp \text{Household members}\)&lt;/code&gt;: (Read as &lt;em&gt;&amp;ldquo;Health is independent of household member count&amp;rdquo;&lt;/em&gt;.) Health should be independent of the number of people in each household. In the data, the two variables should not be correlated. This is indeed the case:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cor&lt;/span&gt;(mosquito_nets&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;health, mosquito_nets&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;household)
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] 9.8e-05&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;\(\text{Income} \perp \text{Insecticide resistance}\)&lt;/code&gt;: (Read as &lt;em&gt;&amp;ldquo;Income is independent of insecticide resistance&amp;rdquo;&lt;/em&gt;.) Income should be independent of insecticide resistance. This is again true:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cor&lt;/span&gt;(mosquito_nets&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;income, mosquito_nets&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;resistance)
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] 0.014&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;\(\text{Malaria risk} \perp \text{Household members}\ |\ \text{Health, Income, Bed net use, Temperature}\)&lt;/code&gt;: (Read as &lt;em&gt;&amp;ldquo;Malaria risk is independent of house member count given health, income, bed net use, and temperature&amp;rdquo;&lt;/em&gt;.) Malaria risk should be independent of the number of household members given similar levels of health, income, mosquito net use, and nighttime temperatures. We cannot use &lt;code&gt;cor()&lt;/code&gt; to test this implication, since there are many variables involved, but we can use a regression model to check if the number of household members is significantly related to malaria risk. It is not significant ($t = -0.17$, &lt;code&gt;\(p = 0.863\)&lt;/code&gt;), which means the two are independent, as expected.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; household &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; health &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; net &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; temperature,
   data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mosquito_nets) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  broom&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;()
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 6 x 5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   term        estimate std.error statistic   p.value&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 (Intercept)  76.2      0.966      78.9   0.       &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 household    -0.0155   0.0893     -0.173 8.63e-  1&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3 health        0.148    0.0107     13.9   9.75e- 42&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 4 income       -0.0751   0.00104   -72.6   0.       &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 5 netTRUE     -10.4      0.266     -39.2   2.63e-241&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 6 temperature   1.01     0.0310     32.5   1.88e-181&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We can check all the other conditional independencies to see if the DAG captures the reality of the full system of factors that influence mosquito net use and malaria risk. If there are substantial and significant correlations between nodes that should be independent, there is likely an issue with the specification of the DAG. Return to the theory of how the phenomena are generated and refine the DAG more.&lt;/p&gt;
&lt;h3 id=&#34;mosquito-net-adjustment-sets&#34;&gt;Mosquito net adjustment sets&lt;/h3&gt;
&lt;p&gt;There is a direct path between mosquito net use and the risk of malaria, but the effect is not causally identified due to several other open paths. We can either list out all the paths and find which open paths have arrows pointing backwards into the mosquito net node (run &lt;code&gt;paths(mosquito_dag)&lt;/code&gt; to see these results), or we can let R find the appropriate adjustment sets automatically:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;adjustmentSets&lt;/span&gt;(mosquito_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## { health, income, temperature }&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Based on the relationships between all the nodes in the DAG, adjusting for health, income, and temperature is enough to close all backdoors and identify the relationship between net use and malaria risk. Importantly, we do not need to worry about any of the nodes related to the government program for free nets, since those nodes are not &lt;em&gt;d&lt;/em&gt;-connected to malaria risk. We only need to worry about confounding relationships.&lt;/p&gt;
&lt;p&gt;We can confirm this graphically with &lt;code&gt;ggdag_adjustment_set()&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_adjustment_set&lt;/span&gt;(mosquito_dag, shadow &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;,
                     use_labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;, text &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/11-practico_files/figure-html/plot-mosquito-adjustment-fake-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Regresiones logísticas</title>
      <link>/content/10-content/</link>
      <pubDate>Mon, 25 Oct 2021 00:00:00 +0000</pubDate>
      <guid>/content/10-content/</guid>
      <description>&lt;h2 id=&#34;readings&#34;&gt;Readings&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-book&#34;&gt;&lt;/i&gt; Chapter 6 in &lt;em&gt;Impact Evaluation in Practice&lt;/em&gt;&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-book&#34;&gt;&lt;/i&gt; Chapter 4 in &lt;em&gt;Mastering ’Metrics&lt;/em&gt;&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-book&#34;&gt;&lt;/i&gt; &lt;a href=&#34;https://mixtape.scunning.com/ch5.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Chapter 6, “Regression discontinuity”&lt;/a&gt; in &lt;em&gt;Causal Inference: The Mixtape&lt;/em&gt;&lt;sup id=&#34;fnref:3&#34;&gt;&lt;a href=&#34;#fn:3&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;3&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;regression-discontinuity&#34;&gt;Regression discontinuity&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;The &lt;a href=&#34;/example/rdd/&#34;&gt;example page on regression discontinuity&lt;/a&gt; shows how to use R to analyze and estimate causal effects with regression discontinuity&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;slides&#34;&gt;Slides&lt;/h2&gt;
&lt;p&gt;The slides for today’s lesson are available online as an HTML file. Use the buttons below to open the slides either as an interactive website or as a static PDF (for printing or storing for later). You can also click in the slides below and navigate through them with your left and right arrow keys.&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;btn btn-primary btn-lg&#34; target=&#34;_blank&#34; href=&#34;/slides/10-slides.html&#34;&gt;&lt;i class=&#34;fas fa-external-link-alt&#34;&gt;&lt;/i&gt; View all slides in new window&lt;/a&gt; &lt;a class=&#34;btn btn-primary btn-lg&#34; target=&#34;_blank&#34; href=&#34;/slides/10-slides.pdf&#34; role=&#34;button&#34;&gt;&lt;i class=&#34;far fa-file-pdf&#34;&gt;&lt;/i&gt; Download PDF of all slides&lt;/a&gt;&lt;/p&gt;
&lt;ul class=&#34;nav nav-tabs&#34; id=&#34;slide-tabs&#34; role=&#34;tablist&#34;&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link active&#34; id=&#34;introduction-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#introduction&#34; role=&#34;tab&#34; aria-controls=&#34;introduction&#34; aria-selected=&#34;true&#34;&gt;Introduction&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link&#34; id=&#34;arbitrary-cutoffs-and-causal-inference-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#arbitrary-cutoffs-and-causal-inference&#34; role=&#34;tab&#34; aria-controls=&#34;arbitrary-cutoffs-and-causal-inference&#34; aria-selected=&#34;false&#34;&gt;Arbitrary cutoffs and causal inference&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link&#34; id=&#34;drawing-lines-and-measuring-gaps-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#drawing-lines-and-measuring-gaps&#34; role=&#34;tab&#34; aria-controls=&#34;drawing-lines-and-measuring-gaps&#34; aria-selected=&#34;false&#34;&gt;Drawing lines and measuring gaps&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link&#34; id=&#34;main-rdd-concerns-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#main-rdd-concerns&#34; role=&#34;tab&#34; aria-controls=&#34;main-rdd-concerns&#34; aria-selected=&#34;false&#34;&gt;Main RDD concerns&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;slide-tabs&#34; class=&#34;tab-content&#34;&gt;
&lt;div id=&#34;introduction&#34; class=&#34;tab-pane fade show active&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;introduction-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/10-slides.html#1&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;arbitrary-cutoffs-and-causal-inference&#34; class=&#34;tab-pane fade&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;arbitrary-cutoffs-and-causal-inference-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/10-slides.html#arbitrary-cutoffs&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;drawing-lines-and-measuring-gaps&#34; class=&#34;tab-pane fade&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;drawing-lines-and-measuring-gaps-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/10-slides.html#lines-gaps&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;main-rdd-concerns&#34; class=&#34;tab-pane fade&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;main-rdd-concerns-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/10-slides.html#main-concerns&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;fyi&#34;&gt;
&lt;strong&gt;Fun fact&lt;/strong&gt;: If you type &lt;kbd&gt;?&lt;/kbd&gt; (or &lt;kbd&gt;shift&lt;/kbd&gt; + &lt;kbd&gt;/&lt;/kbd&gt;) while going through the slides, you can see a list of special slide-specific commands.
&lt;/div&gt;
&lt;h2 id=&#34;videos&#34;&gt;Videos&lt;/h2&gt;
&lt;p&gt;Videos for each section of the lecture are &lt;a href=&#34;https://www.youtube.com/playlist?list=PLS6tnpTr39sGYRrLn6OEoI5kry5gvJvdz&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;available at this YouTube playlist&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=4y84N23Mx-o&amp;amp;list=PLS6tnpTr39sGYRrLn6OEoI5kry5gvJvdz&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Introduction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=ZHBZtKL7zAg&amp;amp;list=PLS6tnpTr39sGYRrLn6OEoI5kry5gvJvdz&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Arbitrary cutoffs and causal inference&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=B060u1zGOWo&amp;amp;list=PLS6tnpTr39sGYRrLn6OEoI5kry5gvJvdz&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Drawing lines and measuring gaps&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=0v1aE70FhsQ&amp;amp;list=PLS6tnpTr39sGYRrLn6OEoI5kry5gvJvdz&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Main RDD concerns&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can also watch the playlist (and skip around to different sections) here:&lt;/p&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;https://www.youtube.com/embed/playlist?list=PLS6tnpTr39sGYRrLn6OEoI5kry5gvJvdz&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Paul J. Gertler et al., &lt;em&gt;Impact Evaluation in Practice&lt;/em&gt;, 2nd ed. (Inter-American Development Bank; World Bank, 2016), &lt;a href=&#34;https://openknowledge.worldbank.org/handle/10986/25030&#34;&gt;https://openknowledge.worldbank.org/handle/10986/25030&lt;/a&gt;. &lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Joshua D. Angrist and Jörn-Steffen Pischke, &lt;em&gt;Mastering ’Metrics: The Path from Cause to Effect&lt;/em&gt; (Princeton, NJ: Princeton University Press, 2015). &lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:3&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Scott Cunningham, &lt;em&gt;Causal Inference: The Mixtape&lt;/em&gt; (New Haven, CT: Yale University Press, 2021), &lt;a href=&#34;https://mixtape.scunning.com/&#34;&gt;https://mixtape.scunning.com/&lt;/a&gt;. &lt;a href=&#34;#fnref:3&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
    </item>
    
    <item>
      <title>Regresiones logísticas, exponenciación y representación gráfica</title>
      <link>/example/10-practico/</link>
      <pubDate>Mon, 25 Oct 2021 00:00:00 +0000</pubDate>
      <guid>/example/10-practico/</guid>
      <description>&lt;h2 id=&#34;dags-with-dagittynet&#34;&gt;DAGs with dagitty.net&lt;/h2&gt;
&lt;p&gt;The easiest way to quickly build DAGs and find adjustment sets and testable implications is to use &lt;a href=&#34;http://dagitty.net/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;dagitty.net&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This video shows how to use it:&lt;/p&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;https://www.youtube.com/embed/3euqrnD9w7c&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;h2 id=&#34;dags-with-r-ggdag-and-dagitty&#34;&gt;DAGs with R, ggdag, and dagitty&lt;/h2&gt;
&lt;p&gt;You can use the &lt;a href=&#34;https://ggdag.malco.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;ggdag&lt;/strong&gt;&lt;/a&gt; and &lt;a href=&#34;http://dagitty.net/primer/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;dagitty&lt;/strong&gt;&lt;/a&gt; packages in R to build and work with DAGs too. I typically draw an initial DAG in my browser with dagitty.net and then I rewrite it in code in R so that it&amp;rsquo;s more official and formal and reproducible.&lt;/p&gt;
&lt;h3 id=&#34;live-coding-example&#34;&gt;Live coding example&lt;/h3&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;https://www.youtube.com/embed/uoAjyyToUTE&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;h3 id=&#34;basic-dags&#34;&gt;Basic DAGs&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;(This is a heavily cleaned up and annotated version of the code from the video.)&lt;/em&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Load packages&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(tidyverse)  &lt;span style=&#34;color:#75715e&#34;&gt;# For dplyr, ggplot, and friends&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(ggdag)      &lt;span style=&#34;color:#75715e&#34;&gt;# For plotting DAGs&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(dagitty)    &lt;span style=&#34;color:#75715e&#34;&gt;# For working with DAG logic&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The general process for making and working with DAGs in R is to create a DAG object with &lt;code&gt;dagify()&lt;/code&gt; and then plot it with &lt;code&gt;ggdag()&lt;/code&gt;. The documentation for &lt;strong&gt;ggdag&lt;/strong&gt; is really good and helpful and full of examples. Check these pages for all sorts of additional details:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://ggdag.malco.io/articles/intro-to-ggdag.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&amp;ldquo;An introduction to ggdag&amp;rdquo;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://ggdag.malco.io/articles/intro-to-dags.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&amp;ldquo;An introduction to directed acyclic graphs&amp;rdquo;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://ggdag.malco.io/reference/index.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;List of all ggdag-related functions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The syntax for &lt;code&gt;dagify()&lt;/code&gt; is similar to the formula syntax you&amp;rsquo;ve been using for building regression models with &lt;code&gt;lm()&lt;/code&gt;. The formulas you use in &lt;code&gt;dagify()&lt;/code&gt; indicate the relationships between nodes.&lt;/p&gt;
&lt;p&gt;For instance, in this DAG, &lt;code&gt;y&lt;/code&gt; is caused by &lt;code&gt;x&lt;/code&gt;, &lt;code&gt;a&lt;/code&gt;, and &lt;code&gt;b&lt;/code&gt; (&lt;code&gt;y ~ x + a + b&lt;/code&gt;), and &lt;code&gt;x&lt;/code&gt; is caused by &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; (&lt;code&gt;x ~ a + b&lt;/code&gt;). This means that &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; are confounders. Use the &lt;code&gt;exposure&lt;/code&gt; and &lt;code&gt;outcome&lt;/code&gt; arguments to specify which nodes are the exposure (or treatment/intervention/program) and the outcome.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Create super basic DAG&lt;/span&gt;
simple_dag &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  y &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  x &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;x&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;y&amp;#34;&lt;/span&gt;
)

&lt;span style=&#34;color:#75715e&#34;&gt;# Adding a theme_dag() layer to the plot makes it have a white background with no axis labels&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag&lt;/span&gt;(simple_dag) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/10-practico_files/figure-html/super-basic-dag-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;If you want to plot which nodes are the exposure and outcome, use &lt;code&gt;ggdag_status()&lt;/code&gt; instead:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(simple_dag) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/10-practico_files/figure-html/simple-status-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;layouts-and-manual-coordinates&#34;&gt;Layouts and manual coordinates&lt;/h3&gt;
&lt;p&gt;Notice how the layout is different in both of those graphs. By default, &lt;code&gt;ggdag()&lt;/code&gt; positions the nodes randomly every time using a network algorithm. You can change the algorithm by using the &lt;code&gt;layout&lt;/code&gt; argument: &lt;code&gt;ggdag(simple_dag, layout = &amp;quot;nicely&amp;quot;)&lt;/code&gt;. You can see a full list of possible algorithms by running &lt;code&gt;?layout_tbl_graph_igraph&lt;/code&gt; in the console.&lt;/p&gt;
&lt;p&gt;Alternatively, you can specify your own coordinates so that the nodes are positioned in the same place every time. Do this with the &lt;code&gt;coords&lt;/code&gt; argument in &lt;code&gt;dagify()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The best way to figure out what these numbers should be is to draw the DAG on paper or on a whiteboard and add a grid to it and then figure out the coordinates. For instance, in this DAG there are three rows and three columns: &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt; go in the middle row (row 2) while &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; go in the middle column (column 2). It can also be helpful to not include &lt;code&gt;theme_dag()&lt;/code&gt; at first so you can see the numbers for the underlying grid. Once you have everything positioned correctly, add &lt;code&gt;theme_dag()&lt;/code&gt; to clean it up.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;simple_dag_with_coords &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  y &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  x &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;x&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;y&amp;#34;&lt;/span&gt;,
  coords &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;),
                y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;))
)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(simple_dag_with_coords) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/10-practico_files/figure-html/dag-with-coords-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;node-names-and-labels&#34;&gt;Node names and labels&lt;/h3&gt;
&lt;p&gt;The variable names you use do not have to be limited to just &lt;code&gt;x&lt;/code&gt;, &lt;code&gt;y&lt;/code&gt;, and other lowercase letters. You can any names you want, as long as there are no spaces.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;dag_with_var_names &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; treatment &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; confounder1 &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; confounder2,
  treatment &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; confounder1 &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; confounder2,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;treatment&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;outcome&amp;#34;&lt;/span&gt;
)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(dag_with_var_names) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/10-practico_files/figure-html/dag-with-names-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;However, unless you use very short names, it is likely that the text will not fit inside the nodes. To get around this, you can add labels to the nodes using the &lt;code&gt;labels&lt;/code&gt; argument in &lt;code&gt;dagify()&lt;/code&gt;. Plot the labels by setting &lt;code&gt;use_labels = &amp;quot;label&amp;quot;&lt;/code&gt; in &lt;code&gt;ggdag()&lt;/code&gt;. You can turn off the text in the nodes with &lt;code&gt;text = FALSE&lt;/code&gt; in &lt;code&gt;ggdag()&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;simple_dag_with_coords_and_labels &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  y &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  x &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;x&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;y&amp;#34;&lt;/span&gt;,
  labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Outcome&amp;#34;&lt;/span&gt;, x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Treatment&amp;#34;&lt;/span&gt;,
             a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Confounder 1&amp;#34;&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Confounder 2&amp;#34;&lt;/span&gt;),
  coords &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;),
                y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;))
)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(simple_dag_with_coords_and_labels,
             use_labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;, text &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;guides&lt;/span&gt;(fill &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Disable the legend&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/10-practico_files/figure-html/dag-with-labels-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;paths-and-adjustment-sets&#34;&gt;Paths and adjustment sets&lt;/h3&gt;
&lt;p&gt;R can also perform analysis on DAG objects. For example, we can find all the testable implications from the DAG using the &lt;code&gt;impliedConditionalIndependencies()&lt;/code&gt; function from the &lt;strong&gt;dagitty&lt;/strong&gt; package. For this simple DAG, there is only one: &lt;code&gt;a&lt;/code&gt; should be independent of &lt;code&gt;b&lt;/code&gt;. If we had a dataset with columns for each of these variables, we could check if this is true by running &lt;code&gt;cor(a, b)&lt;/code&gt; to see if the two are related.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;impliedConditionalIndependencies&lt;/span&gt;(simple_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## a _||_ b&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We can also find all the paths between &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt; using the &lt;code&gt;paths()&lt;/code&gt; function from the &lt;strong&gt;dagitty&lt;/strong&gt; package. We can see that there are three open paths between &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;paths&lt;/span&gt;(simple_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## $paths&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] &amp;#34;x -&amp;gt; y&amp;#34;      &amp;#34;x &amp;lt;- a -&amp;gt; y&amp;#34; &amp;#34;x &amp;lt;- b -&amp;gt; y&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## $open&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] TRUE TRUE TRUE&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The first open path is fine—we want a single &lt;em&gt;d&lt;/em&gt;-connected relationship between treatment and outcome—but the other two indicate that there is confounding from &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt;. We can see what each of these paths are with the &lt;code&gt;ggdag_paths()&lt;/code&gt; function from the &lt;strong&gt;ggdag&lt;/strong&gt; package:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_paths&lt;/span&gt;(simple_dag_with_coords) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/10-practico_files/figure-html/plot-dag-paths-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Instead of listing out all the possible paths and identifying backdoors by hand, you can use the &lt;code&gt;adjustmentSets()&lt;/code&gt; function in the &lt;strong&gt;dagitty&lt;/strong&gt; package to programmatically find all the nodes that need to be adjusted. Here we see that both &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; need to be controlled for to isolate the &lt;code&gt;x -&amp;gt; y&lt;/code&gt; relationship.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;adjustmentSets&lt;/span&gt;(simple_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## { a, b }&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You can also visualize the adjustment sets with &lt;code&gt;ggdag_adjustment_set()&lt;/code&gt; in the &lt;strong&gt;ggdag&lt;/strong&gt; package. Make sure you set &lt;code&gt;shadow = TRUE&lt;/code&gt; to draw the arrows coming out of the adjusted nodes—by default, those are not included.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_adjustment_set&lt;/span&gt;(simple_dag_with_coords, shadow &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/10-practico_files/figure-html/plot-adjustment-sets-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;R will find minimally sufficient adjustment sets, which includes the fewest number of adjustments needed to close all backdoors between &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt;. In this example DAG there was only one set of variables (&lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt;), but in other situations there could be many possible sets, or none if the causal effect is not identifiable.&lt;/p&gt;
&lt;h3 id=&#34;plot-dag-from-dagittynet-with-ggdag&#34;&gt;Plot DAG from dagitty.net with &lt;code&gt;ggdag()&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;If you use &lt;a href=&#34;http://dagitty.net/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;dagitty.net&lt;/a&gt; to draw a DAG, you&amp;rsquo;ll notice that it generates some code for you in the model code section:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/example/dagitty-code.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;You can copy that &lt;code&gt;dag{ ... }&lt;/code&gt; code and paste it into R to define a DAG object rather than use the &lt;code&gt;dagify()&lt;/code&gt; function. To do this, use the &lt;code&gt;dagitty()&lt;/code&gt; function from the &lt;strong&gt;dagitty&lt;/strong&gt; library and include the whole generated model code in single quotes (&lt;code&gt;&#39;&#39;&lt;/code&gt;):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;model_from_dagitty &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagitty&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;dag {
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;bb=&amp;#34;0,0,1,1&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; [pos=&amp;#34;0.809,0.306&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; [pos=&amp;#34;0.810,0.529&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some outcome&amp;#34; [outcome,pos=&amp;#34;0.918,0.432&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some treatment&amp;#34; [exposure,pos=&amp;#34;0.681,0.426&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; -&amp;gt; &amp;#34;Some treatment&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; -&amp;gt; &amp;#34;Some treatment&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some treatment&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;}
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&lt;/span&gt;)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag&lt;/span&gt;(model_from_dagitty) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/10-practico_files/figure-html/code-from-dagitty-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;By default it&amp;rsquo;s going to look ugly because (1) the node labels don&amp;rsquo;t fit, and (2) slight differences in the coordinates make it so the nodes don&amp;rsquo;t perfectly align with each other. To fix coordinate alignment, you can modify the numbers in the generated DAG code. Here I rounded the numbers so that they&amp;rsquo;re all 0.3, 0.8, etc.&lt;/p&gt;
&lt;p&gt;To fix the label issue, you can add the &lt;code&gt;use_labels&lt;/code&gt; argument like normally. Only here, you can&amp;rsquo;t specify &lt;code&gt;use_labels = &amp;quot;label&amp;quot;&lt;/code&gt;. Instead, when you specify a DAG using dagitty&amp;rsquo;s code like this, the column in the underlying dataset that contains the labels is named &lt;code&gt;name&lt;/code&gt;, so you need to use &lt;code&gt;use_labels = &amp;quot;name&amp;quot;&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Other &lt;code&gt;ggdag()&lt;/code&gt; variations like &lt;code&gt;ggdag_status()&lt;/code&gt; will still work fine.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;model_from_dagitty_rounded &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagitty&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;dag {
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;bb=&amp;#34;0,0,1,1&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; [pos=&amp;#34;0.8,0.3&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; [pos=&amp;#34;0.8,0.5&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some outcome&amp;#34; [outcome,pos=&amp;#34;0.9,0.4&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some treatment&amp;#34; [exposure,pos=&amp;#34;0.7,0.4&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; -&amp;gt; &amp;#34;Some treatment&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; -&amp;gt; &amp;#34;Some treatment&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some treatment&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;}
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&lt;/span&gt;)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(model_from_dagitty_rounded, text &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, use_labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;guides&lt;/span&gt;(color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Turn off legend&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/10-practico_files/figure-html/code-from-dagitty-better-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;mosquito-net-example&#34;&gt;Mosquito net example&lt;/h2&gt;
&lt;h3 id=&#34;conditional-independencies&#34;&gt;Conditional independencies&lt;/h3&gt;
&lt;p&gt;You can test if your stated relationships are correct by looking at the conditional independencies that are implied by the DAG. In dagitty.net, these appear in the sidebar in the &amp;ldquo;Testable implications&amp;rdquo; section. To show how this works, we&amp;rsquo;ll use a simulated dataset that I generated about a fictional mosquito net program. Download the data here if you want to follow along:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/data/mosquito_nets.csv&#34;&gt;&lt;i class=&#34;fas fa-table&#34;&gt;&lt;/i&gt; &lt;code&gt;mosquito_nets.csv&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Researchers are interested in whether using mosquito nets decreases an individual&amp;rsquo;s risk of contracting malaria. They have collected data from 1,752 households in an unnamed country and have variables related to environmental factors, individual health, and household characteristics. Additionally, this country has a special government program that provides free mosquito nets to households that meet specific requirements: to qualify for the program, there must be more than 4 members of the household, and the household&amp;rsquo;s monthly income must be lower than $700 a month. Households are not automatically enrolled in the program, and many do not use it. The data is not experimental—researchers have no control over who uses mosquito nets, and individual households make their own choices over whether to apply for free nets or buy their own nets, as well as whether they use the nets if they have them.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;mosquito_dag &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; net &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; health &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; temperature &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; resistance,
  net &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; health &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; temperature &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; eligible &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; household,
  eligible &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; household,
  health &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; income,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;net&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;malaria_risk&amp;#34;&lt;/span&gt;,
  coords &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, income &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;, health &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;,
                      temperature &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;, resistance &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;8.5&lt;/span&gt;, eligible &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, household &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;),
                y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, income &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, health &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,
                      temperature &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, resistance &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, eligible &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, household &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;)),
  labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Risk of malaria&amp;#34;&lt;/span&gt;, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Mosquito net&amp;#34;&lt;/span&gt;, income &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Income&amp;#34;&lt;/span&gt;,
             health &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Health&amp;#34;&lt;/span&gt;, temperature &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Nighttime temperatures&amp;#34;&lt;/span&gt;,
             resistance &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Insecticide resistance&amp;#34;&lt;/span&gt;,
             eligible &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Eligible for program&amp;#34;&lt;/span&gt;, household &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Number in household&amp;#34;&lt;/span&gt;)
)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(mosquito_dag, use_labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;, text &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;guides&lt;/span&gt;(fill &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Disable the legend&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/10-practico_files/figure-html/build-mosquito-dag-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The causal graph above  outlines the complete relationship between mosquito net use and risk of malaria. Each node in the DAG is a column in the dataset collected by the researchers, and includes the following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Malaria risk (&lt;code&gt;malaria_risk&lt;/code&gt;): The likelihood that someone in the household will be infected with malaria. Measured on a scale of 0–100, with higher values indicating higher risk.&lt;/li&gt;
&lt;li&gt;Mosquito net (&lt;code&gt;net&lt;/code&gt; and &lt;code&gt;net_num&lt;/code&gt;): A binary variable indicating if the household used mosquito nets.&lt;/li&gt;
&lt;li&gt;Eligible for program (&lt;code&gt;eligible&lt;/code&gt;): A binary variable indicating if the household is eligible for the free net program.&lt;/li&gt;
&lt;li&gt;Income (&lt;code&gt;income&lt;/code&gt;): The household&amp;rsquo;s monthly income, in US dollars.&lt;/li&gt;
&lt;li&gt;Nighttime temperatures (&lt;code&gt;temperature&lt;/code&gt;): The average temperature at night, in Celsius.&lt;/li&gt;
&lt;li&gt;Health (&lt;code&gt;health&lt;/code&gt;): Self-reported healthiness in the household. Measured on a scale of 0–100, with higher values indicating better health.&lt;/li&gt;
&lt;li&gt;Number in household (&lt;code&gt;household&lt;/code&gt;): Number of people living in the household.&lt;/li&gt;
&lt;li&gt;Insecticide resistance (&lt;code&gt;resistance&lt;/code&gt;): Some strains of mosquitoes are more resistant to insecticide and thus pose a higher risk of infecting people with malaria. This is measured on a scale of 0–100, with higher values indicating higher resistance.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;According to the DAG, malaria risk is caused by income, temperatures, health, insecticide resistance, and mosquito net use. People who live in hotter regions, have lower incomes, have worse health, are surrounded by mosquitoes with high resistance to insecticide, and who do not use mosquito nets are at higher risk of contracting malaria than those who do not. Mosquito net use is caused by income, nighttime temperatures, health, the number of people living in the house, and eligibility for the free net program. People who live in areas that are cooler at night, have higher incomes, have better health, have more people in the home, and are eligible for free government nets are more likely to regularly use nets than those who do not. The DAG also shows that eligibility for the free net program is caused by income and household size, since households must meet specific thresholds to qualify.&lt;/p&gt;
&lt;p&gt;First, let&amp;rsquo;s download the dataset, put in a folder named &lt;code&gt;data&lt;/code&gt;, and load it:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/data/mosquito_nets.csv&#34;&gt;&lt;i class=&#34;fas fa-table&#34;&gt;&lt;/i&gt; &lt;code&gt;mosquito_nets.csv&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Load the data.&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# It&amp;#39;d be a good idea to click on the &amp;#34;mosquito_nets.csv&amp;#34; object in the&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# Environment panel in RStudio to see what the data looks like after you load it&lt;/span&gt;
mosquito_nets &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;read_csv&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;data/mosquito_nets.csv&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We can use this data to check if the relationships defined by our DAG reflect reality. Recall that &lt;em&gt;d&lt;/em&gt;-separation implies that nodes are statistically independent of each other and do not transfer associational information. If you draw the mosquito net DAG with dagitty.net, or if you run &lt;code&gt;impliedConditionalIndependencies()&lt;/code&gt; in R, you can see a list of all the implied conditional independencies.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;impliedConditionalIndependencies&lt;/span&gt;(mosquito_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## elgb _||_ hlth | incm&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## elgb _||_ mlr_ | hlth, incm, net, tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## elgb _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## elgb _||_ tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hlth _||_ hshl&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hlth _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hlth _||_ tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hshl _||_ incm&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hshl _||_ mlr_ | hlth, incm, net, tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hshl _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hshl _||_ tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## incm _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## incm _||_ tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## net _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## rsst _||_ tmpr&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The &lt;code&gt;_||_&lt;/code&gt; symbol in the output here is the &lt;code&gt;\(\perp\)&lt;/code&gt; symbol, which means &amp;ldquo;independent of&amp;rdquo;. The &lt;code&gt;|&lt;/code&gt; in the output means &amp;ldquo;given&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;In the interest of space, we will not verify all these implied independencies, but we can test a few of them:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;\(\text{Health} \perp \text{Household members}\)&lt;/code&gt;: (Read as &lt;em&gt;&amp;ldquo;Health is independent of household member count&amp;rdquo;&lt;/em&gt;.) Health should be independent of the number of people in each household. In the data, the two variables should not be correlated. This is indeed the case:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cor&lt;/span&gt;(mosquito_nets&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;health, mosquito_nets&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;household)
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] 9.8e-05&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;\(\text{Income} \perp \text{Insecticide resistance}\)&lt;/code&gt;: (Read as &lt;em&gt;&amp;ldquo;Income is independent of insecticide resistance&amp;rdquo;&lt;/em&gt;.) Income should be independent of insecticide resistance. This is again true:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cor&lt;/span&gt;(mosquito_nets&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;income, mosquito_nets&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;resistance)
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] 0.014&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;\(\text{Malaria risk} \perp \text{Household members}\ |\ \text{Health, Income, Bed net use, Temperature}\)&lt;/code&gt;: (Read as &lt;em&gt;&amp;ldquo;Malaria risk is independent of house member count given health, income, bed net use, and temperature&amp;rdquo;&lt;/em&gt;.) Malaria risk should be independent of the number of household members given similar levels of health, income, mosquito net use, and nighttime temperatures. We cannot use &lt;code&gt;cor()&lt;/code&gt; to test this implication, since there are many variables involved, but we can use a regression model to check if the number of household members is significantly related to malaria risk. It is not significant ($t = -0.17$, &lt;code&gt;\(p = 0.863\)&lt;/code&gt;), which means the two are independent, as expected.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; household &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; health &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; net &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; temperature,
   data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mosquito_nets) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  broom&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;()
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 6 x 5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   term        estimate std.error statistic   p.value&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 (Intercept)  76.2      0.966      78.9   0.       &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 household    -0.0155   0.0893     -0.173 8.63e-  1&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3 health        0.148    0.0107     13.9   9.75e- 42&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 4 income       -0.0751   0.00104   -72.6   0.       &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 5 netTRUE     -10.4      0.266     -39.2   2.63e-241&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 6 temperature   1.01     0.0310     32.5   1.88e-181&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We can check all the other conditional independencies to see if the DAG captures the reality of the full system of factors that influence mosquito net use and malaria risk. If there are substantial and significant correlations between nodes that should be independent, there is likely an issue with the specification of the DAG. Return to the theory of how the phenomena are generated and refine the DAG more.&lt;/p&gt;
&lt;h3 id=&#34;mosquito-net-adjustment-sets&#34;&gt;Mosquito net adjustment sets&lt;/h3&gt;
&lt;p&gt;There is a direct path between mosquito net use and the risk of malaria, but the effect is not causally identified due to several other open paths. We can either list out all the paths and find which open paths have arrows pointing backwards into the mosquito net node (run &lt;code&gt;paths(mosquito_dag)&lt;/code&gt; to see these results), or we can let R find the appropriate adjustment sets automatically:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;adjustmentSets&lt;/span&gt;(mosquito_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## { health, income, temperature }&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Based on the relationships between all the nodes in the DAG, adjusting for health, income, and temperature is enough to close all backdoors and identify the relationship between net use and malaria risk. Importantly, we do not need to worry about any of the nodes related to the government program for free nets, since those nodes are not &lt;em&gt;d&lt;/em&gt;-connected to malaria risk. We only need to worry about confounding relationships.&lt;/p&gt;
&lt;p&gt;We can confirm this graphically with &lt;code&gt;ggdag_adjustment_set()&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_adjustment_set&lt;/span&gt;(mosquito_dag, shadow &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;,
                     use_labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;, text &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/10-practico_files/figure-html/plot-mosquito-adjustment-fake-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Regresiones lineales</title>
      <link>/content/09-content/</link>
      <pubDate>Mon, 18 Oct 2021 00:00:00 +0000</pubDate>
      <guid>/content/09-content/</guid>
      <description>&lt;h2 id=&#34;readings&#34;&gt;Readings&lt;/h2&gt;
&lt;p&gt;This session is a continuation of &lt;a href=&#34;/content/08-content/&#34;&gt;session 8&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Regresiones lineales, predictores categóricos y representación gráfica</title>
      <link>/example/09-practico/</link>
      <pubDate>Mon, 18 Oct 2021 00:00:00 +0000</pubDate>
      <guid>/example/09-practico/</guid>
      <description>&lt;h2 id=&#34;dags-with-dagittynet&#34;&gt;DAGs with dagitty.net&lt;/h2&gt;
&lt;p&gt;The easiest way to quickly build DAGs and find adjustment sets and testable implications is to use &lt;a href=&#34;http://dagitty.net/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;dagitty.net&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This video shows how to use it:&lt;/p&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;https://www.youtube.com/embed/3euqrnD9w7c&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;h2 id=&#34;dags-with-r-ggdag-and-dagitty&#34;&gt;DAGs with R, ggdag, and dagitty&lt;/h2&gt;
&lt;p&gt;You can use the &lt;a href=&#34;https://ggdag.malco.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;ggdag&lt;/strong&gt;&lt;/a&gt; and &lt;a href=&#34;http://dagitty.net/primer/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;dagitty&lt;/strong&gt;&lt;/a&gt; packages in R to build and work with DAGs too. I typically draw an initial DAG in my browser with dagitty.net and then I rewrite it in code in R so that it&amp;rsquo;s more official and formal and reproducible.&lt;/p&gt;
&lt;h3 id=&#34;live-coding-example&#34;&gt;Live coding example&lt;/h3&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;https://www.youtube.com/embed/uoAjyyToUTE&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;h3 id=&#34;basic-dags&#34;&gt;Basic DAGs&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;(This is a heavily cleaned up and annotated version of the code from the video.)&lt;/em&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Load packages&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(tidyverse)  &lt;span style=&#34;color:#75715e&#34;&gt;# For dplyr, ggplot, and friends&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(ggdag)      &lt;span style=&#34;color:#75715e&#34;&gt;# For plotting DAGs&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(dagitty)    &lt;span style=&#34;color:#75715e&#34;&gt;# For working with DAG logic&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The general process for making and working with DAGs in R is to create a DAG object with &lt;code&gt;dagify()&lt;/code&gt; and then plot it with &lt;code&gt;ggdag()&lt;/code&gt;. The documentation for &lt;strong&gt;ggdag&lt;/strong&gt; is really good and helpful and full of examples. Check these pages for all sorts of additional details:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://ggdag.malco.io/articles/intro-to-ggdag.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&amp;ldquo;An introduction to ggdag&amp;rdquo;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://ggdag.malco.io/articles/intro-to-dags.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&amp;ldquo;An introduction to directed acyclic graphs&amp;rdquo;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://ggdag.malco.io/reference/index.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;List of all ggdag-related functions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The syntax for &lt;code&gt;dagify()&lt;/code&gt; is similar to the formula syntax you&amp;rsquo;ve been using for building regression models with &lt;code&gt;lm()&lt;/code&gt;. The formulas you use in &lt;code&gt;dagify()&lt;/code&gt; indicate the relationships between nodes.&lt;/p&gt;
&lt;p&gt;For instance, in this DAG, &lt;code&gt;y&lt;/code&gt; is caused by &lt;code&gt;x&lt;/code&gt;, &lt;code&gt;a&lt;/code&gt;, and &lt;code&gt;b&lt;/code&gt; (&lt;code&gt;y ~ x + a + b&lt;/code&gt;), and &lt;code&gt;x&lt;/code&gt; is caused by &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; (&lt;code&gt;x ~ a + b&lt;/code&gt;). This means that &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; are confounders. Use the &lt;code&gt;exposure&lt;/code&gt; and &lt;code&gt;outcome&lt;/code&gt; arguments to specify which nodes are the exposure (or treatment/intervention/program) and the outcome.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Create super basic DAG&lt;/span&gt;
simple_dag &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  y &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  x &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;x&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;y&amp;#34;&lt;/span&gt;
)

&lt;span style=&#34;color:#75715e&#34;&gt;# Adding a theme_dag() layer to the plot makes it have a white background with no axis labels&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag&lt;/span&gt;(simple_dag) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/09-practico_files/figure-html/super-basic-dag-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;If you want to plot which nodes are the exposure and outcome, use &lt;code&gt;ggdag_status()&lt;/code&gt; instead:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(simple_dag) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/09-practico_files/figure-html/simple-status-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;layouts-and-manual-coordinates&#34;&gt;Layouts and manual coordinates&lt;/h3&gt;
&lt;p&gt;Notice how the layout is different in both of those graphs. By default, &lt;code&gt;ggdag()&lt;/code&gt; positions the nodes randomly every time using a network algorithm. You can change the algorithm by using the &lt;code&gt;layout&lt;/code&gt; argument: &lt;code&gt;ggdag(simple_dag, layout = &amp;quot;nicely&amp;quot;)&lt;/code&gt;. You can see a full list of possible algorithms by running &lt;code&gt;?layout_tbl_graph_igraph&lt;/code&gt; in the console.&lt;/p&gt;
&lt;p&gt;Alternatively, you can specify your own coordinates so that the nodes are positioned in the same place every time. Do this with the &lt;code&gt;coords&lt;/code&gt; argument in &lt;code&gt;dagify()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The best way to figure out what these numbers should be is to draw the DAG on paper or on a whiteboard and add a grid to it and then figure out the coordinates. For instance, in this DAG there are three rows and three columns: &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt; go in the middle row (row 2) while &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; go in the middle column (column 2). It can also be helpful to not include &lt;code&gt;theme_dag()&lt;/code&gt; at first so you can see the numbers for the underlying grid. Once you have everything positioned correctly, add &lt;code&gt;theme_dag()&lt;/code&gt; to clean it up.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;simple_dag_with_coords &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  y &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  x &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;x&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;y&amp;#34;&lt;/span&gt;,
  coords &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;),
                y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;))
)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(simple_dag_with_coords) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/09-practico_files/figure-html/dag-with-coords-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;node-names-and-labels&#34;&gt;Node names and labels&lt;/h3&gt;
&lt;p&gt;The variable names you use do not have to be limited to just &lt;code&gt;x&lt;/code&gt;, &lt;code&gt;y&lt;/code&gt;, and other lowercase letters. You can any names you want, as long as there are no spaces.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;dag_with_var_names &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; treatment &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; confounder1 &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; confounder2,
  treatment &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; confounder1 &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; confounder2,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;treatment&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;outcome&amp;#34;&lt;/span&gt;
)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(dag_with_var_names) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/09-practico_files/figure-html/dag-with-names-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;However, unless you use very short names, it is likely that the text will not fit inside the nodes. To get around this, you can add labels to the nodes using the &lt;code&gt;labels&lt;/code&gt; argument in &lt;code&gt;dagify()&lt;/code&gt;. Plot the labels by setting &lt;code&gt;use_labels = &amp;quot;label&amp;quot;&lt;/code&gt; in &lt;code&gt;ggdag()&lt;/code&gt;. You can turn off the text in the nodes with &lt;code&gt;text = FALSE&lt;/code&gt; in &lt;code&gt;ggdag()&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;simple_dag_with_coords_and_labels &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  y &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  x &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;x&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;y&amp;#34;&lt;/span&gt;,
  labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Outcome&amp;#34;&lt;/span&gt;, x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Treatment&amp;#34;&lt;/span&gt;,
             a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Confounder 1&amp;#34;&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Confounder 2&amp;#34;&lt;/span&gt;),
  coords &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;),
                y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;))
)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(simple_dag_with_coords_and_labels,
             use_labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;, text &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;guides&lt;/span&gt;(fill &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Disable the legend&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/09-practico_files/figure-html/dag-with-labels-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;paths-and-adjustment-sets&#34;&gt;Paths and adjustment sets&lt;/h3&gt;
&lt;p&gt;R can also perform analysis on DAG objects. For example, we can find all the testable implications from the DAG using the &lt;code&gt;impliedConditionalIndependencies()&lt;/code&gt; function from the &lt;strong&gt;dagitty&lt;/strong&gt; package. For this simple DAG, there is only one: &lt;code&gt;a&lt;/code&gt; should be independent of &lt;code&gt;b&lt;/code&gt;. If we had a dataset with columns for each of these variables, we could check if this is true by running &lt;code&gt;cor(a, b)&lt;/code&gt; to see if the two are related.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;impliedConditionalIndependencies&lt;/span&gt;(simple_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## a _||_ b&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We can also find all the paths between &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt; using the &lt;code&gt;paths()&lt;/code&gt; function from the &lt;strong&gt;dagitty&lt;/strong&gt; package. We can see that there are three open paths between &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;paths&lt;/span&gt;(simple_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## $paths&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] &amp;#34;x -&amp;gt; y&amp;#34;      &amp;#34;x &amp;lt;- a -&amp;gt; y&amp;#34; &amp;#34;x &amp;lt;- b -&amp;gt; y&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## $open&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] TRUE TRUE TRUE&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The first open path is fine—we want a single &lt;em&gt;d&lt;/em&gt;-connected relationship between treatment and outcome—but the other two indicate that there is confounding from &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt;. We can see what each of these paths are with the &lt;code&gt;ggdag_paths()&lt;/code&gt; function from the &lt;strong&gt;ggdag&lt;/strong&gt; package:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_paths&lt;/span&gt;(simple_dag_with_coords) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/09-practico_files/figure-html/plot-dag-paths-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Instead of listing out all the possible paths and identifying backdoors by hand, you can use the &lt;code&gt;adjustmentSets()&lt;/code&gt; function in the &lt;strong&gt;dagitty&lt;/strong&gt; package to programmatically find all the nodes that need to be adjusted. Here we see that both &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; need to be controlled for to isolate the &lt;code&gt;x -&amp;gt; y&lt;/code&gt; relationship.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;adjustmentSets&lt;/span&gt;(simple_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## { a, b }&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You can also visualize the adjustment sets with &lt;code&gt;ggdag_adjustment_set()&lt;/code&gt; in the &lt;strong&gt;ggdag&lt;/strong&gt; package. Make sure you set &lt;code&gt;shadow = TRUE&lt;/code&gt; to draw the arrows coming out of the adjusted nodes—by default, those are not included.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_adjustment_set&lt;/span&gt;(simple_dag_with_coords, shadow &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/09-practico_files/figure-html/plot-adjustment-sets-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;R will find minimally sufficient adjustment sets, which includes the fewest number of adjustments needed to close all backdoors between &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt;. In this example DAG there was only one set of variables (&lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt;), but in other situations there could be many possible sets, or none if the causal effect is not identifiable.&lt;/p&gt;
&lt;h3 id=&#34;plot-dag-from-dagittynet-with-ggdag&#34;&gt;Plot DAG from dagitty.net with &lt;code&gt;ggdag()&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;If you use &lt;a href=&#34;http://dagitty.net/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;dagitty.net&lt;/a&gt; to draw a DAG, you&amp;rsquo;ll notice that it generates some code for you in the model code section:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/example/dagitty-code.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;You can copy that &lt;code&gt;dag{ ... }&lt;/code&gt; code and paste it into R to define a DAG object rather than use the &lt;code&gt;dagify()&lt;/code&gt; function. To do this, use the &lt;code&gt;dagitty()&lt;/code&gt; function from the &lt;strong&gt;dagitty&lt;/strong&gt; library and include the whole generated model code in single quotes (&lt;code&gt;&#39;&#39;&lt;/code&gt;):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;model_from_dagitty &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagitty&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;dag {
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;bb=&amp;#34;0,0,1,1&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; [pos=&amp;#34;0.809,0.306&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; [pos=&amp;#34;0.810,0.529&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some outcome&amp;#34; [outcome,pos=&amp;#34;0.918,0.432&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some treatment&amp;#34; [exposure,pos=&amp;#34;0.681,0.426&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; -&amp;gt; &amp;#34;Some treatment&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; -&amp;gt; &amp;#34;Some treatment&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some treatment&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;}
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&lt;/span&gt;)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag&lt;/span&gt;(model_from_dagitty) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/09-practico_files/figure-html/code-from-dagitty-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;By default it&amp;rsquo;s going to look ugly because (1) the node labels don&amp;rsquo;t fit, and (2) slight differences in the coordinates make it so the nodes don&amp;rsquo;t perfectly align with each other. To fix coordinate alignment, you can modify the numbers in the generated DAG code. Here I rounded the numbers so that they&amp;rsquo;re all 0.3, 0.8, etc.&lt;/p&gt;
&lt;p&gt;To fix the label issue, you can add the &lt;code&gt;use_labels&lt;/code&gt; argument like normally. Only here, you can&amp;rsquo;t specify &lt;code&gt;use_labels = &amp;quot;label&amp;quot;&lt;/code&gt;. Instead, when you specify a DAG using dagitty&amp;rsquo;s code like this, the column in the underlying dataset that contains the labels is named &lt;code&gt;name&lt;/code&gt;, so you need to use &lt;code&gt;use_labels = &amp;quot;name&amp;quot;&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Other &lt;code&gt;ggdag()&lt;/code&gt; variations like &lt;code&gt;ggdag_status()&lt;/code&gt; will still work fine.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;model_from_dagitty_rounded &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagitty&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;dag {
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;bb=&amp;#34;0,0,1,1&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; [pos=&amp;#34;0.8,0.3&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; [pos=&amp;#34;0.8,0.5&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some outcome&amp;#34; [outcome,pos=&amp;#34;0.9,0.4&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some treatment&amp;#34; [exposure,pos=&amp;#34;0.7,0.4&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; -&amp;gt; &amp;#34;Some treatment&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; -&amp;gt; &amp;#34;Some treatment&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some treatment&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;}
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&lt;/span&gt;)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(model_from_dagitty_rounded, text &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, use_labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;guides&lt;/span&gt;(color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Turn off legend&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/09-practico_files/figure-html/code-from-dagitty-better-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;mosquito-net-example&#34;&gt;Mosquito net example&lt;/h2&gt;
&lt;h3 id=&#34;conditional-independencies&#34;&gt;Conditional independencies&lt;/h3&gt;
&lt;p&gt;You can test if your stated relationships are correct by looking at the conditional independencies that are implied by the DAG. In dagitty.net, these appear in the sidebar in the &amp;ldquo;Testable implications&amp;rdquo; section. To show how this works, we&amp;rsquo;ll use a simulated dataset that I generated about a fictional mosquito net program. Download the data here if you want to follow along:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/data/mosquito_nets.csv&#34;&gt;&lt;i class=&#34;fas fa-table&#34;&gt;&lt;/i&gt; &lt;code&gt;mosquito_nets.csv&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Researchers are interested in whether using mosquito nets decreases an individual&amp;rsquo;s risk of contracting malaria. They have collected data from 1,752 households in an unnamed country and have variables related to environmental factors, individual health, and household characteristics. Additionally, this country has a special government program that provides free mosquito nets to households that meet specific requirements: to qualify for the program, there must be more than 4 members of the household, and the household&amp;rsquo;s monthly income must be lower than $700 a month. Households are not automatically enrolled in the program, and many do not use it. The data is not experimental—researchers have no control over who uses mosquito nets, and individual households make their own choices over whether to apply for free nets or buy their own nets, as well as whether they use the nets if they have them.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;mosquito_dag &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; net &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; health &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; temperature &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; resistance,
  net &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; health &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; temperature &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; eligible &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; household,
  eligible &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; household,
  health &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; income,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;net&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;malaria_risk&amp;#34;&lt;/span&gt;,
  coords &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, income &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;, health &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;,
                      temperature &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;, resistance &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;8.5&lt;/span&gt;, eligible &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, household &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;),
                y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, income &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, health &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,
                      temperature &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, resistance &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, eligible &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, household &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;)),
  labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Risk of malaria&amp;#34;&lt;/span&gt;, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Mosquito net&amp;#34;&lt;/span&gt;, income &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Income&amp;#34;&lt;/span&gt;,
             health &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Health&amp;#34;&lt;/span&gt;, temperature &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Nighttime temperatures&amp;#34;&lt;/span&gt;,
             resistance &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Insecticide resistance&amp;#34;&lt;/span&gt;,
             eligible &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Eligible for program&amp;#34;&lt;/span&gt;, household &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Number in household&amp;#34;&lt;/span&gt;)
)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(mosquito_dag, use_labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;, text &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;guides&lt;/span&gt;(fill &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Disable the legend&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/09-practico_files/figure-html/build-mosquito-dag-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The causal graph above  outlines the complete relationship between mosquito net use and risk of malaria. Each node in the DAG is a column in the dataset collected by the researchers, and includes the following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Malaria risk (&lt;code&gt;malaria_risk&lt;/code&gt;): The likelihood that someone in the household will be infected with malaria. Measured on a scale of 0–100, with higher values indicating higher risk.&lt;/li&gt;
&lt;li&gt;Mosquito net (&lt;code&gt;net&lt;/code&gt; and &lt;code&gt;net_num&lt;/code&gt;): A binary variable indicating if the household used mosquito nets.&lt;/li&gt;
&lt;li&gt;Eligible for program (&lt;code&gt;eligible&lt;/code&gt;): A binary variable indicating if the household is eligible for the free net program.&lt;/li&gt;
&lt;li&gt;Income (&lt;code&gt;income&lt;/code&gt;): The household&amp;rsquo;s monthly income, in US dollars.&lt;/li&gt;
&lt;li&gt;Nighttime temperatures (&lt;code&gt;temperature&lt;/code&gt;): The average temperature at night, in Celsius.&lt;/li&gt;
&lt;li&gt;Health (&lt;code&gt;health&lt;/code&gt;): Self-reported healthiness in the household. Measured on a scale of 0–100, with higher values indicating better health.&lt;/li&gt;
&lt;li&gt;Number in household (&lt;code&gt;household&lt;/code&gt;): Number of people living in the household.&lt;/li&gt;
&lt;li&gt;Insecticide resistance (&lt;code&gt;resistance&lt;/code&gt;): Some strains of mosquitoes are more resistant to insecticide and thus pose a higher risk of infecting people with malaria. This is measured on a scale of 0–100, with higher values indicating higher resistance.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;According to the DAG, malaria risk is caused by income, temperatures, health, insecticide resistance, and mosquito net use. People who live in hotter regions, have lower incomes, have worse health, are surrounded by mosquitoes with high resistance to insecticide, and who do not use mosquito nets are at higher risk of contracting malaria than those who do not. Mosquito net use is caused by income, nighttime temperatures, health, the number of people living in the house, and eligibility for the free net program. People who live in areas that are cooler at night, have higher incomes, have better health, have more people in the home, and are eligible for free government nets are more likely to regularly use nets than those who do not. The DAG also shows that eligibility for the free net program is caused by income and household size, since households must meet specific thresholds to qualify.&lt;/p&gt;
&lt;p&gt;First, let&amp;rsquo;s download the dataset, put in a folder named &lt;code&gt;data&lt;/code&gt;, and load it:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/data/mosquito_nets.csv&#34;&gt;&lt;i class=&#34;fas fa-table&#34;&gt;&lt;/i&gt; &lt;code&gt;mosquito_nets.csv&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Load the data.&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# It&amp;#39;d be a good idea to click on the &amp;#34;mosquito_nets.csv&amp;#34; object in the&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# Environment panel in RStudio to see what the data looks like after you load it&lt;/span&gt;
mosquito_nets &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;read_csv&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;data/mosquito_nets.csv&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We can use this data to check if the relationships defined by our DAG reflect reality. Recall that &lt;em&gt;d&lt;/em&gt;-separation implies that nodes are statistically independent of each other and do not transfer associational information. If you draw the mosquito net DAG with dagitty.net, or if you run &lt;code&gt;impliedConditionalIndependencies()&lt;/code&gt; in R, you can see a list of all the implied conditional independencies.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;impliedConditionalIndependencies&lt;/span&gt;(mosquito_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## elgb _||_ hlth | incm&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## elgb _||_ mlr_ | hlth, incm, net, tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## elgb _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## elgb _||_ tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hlth _||_ hshl&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hlth _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hlth _||_ tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hshl _||_ incm&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hshl _||_ mlr_ | hlth, incm, net, tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hshl _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hshl _||_ tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## incm _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## incm _||_ tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## net _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## rsst _||_ tmpr&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The &lt;code&gt;_||_&lt;/code&gt; symbol in the output here is the &lt;code&gt;\(\perp\)&lt;/code&gt; symbol, which means &amp;ldquo;independent of&amp;rdquo;. The &lt;code&gt;|&lt;/code&gt; in the output means &amp;ldquo;given&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;In the interest of space, we will not verify all these implied independencies, but we can test a few of them:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;\(\text{Health} \perp \text{Household members}\)&lt;/code&gt;: (Read as &lt;em&gt;&amp;ldquo;Health is independent of household member count&amp;rdquo;&lt;/em&gt;.) Health should be independent of the number of people in each household. In the data, the two variables should not be correlated. This is indeed the case:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cor&lt;/span&gt;(mosquito_nets&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;health, mosquito_nets&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;household)
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] 9.8e-05&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;\(\text{Income} \perp \text{Insecticide resistance}\)&lt;/code&gt;: (Read as &lt;em&gt;&amp;ldquo;Income is independent of insecticide resistance&amp;rdquo;&lt;/em&gt;.) Income should be independent of insecticide resistance. This is again true:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cor&lt;/span&gt;(mosquito_nets&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;income, mosquito_nets&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;resistance)
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] 0.014&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;\(\text{Malaria risk} \perp \text{Household members}\ |\ \text{Health, Income, Bed net use, Temperature}\)&lt;/code&gt;: (Read as &lt;em&gt;&amp;ldquo;Malaria risk is independent of house member count given health, income, bed net use, and temperature&amp;rdquo;&lt;/em&gt;.) Malaria risk should be independent of the number of household members given similar levels of health, income, mosquito net use, and nighttime temperatures. We cannot use &lt;code&gt;cor()&lt;/code&gt; to test this implication, since there are many variables involved, but we can use a regression model to check if the number of household members is significantly related to malaria risk. It is not significant ($t = -0.17$, &lt;code&gt;\(p = 0.863\)&lt;/code&gt;), which means the two are independent, as expected.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; household &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; health &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; net &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; temperature,
   data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mosquito_nets) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  broom&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;()
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 6 x 5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   term        estimate std.error statistic   p.value&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 (Intercept)  76.2      0.966      78.9   0.       &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 household    -0.0155   0.0893     -0.173 8.63e-  1&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3 health        0.148    0.0107     13.9   9.75e- 42&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 4 income       -0.0751   0.00104   -72.6   0.       &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 5 netTRUE     -10.4      0.266     -39.2   2.63e-241&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 6 temperature   1.01     0.0310     32.5   1.88e-181&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We can check all the other conditional independencies to see if the DAG captures the reality of the full system of factors that influence mosquito net use and malaria risk. If there are substantial and significant correlations between nodes that should be independent, there is likely an issue with the specification of the DAG. Return to the theory of how the phenomena are generated and refine the DAG more.&lt;/p&gt;
&lt;h3 id=&#34;mosquito-net-adjustment-sets&#34;&gt;Mosquito net adjustment sets&lt;/h3&gt;
&lt;p&gt;There is a direct path between mosquito net use and the risk of malaria, but the effect is not causally identified due to several other open paths. We can either list out all the paths and find which open paths have arrows pointing backwards into the mosquito net node (run &lt;code&gt;paths(mosquito_dag)&lt;/code&gt; to see these results), or we can let R find the appropriate adjustment sets automatically:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;adjustmentSets&lt;/span&gt;(mosquito_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## { health, income, temperature }&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Based on the relationships between all the nodes in the DAG, adjusting for health, income, and temperature is enough to close all backdoors and identify the relationship between net use and malaria risk. Importantly, we do not need to worry about any of the nodes related to the government program for free nets, since those nodes are not &lt;em&gt;d&lt;/em&gt;-connected to malaria risk. We only need to worry about confounding relationships.&lt;/p&gt;
&lt;p&gt;We can confirm this graphically with &lt;code&gt;ggdag_adjustment_set()&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_adjustment_set&lt;/span&gt;(mosquito_dag, shadow &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;,
                     use_labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;, text &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/09-practico_files/figure-html/plot-mosquito-adjustment-fake-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Pruebas de hipótesis</title>
      <link>/content/08-content/</link>
      <pubDate>Mon, 04 Oct 2021 00:00:00 +0000</pubDate>
      <guid>/content/08-content/</guid>
      <description>&lt;h2 id=&#34;readings&#34;&gt;Readings&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-book&#34;&gt;&lt;/i&gt; Chapter 7 in &lt;em&gt;Impact Evaluation in Practice&lt;/em&gt;&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-book&#34;&gt;&lt;/i&gt; Chapter 5 in &lt;em&gt;Mastering ’Metrics&lt;/em&gt;&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-book&#34;&gt;&lt;/i&gt; &lt;a href=&#34;https://mixtape.scunning.com/ch8.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Chapter 9, “Differences-in-differences”&lt;/a&gt; in &lt;em&gt;Causal Inference: The Mixtape&lt;/em&gt;&lt;sup id=&#34;fnref:3&#34;&gt;&lt;a href=&#34;#fn:3&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;3&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;slides&#34;&gt;Slides&lt;/h2&gt;
&lt;p&gt;The slides for today’s lesson are available online as an HTML file. Use the buttons below to open the slides either as an interactive website or as a static PDF (for printing or storing for later). You can also click in the slides below and navigate through them with your left and right arrow keys.&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;btn btn-primary btn-lg&#34; target=&#34;_blank&#34; href=&#34;/slides/08-slides.html&#34;&gt;&lt;i class=&#34;fas fa-external-link-alt&#34;&gt;&lt;/i&gt; View all slides in new window&lt;/a&gt; &lt;a class=&#34;btn btn-primary btn-lg&#34; target=&#34;_blank&#34; href=&#34;/slides/08-slides.pdf&#34; role=&#34;button&#34;&gt;&lt;i class=&#34;far fa-file-pdf&#34;&gt;&lt;/i&gt; Download PDF of all slides&lt;/a&gt;&lt;/p&gt;
&lt;ul class=&#34;nav nav-tabs&#34; id=&#34;slide-tabs&#34; role=&#34;tablist&#34;&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link active&#34; id=&#34;introduction-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#introduction&#34; role=&#34;tab&#34; aria-controls=&#34;introduction&#34; aria-selected=&#34;true&#34;&gt;Introduction&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link&#34; id=&#34;quasiexperiments-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#quasiexperiments&#34; role=&#34;tab&#34; aria-controls=&#34;quasiexperiments&#34; aria-selected=&#34;false&#34;&gt;Quasi-experiments&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link&#34; id=&#34;interactions--regression-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#interactions--regression&#34; role=&#34;tab&#34; aria-controls=&#34;interactions--regression&#34; aria-selected=&#34;false&#34;&gt;Interactions &amp; regression&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link&#34; id=&#34;two-wrongs-make-a-right-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#two-wrongs-make-a-right&#34; role=&#34;tab&#34; aria-controls=&#34;two-wrongs-make-a-right&#34; aria-selected=&#34;false&#34;&gt;Two wrongs make a right&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link&#34; id=&#34;diffindiff-assumptions-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#diffindiff-assumptions&#34; role=&#34;tab&#34; aria-controls=&#34;diffindiff-assumptions&#34; aria-selected=&#34;false&#34;&gt;Diff-in-diff assumptions&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;slide-tabs&#34; class=&#34;tab-content&#34;&gt;
&lt;div id=&#34;introduction&#34; class=&#34;tab-pane fade show active&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;introduction-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/08-slides.html#1&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;quasiexperiments&#34; class=&#34;tab-pane fade&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;quasiexperiments-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/08-slides.html#quasi-experiments&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;interactions--regression&#34; class=&#34;tab-pane fade&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;interactions--regression-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/08-slides.html#interactions-regression&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;two-wrongs-make-a-right&#34; class=&#34;tab-pane fade&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;two-wrongs-make-a-right-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/08-slides.html#two-wrongs&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;diffindiff-assumptions&#34; class=&#34;tab-pane fade&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;diffindiff-assumptions-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/08-slides.html#diff-diff-assumptions&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;fyi&#34;&gt;
&lt;strong&gt;Fun fact&lt;/strong&gt;: If you type &lt;kbd&gt;?&lt;/kbd&gt; (or &lt;kbd&gt;shift&lt;/kbd&gt; + &lt;kbd&gt;/&lt;/kbd&gt;) while going through the slides, you can see a list of special slide-specific commands.
&lt;/div&gt;
&lt;h2 id=&#34;videos&#34;&gt;Videos&lt;/h2&gt;
&lt;p&gt;Videos for each section of the lecture are &lt;a href=&#34;https://www.youtube.com/playlist?list=PLS6tnpTr39sHydbEoTK9DkyKV92-uE3r-&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;available at this YouTube playlist&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=4y84N23Mx-o&amp;amp;list=PLS6tnpTr39sHydbEoTK9DkyKV92-uE3r-&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Introduction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=ZHBZtKL7zAg&amp;amp;list=PLS6tnpTr39sHydbEoTK9DkyKV92-uE3r-&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Quasi-experiments&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=B060u1zGOWo&amp;amp;list=PLS6tnpTr39sHydbEoTK9DkyKV92-uE3r-&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Interactions &amp;amp; regression&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=0v1aE70FhsQ&amp;amp;list=PLS6tnpTr39sHydbEoTK9DkyKV92-uE3r-&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Two wrongs make a right&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=tDWoNTk8CS4&amp;amp;list=PLS6tnpTr39sHydbEoTK9DkyKV92-uE3r-&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Diff-in-diff assumptions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can also watch the playlist (and skip around to different sections) here:&lt;/p&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;https://www.youtube.com/embed/playlist?list=PLS6tnpTr39sHydbEoTK9DkyKV92-uE3r-&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Paul J. Gertler et al., &lt;em&gt;Impact Evaluation in Practice&lt;/em&gt;, 2nd ed. (Inter-American Development Bank; World Bank, 2016), &lt;a href=&#34;https://openknowledge.worldbank.org/handle/10986/25030&#34;&gt;https://openknowledge.worldbank.org/handle/10986/25030&lt;/a&gt;. &lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Joshua D. Angrist and Jörn-Steffen Pischke, &lt;em&gt;Mastering ’Metrics: The Path from Cause to Effect&lt;/em&gt; (Princeton, NJ: Princeton University Press, 2015). &lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:3&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Scott Cunningham, &lt;em&gt;Causal Inference: The Mixtape&lt;/em&gt; (New Haven, CT: Yale University Press, 2021), &lt;a href=&#34;https://mixtape.scunning.com/&#34;&gt;https://mixtape.scunning.com/&lt;/a&gt;. &lt;a href=&#34;#fnref:3&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
    </item>
    
    <item>
      <title>Muestras complejas</title>
      <link>/content/07-content/</link>
      <pubDate>Mon, 27 Sep 2021 00:00:00 +0000</pubDate>
      <guid>/content/07-content/</guid>
      <description>&lt;h2 id=&#34;readings&#34;&gt;Readings&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-file-pdf&#34;&gt;&lt;/i&gt; Andrew Heiss, “Causal Inference,” Chapter 10 in &lt;em&gt;R for Political Data Science: A Practical Guide&lt;/em&gt; (forthcoming) (Ignore the exercises!). &lt;a href=&#34;/files/10-causal-inference.pdf&#34;&gt;Get the PDF here.&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-book&#34;&gt;&lt;/i&gt; Chapter 4 in &lt;em&gt;Impact Evaluation in Practice&lt;/em&gt;&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-book&#34;&gt;&lt;/i&gt; Chapter 1 in &lt;em&gt;Mastering ’Metrics&lt;/em&gt;&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-podcast&#34;&gt;&lt;/i&gt; Planet Money, &lt;a href=&#34;https://www.npr.org/2019/08/30/756028025/episode-937-moving-to-opportunity&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;“Moving To Opportunity?,”&lt;/a&gt; episode 937&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-external-link-square-alt&#34;&gt;&lt;/i&gt; Aaron Carroll, &lt;a href=&#34;https://www.nytimes.com/2018/08/06/upshot/employer-wellness-programs-randomized-trials.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;“Workplace Wellness Programs Don’t Work Well. Why Some Studies Show Otherwise,”&lt;/a&gt; &lt;em&gt;The Upshot&lt;/em&gt;, August 6, 2018&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;rcts-matching-and-inverse-probability-weighting&#34;&gt;RCTs, matching, and inverse probability weighting&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;The &lt;a href=&#34;/example/rcts/&#34;&gt;example page on RCTs&lt;/a&gt; shows how to use R to analyze and estimate causal effects from RCTs&lt;/li&gt;
&lt;li&gt;The &lt;a href=&#34;/example/matching-ipw/&#34;&gt;example page on matching and inverse probability weighting&lt;/a&gt; shows how to use R to close backdoors, make adjustments, and find causal effects from observational data using matching and inverse probability weighting&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;slides&#34;&gt;Slides&lt;/h2&gt;
&lt;p&gt;The slides for today’s lesson are available online as an HTML file. Use the buttons below to open the slides either as an interactive website or as a static PDF (for printing or storing for later). You can also click in the slides below and navigate through them with your left and right arrow keys.&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;btn btn-primary btn-lg&#34; target=&#34;_blank&#34; href=&#34;/slides/07-slides.html&#34;&gt;&lt;i class=&#34;fas fa-external-link-alt&#34;&gt;&lt;/i&gt; View all slides in new window&lt;/a&gt; &lt;a class=&#34;btn btn-primary btn-lg&#34; target=&#34;_blank&#34; href=&#34;/slides/07-slides.pdf&#34; role=&#34;button&#34;&gt;&lt;i class=&#34;far fa-file-pdf&#34;&gt;&lt;/i&gt; Download PDF of all slides&lt;/a&gt;&lt;/p&gt;
&lt;ul class=&#34;nav nav-tabs&#34; id=&#34;slide-tabs&#34; role=&#34;tablist&#34;&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link active&#34; id=&#34;introduction-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#introduction&#34; role=&#34;tab&#34; aria-controls=&#34;introduction&#34; aria-selected=&#34;true&#34;&gt;Introduction&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link&#34; id=&#34;the-magic-of-randomization-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#the-magic-of-randomization&#34; role=&#34;tab&#34; aria-controls=&#34;the-magic-of-randomization&#34; aria-selected=&#34;false&#34;&gt;The magic of randomization&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link&#34; id=&#34;how-to-analyze-rcts-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#how-to-analyze-rcts&#34; role=&#34;tab&#34; aria-controls=&#34;how-to-analyze-rcts&#34; aria-selected=&#34;false&#34;&gt;How to analyze RCTs&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link&#34; id=&#34;the-gold-standard-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#the-gold-standard&#34; role=&#34;tab&#34; aria-controls=&#34;the-gold-standard&#34; aria-selected=&#34;false&#34;&gt;The “gold” standard&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link&#34; id=&#34;adjustment-with-matching-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#adjustment-with-matching&#34; role=&#34;tab&#34; aria-controls=&#34;adjustment-with-matching&#34; aria-selected=&#34;false&#34;&gt;Adjustment with matching&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;slide-tabs&#34; class=&#34;tab-content&#34;&gt;
&lt;div id=&#34;introduction&#34; class=&#34;tab-pane fade show active&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;introduction-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/07-slides.html#1&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;the-magic-of-randomization&#34; class=&#34;tab-pane fade&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;the-magic-of-randomization-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/07-slides.html#magic-randomization&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;how-to-analyze-rcts&#34; class=&#34;tab-pane fade&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;how-to-analyze-rcts-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/07-slides.html#rct-how&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;the-gold-standard&#34; class=&#34;tab-pane fade&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;the-gold-standard-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/07-slides.html#gold-standard&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;adjustment-with-matching&#34; class=&#34;tab-pane fade&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;adjustment-with-matching-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/07-slides.html#matching&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;fyi&#34;&gt;
&lt;strong&gt;Fun fact&lt;/strong&gt;: If you type &lt;kbd&gt;?&lt;/kbd&gt; (or &lt;kbd&gt;shift&lt;/kbd&gt; + &lt;kbd&gt;/&lt;/kbd&gt;) while going through the slides, you can see a list of special slide-specific commands.
&lt;/div&gt;
&lt;h2 id=&#34;videos&#34;&gt;Videos&lt;/h2&gt;
&lt;p&gt;Videos for each section of the lecture are &lt;a href=&#34;https://www.youtube.com/playlist?list=PLS6tnpTr39sGJURMOwN9tf9MNDN4t0JMz&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;available at this YouTube playlist&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=m4nKVJ-2K3I&amp;amp;list=PLS6tnpTr39sGJURMOwN9tf9MNDN4t0JMz&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Introduction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=-zjSixOybQE&amp;amp;list=PLS6tnpTr39sGJURMOwN9tf9MNDN4t0JMz&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;The magic of randomization&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=W0NyALrjLA4&amp;amp;list=PLS6tnpTr39sGJURMOwN9tf9MNDN4t0JMz&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;How to analyze RCTs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=vHb2TYAze74&amp;amp;list=PLS6tnpTr39sGJURMOwN9tf9MNDN4t0JMz&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;The “gold” standard&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=jECz-SS-sqc&amp;amp;list=PLS6tnpTr39sGJURMOwN9tf9MNDN4t0JMz&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Adjustment with matching&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can also watch the playlist (and skip around to different sections) here:&lt;/p&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;https://www.youtube.com/embed/playlist?list=PLS6tnpTr39sGJURMOwN9tf9MNDN4t0JMz&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Paul J. Gertler et al., &lt;em&gt;Impact Evaluation in Practice&lt;/em&gt;, 2nd ed. (Inter-American Development Bank; World Bank, 2016), &lt;a href=&#34;https://openknowledge.worldbank.org/handle/10986/25030&#34;&gt;https://openknowledge.worldbank.org/handle/10986/25030&lt;/a&gt;. &lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Joshua D. Angrist and Jörn-Steffen Pischke, &lt;em&gt;Mastering ’Metrics: The Path from Cause to Effect&lt;/em&gt; (Princeton, NJ: Princeton University Press, 2015). &lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
    </item>
    
    <item>
      <title>Muestras complejas</title>
      <link>/example/07-practico/</link>
      <pubDate>Mon, 27 Sep 2021 00:00:00 +0000</pubDate>
      <guid>/example/07-practico/</guid>
      <description>&lt;h2 id=&#34;dags-with-dagittynet&#34;&gt;DAGs with dagitty.net&lt;/h2&gt;
&lt;p&gt;The easiest way to quickly build DAGs and find adjustment sets and testable implications is to use &lt;a href=&#34;http://dagitty.net/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;dagitty.net&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This video shows how to use it:&lt;/p&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;https://www.youtube.com/embed/3euqrnD9w7c&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;h2 id=&#34;dags-with-r-ggdag-and-dagitty&#34;&gt;DAGs with R, ggdag, and dagitty&lt;/h2&gt;
&lt;p&gt;You can use the &lt;a href=&#34;https://ggdag.malco.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;ggdag&lt;/strong&gt;&lt;/a&gt; and &lt;a href=&#34;http://dagitty.net/primer/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;dagitty&lt;/strong&gt;&lt;/a&gt; packages in R to build and work with DAGs too. I typically draw an initial DAG in my browser with dagitty.net and then I rewrite it in code in R so that it&amp;rsquo;s more official and formal and reproducible.&lt;/p&gt;
&lt;h3 id=&#34;live-coding-example&#34;&gt;Live coding example&lt;/h3&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;https://www.youtube.com/embed/uoAjyyToUTE&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;h3 id=&#34;basic-dags&#34;&gt;Basic DAGs&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;(This is a heavily cleaned up and annotated version of the code from the video.)&lt;/em&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Load packages&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(tidyverse)  &lt;span style=&#34;color:#75715e&#34;&gt;# For dplyr, ggplot, and friends&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(ggdag)      &lt;span style=&#34;color:#75715e&#34;&gt;# For plotting DAGs&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(dagitty)    &lt;span style=&#34;color:#75715e&#34;&gt;# For working with DAG logic&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The general process for making and working with DAGs in R is to create a DAG object with &lt;code&gt;dagify()&lt;/code&gt; and then plot it with &lt;code&gt;ggdag()&lt;/code&gt;. The documentation for &lt;strong&gt;ggdag&lt;/strong&gt; is really good and helpful and full of examples. Check these pages for all sorts of additional details:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://ggdag.malco.io/articles/intro-to-ggdag.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&amp;ldquo;An introduction to ggdag&amp;rdquo;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://ggdag.malco.io/articles/intro-to-dags.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&amp;ldquo;An introduction to directed acyclic graphs&amp;rdquo;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://ggdag.malco.io/reference/index.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;List of all ggdag-related functions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The syntax for &lt;code&gt;dagify()&lt;/code&gt; is similar to the formula syntax you&amp;rsquo;ve been using for building regression models with &lt;code&gt;lm()&lt;/code&gt;. The formulas you use in &lt;code&gt;dagify()&lt;/code&gt; indicate the relationships between nodes.&lt;/p&gt;
&lt;p&gt;For instance, in this DAG, &lt;code&gt;y&lt;/code&gt; is caused by &lt;code&gt;x&lt;/code&gt;, &lt;code&gt;a&lt;/code&gt;, and &lt;code&gt;b&lt;/code&gt; (&lt;code&gt;y ~ x + a + b&lt;/code&gt;), and &lt;code&gt;x&lt;/code&gt; is caused by &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; (&lt;code&gt;x ~ a + b&lt;/code&gt;). This means that &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; are confounders. Use the &lt;code&gt;exposure&lt;/code&gt; and &lt;code&gt;outcome&lt;/code&gt; arguments to specify which nodes are the exposure (or treatment/intervention/program) and the outcome.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Create super basic DAG&lt;/span&gt;
simple_dag &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  y &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  x &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;x&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;y&amp;#34;&lt;/span&gt;
)

&lt;span style=&#34;color:#75715e&#34;&gt;# Adding a theme_dag() layer to the plot makes it have a white background with no axis labels&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag&lt;/span&gt;(simple_dag) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/07-practico_files/figure-html/super-basic-dag-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;If you want to plot which nodes are the exposure and outcome, use &lt;code&gt;ggdag_status()&lt;/code&gt; instead:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(simple_dag) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/07-practico_files/figure-html/simple-status-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;layouts-and-manual-coordinates&#34;&gt;Layouts and manual coordinates&lt;/h3&gt;
&lt;p&gt;Notice how the layout is different in both of those graphs. By default, &lt;code&gt;ggdag()&lt;/code&gt; positions the nodes randomly every time using a network algorithm. You can change the algorithm by using the &lt;code&gt;layout&lt;/code&gt; argument: &lt;code&gt;ggdag(simple_dag, layout = &amp;quot;nicely&amp;quot;)&lt;/code&gt;. You can see a full list of possible algorithms by running &lt;code&gt;?layout_tbl_graph_igraph&lt;/code&gt; in the console.&lt;/p&gt;
&lt;p&gt;Alternatively, you can specify your own coordinates so that the nodes are positioned in the same place every time. Do this with the &lt;code&gt;coords&lt;/code&gt; argument in &lt;code&gt;dagify()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The best way to figure out what these numbers should be is to draw the DAG on paper or on a whiteboard and add a grid to it and then figure out the coordinates. For instance, in this DAG there are three rows and three columns: &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt; go in the middle row (row 2) while &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; go in the middle column (column 2). It can also be helpful to not include &lt;code&gt;theme_dag()&lt;/code&gt; at first so you can see the numbers for the underlying grid. Once you have everything positioned correctly, add &lt;code&gt;theme_dag()&lt;/code&gt; to clean it up.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;simple_dag_with_coords &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  y &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  x &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;x&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;y&amp;#34;&lt;/span&gt;,
  coords &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;),
                y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;))
)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(simple_dag_with_coords) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/07-practico_files/figure-html/dag-with-coords-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;node-names-and-labels&#34;&gt;Node names and labels&lt;/h3&gt;
&lt;p&gt;The variable names you use do not have to be limited to just &lt;code&gt;x&lt;/code&gt;, &lt;code&gt;y&lt;/code&gt;, and other lowercase letters. You can any names you want, as long as there are no spaces.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;dag_with_var_names &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; treatment &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; confounder1 &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; confounder2,
  treatment &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; confounder1 &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; confounder2,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;treatment&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;outcome&amp;#34;&lt;/span&gt;
)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(dag_with_var_names) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/07-practico_files/figure-html/dag-with-names-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;However, unless you use very short names, it is likely that the text will not fit inside the nodes. To get around this, you can add labels to the nodes using the &lt;code&gt;labels&lt;/code&gt; argument in &lt;code&gt;dagify()&lt;/code&gt;. Plot the labels by setting &lt;code&gt;use_labels = &amp;quot;label&amp;quot;&lt;/code&gt; in &lt;code&gt;ggdag()&lt;/code&gt;. You can turn off the text in the nodes with &lt;code&gt;text = FALSE&lt;/code&gt; in &lt;code&gt;ggdag()&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;simple_dag_with_coords_and_labels &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  y &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  x &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;x&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;y&amp;#34;&lt;/span&gt;,
  labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Outcome&amp;#34;&lt;/span&gt;, x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Treatment&amp;#34;&lt;/span&gt;,
             a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Confounder 1&amp;#34;&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Confounder 2&amp;#34;&lt;/span&gt;),
  coords &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;),
                y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;))
)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(simple_dag_with_coords_and_labels,
             use_labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;, text &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;guides&lt;/span&gt;(fill &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Disable the legend&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/07-practico_files/figure-html/dag-with-labels-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;paths-and-adjustment-sets&#34;&gt;Paths and adjustment sets&lt;/h3&gt;
&lt;p&gt;R can also perform analysis on DAG objects. For example, we can find all the testable implications from the DAG using the &lt;code&gt;impliedConditionalIndependencies()&lt;/code&gt; function from the &lt;strong&gt;dagitty&lt;/strong&gt; package. For this simple DAG, there is only one: &lt;code&gt;a&lt;/code&gt; should be independent of &lt;code&gt;b&lt;/code&gt;. If we had a dataset with columns for each of these variables, we could check if this is true by running &lt;code&gt;cor(a, b)&lt;/code&gt; to see if the two are related.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;impliedConditionalIndependencies&lt;/span&gt;(simple_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## a _||_ b&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We can also find all the paths between &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt; using the &lt;code&gt;paths()&lt;/code&gt; function from the &lt;strong&gt;dagitty&lt;/strong&gt; package. We can see that there are three open paths between &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;paths&lt;/span&gt;(simple_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## $paths&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] &amp;#34;x -&amp;gt; y&amp;#34;      &amp;#34;x &amp;lt;- a -&amp;gt; y&amp;#34; &amp;#34;x &amp;lt;- b -&amp;gt; y&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## $open&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] TRUE TRUE TRUE&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The first open path is fine—we want a single &lt;em&gt;d&lt;/em&gt;-connected relationship between treatment and outcome—but the other two indicate that there is confounding from &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt;. We can see what each of these paths are with the &lt;code&gt;ggdag_paths()&lt;/code&gt; function from the &lt;strong&gt;ggdag&lt;/strong&gt; package:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_paths&lt;/span&gt;(simple_dag_with_coords) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/07-practico_files/figure-html/plot-dag-paths-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Instead of listing out all the possible paths and identifying backdoors by hand, you can use the &lt;code&gt;adjustmentSets()&lt;/code&gt; function in the &lt;strong&gt;dagitty&lt;/strong&gt; package to programmatically find all the nodes that need to be adjusted. Here we see that both &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; need to be controlled for to isolate the &lt;code&gt;x -&amp;gt; y&lt;/code&gt; relationship.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;adjustmentSets&lt;/span&gt;(simple_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## { a, b }&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You can also visualize the adjustment sets with &lt;code&gt;ggdag_adjustment_set()&lt;/code&gt; in the &lt;strong&gt;ggdag&lt;/strong&gt; package. Make sure you set &lt;code&gt;shadow = TRUE&lt;/code&gt; to draw the arrows coming out of the adjusted nodes—by default, those are not included.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_adjustment_set&lt;/span&gt;(simple_dag_with_coords, shadow &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/07-practico_files/figure-html/plot-adjustment-sets-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;R will find minimally sufficient adjustment sets, which includes the fewest number of adjustments needed to close all backdoors between &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt;. In this example DAG there was only one set of variables (&lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt;), but in other situations there could be many possible sets, or none if the causal effect is not identifiable.&lt;/p&gt;
&lt;h3 id=&#34;plot-dag-from-dagittynet-with-ggdag&#34;&gt;Plot DAG from dagitty.net with &lt;code&gt;ggdag()&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;If you use &lt;a href=&#34;http://dagitty.net/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;dagitty.net&lt;/a&gt; to draw a DAG, you&amp;rsquo;ll notice that it generates some code for you in the model code section:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/example/dagitty-code.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;You can copy that &lt;code&gt;dag{ ... }&lt;/code&gt; code and paste it into R to define a DAG object rather than use the &lt;code&gt;dagify()&lt;/code&gt; function. To do this, use the &lt;code&gt;dagitty()&lt;/code&gt; function from the &lt;strong&gt;dagitty&lt;/strong&gt; library and include the whole generated model code in single quotes (&lt;code&gt;&#39;&#39;&lt;/code&gt;):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;model_from_dagitty &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagitty&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;dag {
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;bb=&amp;#34;0,0,1,1&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; [pos=&amp;#34;0.809,0.306&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; [pos=&amp;#34;0.810,0.529&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some outcome&amp;#34; [outcome,pos=&amp;#34;0.918,0.432&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some treatment&amp;#34; [exposure,pos=&amp;#34;0.681,0.426&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; -&amp;gt; &amp;#34;Some treatment&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; -&amp;gt; &amp;#34;Some treatment&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some treatment&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;}
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&lt;/span&gt;)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag&lt;/span&gt;(model_from_dagitty) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/07-practico_files/figure-html/code-from-dagitty-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;By default it&amp;rsquo;s going to look ugly because (1) the node labels don&amp;rsquo;t fit, and (2) slight differences in the coordinates make it so the nodes don&amp;rsquo;t perfectly align with each other. To fix coordinate alignment, you can modify the numbers in the generated DAG code. Here I rounded the numbers so that they&amp;rsquo;re all 0.3, 0.8, etc.&lt;/p&gt;
&lt;p&gt;To fix the label issue, you can add the &lt;code&gt;use_labels&lt;/code&gt; argument like normally. Only here, you can&amp;rsquo;t specify &lt;code&gt;use_labels = &amp;quot;label&amp;quot;&lt;/code&gt;. Instead, when you specify a DAG using dagitty&amp;rsquo;s code like this, the column in the underlying dataset that contains the labels is named &lt;code&gt;name&lt;/code&gt;, so you need to use &lt;code&gt;use_labels = &amp;quot;name&amp;quot;&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Other &lt;code&gt;ggdag()&lt;/code&gt; variations like &lt;code&gt;ggdag_status()&lt;/code&gt; will still work fine.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;model_from_dagitty_rounded &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagitty&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;dag {
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;bb=&amp;#34;0,0,1,1&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; [pos=&amp;#34;0.8,0.3&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; [pos=&amp;#34;0.8,0.5&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some outcome&amp;#34; [outcome,pos=&amp;#34;0.9,0.4&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some treatment&amp;#34; [exposure,pos=&amp;#34;0.7,0.4&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; -&amp;gt; &amp;#34;Some treatment&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; -&amp;gt; &amp;#34;Some treatment&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some treatment&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;}
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&lt;/span&gt;)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(model_from_dagitty_rounded, text &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, use_labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;guides&lt;/span&gt;(color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Turn off legend&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/07-practico_files/figure-html/code-from-dagitty-better-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;mosquito-net-example&#34;&gt;Mosquito net example&lt;/h2&gt;
&lt;h3 id=&#34;conditional-independencies&#34;&gt;Conditional independencies&lt;/h3&gt;
&lt;p&gt;You can test if your stated relationships are correct by looking at the conditional independencies that are implied by the DAG. In dagitty.net, these appear in the sidebar in the &amp;ldquo;Testable implications&amp;rdquo; section. To show how this works, we&amp;rsquo;ll use a simulated dataset that I generated about a fictional mosquito net program. Download the data here if you want to follow along:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/data/mosquito_nets.csv&#34;&gt;&lt;i class=&#34;fas fa-table&#34;&gt;&lt;/i&gt; &lt;code&gt;mosquito_nets.csv&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Researchers are interested in whether using mosquito nets decreases an individual&amp;rsquo;s risk of contracting malaria. They have collected data from 1,752 households in an unnamed country and have variables related to environmental factors, individual health, and household characteristics. Additionally, this country has a special government program that provides free mosquito nets to households that meet specific requirements: to qualify for the program, there must be more than 4 members of the household, and the household&amp;rsquo;s monthly income must be lower than $700 a month. Households are not automatically enrolled in the program, and many do not use it. The data is not experimental—researchers have no control over who uses mosquito nets, and individual households make their own choices over whether to apply for free nets or buy their own nets, as well as whether they use the nets if they have them.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;mosquito_dag &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; net &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; health &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; temperature &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; resistance,
  net &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; health &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; temperature &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; eligible &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; household,
  eligible &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; household,
  health &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; income,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;net&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;malaria_risk&amp;#34;&lt;/span&gt;,
  coords &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, income &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;, health &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;,
                      temperature &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;, resistance &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;8.5&lt;/span&gt;, eligible &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, household &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;),
                y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, income &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, health &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,
                      temperature &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, resistance &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, eligible &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, household &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;)),
  labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Risk of malaria&amp;#34;&lt;/span&gt;, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Mosquito net&amp;#34;&lt;/span&gt;, income &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Income&amp;#34;&lt;/span&gt;,
             health &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Health&amp;#34;&lt;/span&gt;, temperature &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Nighttime temperatures&amp;#34;&lt;/span&gt;,
             resistance &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Insecticide resistance&amp;#34;&lt;/span&gt;,
             eligible &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Eligible for program&amp;#34;&lt;/span&gt;, household &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Number in household&amp;#34;&lt;/span&gt;)
)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(mosquito_dag, use_labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;, text &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;guides&lt;/span&gt;(fill &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Disable the legend&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/07-practico_files/figure-html/build-mosquito-dag-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The causal graph above  outlines the complete relationship between mosquito net use and risk of malaria. Each node in the DAG is a column in the dataset collected by the researchers, and includes the following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Malaria risk (&lt;code&gt;malaria_risk&lt;/code&gt;): The likelihood that someone in the household will be infected with malaria. Measured on a scale of 0–100, with higher values indicating higher risk.&lt;/li&gt;
&lt;li&gt;Mosquito net (&lt;code&gt;net&lt;/code&gt; and &lt;code&gt;net_num&lt;/code&gt;): A binary variable indicating if the household used mosquito nets.&lt;/li&gt;
&lt;li&gt;Eligible for program (&lt;code&gt;eligible&lt;/code&gt;): A binary variable indicating if the household is eligible for the free net program.&lt;/li&gt;
&lt;li&gt;Income (&lt;code&gt;income&lt;/code&gt;): The household&amp;rsquo;s monthly income, in US dollars.&lt;/li&gt;
&lt;li&gt;Nighttime temperatures (&lt;code&gt;temperature&lt;/code&gt;): The average temperature at night, in Celsius.&lt;/li&gt;
&lt;li&gt;Health (&lt;code&gt;health&lt;/code&gt;): Self-reported healthiness in the household. Measured on a scale of 0–100, with higher values indicating better health.&lt;/li&gt;
&lt;li&gt;Number in household (&lt;code&gt;household&lt;/code&gt;): Number of people living in the household.&lt;/li&gt;
&lt;li&gt;Insecticide resistance (&lt;code&gt;resistance&lt;/code&gt;): Some strains of mosquitoes are more resistant to insecticide and thus pose a higher risk of infecting people with malaria. This is measured on a scale of 0–100, with higher values indicating higher resistance.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;According to the DAG, malaria risk is caused by income, temperatures, health, insecticide resistance, and mosquito net use. People who live in hotter regions, have lower incomes, have worse health, are surrounded by mosquitoes with high resistance to insecticide, and who do not use mosquito nets are at higher risk of contracting malaria than those who do not. Mosquito net use is caused by income, nighttime temperatures, health, the number of people living in the house, and eligibility for the free net program. People who live in areas that are cooler at night, have higher incomes, have better health, have more people in the home, and are eligible for free government nets are more likely to regularly use nets than those who do not. The DAG also shows that eligibility for the free net program is caused by income and household size, since households must meet specific thresholds to qualify.&lt;/p&gt;
&lt;p&gt;First, let&amp;rsquo;s download the dataset, put in a folder named &lt;code&gt;data&lt;/code&gt;, and load it:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/data/mosquito_nets.csv&#34;&gt;&lt;i class=&#34;fas fa-table&#34;&gt;&lt;/i&gt; &lt;code&gt;mosquito_nets.csv&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Load the data.&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# It&amp;#39;d be a good idea to click on the &amp;#34;mosquito_nets.csv&amp;#34; object in the&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# Environment panel in RStudio to see what the data looks like after you load it&lt;/span&gt;
mosquito_nets &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;read_csv&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;data/mosquito_nets.csv&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We can use this data to check if the relationships defined by our DAG reflect reality. Recall that &lt;em&gt;d&lt;/em&gt;-separation implies that nodes are statistically independent of each other and do not transfer associational information. If you draw the mosquito net DAG with dagitty.net, or if you run &lt;code&gt;impliedConditionalIndependencies()&lt;/code&gt; in R, you can see a list of all the implied conditional independencies.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;impliedConditionalIndependencies&lt;/span&gt;(mosquito_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## elgb _||_ hlth | incm&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## elgb _||_ mlr_ | hlth, incm, net, tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## elgb _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## elgb _||_ tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hlth _||_ hshl&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hlth _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hlth _||_ tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hshl _||_ incm&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hshl _||_ mlr_ | hlth, incm, net, tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hshl _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hshl _||_ tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## incm _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## incm _||_ tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## net _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## rsst _||_ tmpr&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The &lt;code&gt;_||_&lt;/code&gt; symbol in the output here is the &lt;code&gt;\(\perp\)&lt;/code&gt; symbol, which means &amp;ldquo;independent of&amp;rdquo;. The &lt;code&gt;|&lt;/code&gt; in the output means &amp;ldquo;given&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;In the interest of space, we will not verify all these implied independencies, but we can test a few of them:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;\(\text{Health} \perp \text{Household members}\)&lt;/code&gt;: (Read as &lt;em&gt;&amp;ldquo;Health is independent of household member count&amp;rdquo;&lt;/em&gt;.) Health should be independent of the number of people in each household. In the data, the two variables should not be correlated. This is indeed the case:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cor&lt;/span&gt;(mosquito_nets&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;health, mosquito_nets&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;household)
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] 9.8e-05&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;\(\text{Income} \perp \text{Insecticide resistance}\)&lt;/code&gt;: (Read as &lt;em&gt;&amp;ldquo;Income is independent of insecticide resistance&amp;rdquo;&lt;/em&gt;.) Income should be independent of insecticide resistance. This is again true:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cor&lt;/span&gt;(mosquito_nets&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;income, mosquito_nets&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;resistance)
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] 0.014&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;\(\text{Malaria risk} \perp \text{Household members}\ |\ \text{Health, Income, Bed net use, Temperature}\)&lt;/code&gt;: (Read as &lt;em&gt;&amp;ldquo;Malaria risk is independent of house member count given health, income, bed net use, and temperature&amp;rdquo;&lt;/em&gt;.) Malaria risk should be independent of the number of household members given similar levels of health, income, mosquito net use, and nighttime temperatures. We cannot use &lt;code&gt;cor()&lt;/code&gt; to test this implication, since there are many variables involved, but we can use a regression model to check if the number of household members is significantly related to malaria risk. It is not significant ($t = -0.17$, &lt;code&gt;\(p = 0.863\)&lt;/code&gt;), which means the two are independent, as expected.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; household &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; health &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; net &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; temperature,
   data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mosquito_nets) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  broom&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;()
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 6 x 5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   term        estimate std.error statistic   p.value&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 (Intercept)  76.2      0.966      78.9   0.       &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 household    -0.0155   0.0893     -0.173 8.63e-  1&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3 health        0.148    0.0107     13.9   9.75e- 42&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 4 income       -0.0751   0.00104   -72.6   0.       &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 5 netTRUE     -10.4      0.266     -39.2   2.63e-241&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 6 temperature   1.01     0.0310     32.5   1.88e-181&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We can check all the other conditional independencies to see if the DAG captures the reality of the full system of factors that influence mosquito net use and malaria risk. If there are substantial and significant correlations between nodes that should be independent, there is likely an issue with the specification of the DAG. Return to the theory of how the phenomena are generated and refine the DAG more.&lt;/p&gt;
&lt;h3 id=&#34;mosquito-net-adjustment-sets&#34;&gt;Mosquito net adjustment sets&lt;/h3&gt;
&lt;p&gt;There is a direct path between mosquito net use and the risk of malaria, but the effect is not causally identified due to several other open paths. We can either list out all the paths and find which open paths have arrows pointing backwards into the mosquito net node (run &lt;code&gt;paths(mosquito_dag)&lt;/code&gt; to see these results), or we can let R find the appropriate adjustment sets automatically:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;adjustmentSets&lt;/span&gt;(mosquito_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## { health, income, temperature }&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Based on the relationships between all the nodes in the DAG, adjusting for health, income, and temperature is enough to close all backdoors and identify the relationship between net use and malaria risk. Importantly, we do not need to worry about any of the nodes related to the government program for free nets, since those nodes are not &lt;em&gt;d&lt;/em&gt;-connected to malaria risk. We only need to worry about confounding relationships.&lt;/p&gt;
&lt;p&gt;We can confirm this graphically with &lt;code&gt;ggdag_adjustment_set()&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_adjustment_set&lt;/span&gt;(mosquito_dag, shadow &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;,
                     use_labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;, text &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/07-practico_files/figure-html/plot-mosquito-adjustment-fake-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Análisis descriptivo</title>
      <link>/content/06-content/</link>
      <pubDate>Mon, 13 Sep 2021 00:00:00 +0000</pubDate>
      <guid>/content/06-content/</guid>
      <description>&lt;h2 id=&#34;readings&#34;&gt;Readings&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-external-link-square-alt&#34;&gt;&lt;/i&gt; Randall Munroe, &lt;a href=&#34;https://xkcd.com/882/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;“Significant”&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-external-link-square-alt&#34;&gt;&lt;/i&gt; Alexander Coppock, &lt;a href=&#34;https://egap.org/resource/10-things-to-know-about-statistical-power/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;“10 Things to Know About Statistical Power”&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-trophy&#34;&gt;&lt;/i&gt; Play around with FiveThirtyEight, &lt;a href=&#34;https://projects.fivethirtyeight.com/p-hacking/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;“Hack Your Way To Scientific Glory”&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-book&#34;&gt;&lt;/i&gt; Chapter 9 in &lt;em&gt;Impact Evaluation in Practice&lt;/em&gt;&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;slides&#34;&gt;Slides&lt;/h2&gt;
&lt;p&gt;The slides for today’s lesson are available online as an HTML file. Use the buttons below to open the slides either as an interactive website or as a static PDF (for printing or storing for later). You can also click in the slides below and navigate through them with your left and right arrow keys.&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;btn btn-primary btn-lg&#34; target=&#34;_blank&#34; href=&#34;/slides/06-slides.html&#34;&gt;&lt;i class=&#34;fas fa-external-link-alt&#34;&gt;&lt;/i&gt; View all slides in new window&lt;/a&gt; &lt;a class=&#34;btn btn-primary btn-lg&#34; target=&#34;_blank&#34; href=&#34;/slides/06-slides.pdf&#34; role=&#34;button&#34;&gt;&lt;i class=&#34;far fa-file-pdf&#34;&gt;&lt;/i&gt; Download PDF of all slides&lt;/a&gt;&lt;/p&gt;
&lt;ul class=&#34;nav nav-tabs&#34; id=&#34;slide-tabs&#34; role=&#34;tablist&#34;&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link active&#34; id=&#34;introduction-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#introduction&#34; role=&#34;tab&#34; aria-controls=&#34;introduction&#34; aria-selected=&#34;true&#34;&gt;Introduction&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link&#34; id=&#34;construct-validity-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#construct-validity&#34; role=&#34;tab&#34; aria-controls=&#34;construct-validity&#34; aria-selected=&#34;false&#34;&gt;Construct validity&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link&#34; id=&#34;statistical-conclusion-validity-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#statistical-conclusion-validity&#34; role=&#34;tab&#34; aria-controls=&#34;statistical-conclusion-validity&#34; aria-selected=&#34;false&#34;&gt;Statistical conclusion validity&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link&#34; id=&#34;internal-validity-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#internal-validity&#34; role=&#34;tab&#34; aria-controls=&#34;internal-validity&#34; aria-selected=&#34;false&#34;&gt;Internal validity&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link&#34; id=&#34;external-validity-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#external-validity&#34; role=&#34;tab&#34; aria-controls=&#34;external-validity&#34; aria-selected=&#34;false&#34;&gt;External validity&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;slide-tabs&#34; class=&#34;tab-content&#34;&gt;
&lt;div id=&#34;introduction&#34; class=&#34;tab-pane fade show active&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;introduction-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/06-slides.html#1&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;construct-validity&#34; class=&#34;tab-pane fade&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;construct-validity-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/06-slides.html#construct-validity&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;statistical-conclusion-validity&#34; class=&#34;tab-pane fade&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;statistical-conclusion-validity-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/06-slides.html#statistical-conclusion-validity&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;internal-validity&#34; class=&#34;tab-pane fade&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;internal-validity-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/06-slides.html#internal-validity&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;external-validity&#34; class=&#34;tab-pane fade&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;external-validity-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/06-slides.html#external-validity&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;fyi&#34;&gt;
&lt;strong&gt;Fun fact&lt;/strong&gt;: If you type &lt;kbd&gt;?&lt;/kbd&gt; (or &lt;kbd&gt;shift&lt;/kbd&gt; + &lt;kbd&gt;/&lt;/kbd&gt;) while going through the slides, you can see a list of special slide-specific commands.
&lt;/div&gt;
&lt;h2 id=&#34;videos&#34;&gt;Videos&lt;/h2&gt;
&lt;p&gt;Videos for each section of the lecture are &lt;a href=&#34;https://www.youtube.com/playlist?list=PLS6tnpTr39sFJtz7egfUASfhhz6zuj7GZ&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;available at this YouTube playlist&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=46v8l60nQnI&amp;amp;list=PLS6tnpTr39sFJtz7egfUASfhhz6zuj7GZ&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Introduction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=N4XYXuw_IA0&amp;amp;list=PLS6tnpTr39sFJtz7egfUASfhhz6zuj7GZ&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Construct validity&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=IziQBDzUJ6E&amp;amp;list=PLS6tnpTr39sFJtz7egfUASfhhz6zuj7GZ&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Statistical conclusion validity&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=ssz2DTfrGhw&amp;amp;list=PLS6tnpTr39sFJtz7egfUASfhhz6zuj7GZ&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Internal validity&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=uK7YN6KTRT4&amp;amp;list=PLS6tnpTr39sFJtz7egfUASfhhz6zuj7GZ&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;External validity&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can also watch the playlist (and skip around to different sections) here:&lt;/p&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;https://www.youtube.com/embed/playlist?list=PLS6tnpTr39sFJtz7egfUASfhhz6zuj7GZ&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Paul J. Gertler et al., &lt;em&gt;Impact Evaluation in Practice&lt;/em&gt;, 2nd ed. (Inter-American Development Bank; World Bank, 2016), &lt;a href=&#34;https://openknowledge.worldbank.org/handle/10986/25030&#34;&gt;https://openknowledge.worldbank.org/handle/10986/25030&lt;/a&gt;. &lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
    </item>
    
    <item>
      <title>Análisis descriptivo</title>
      <link>/example/06-practico/</link>
      <pubDate>Mon, 13 Sep 2021 00:00:00 +0000</pubDate>
      <guid>/example/06-practico/</guid>
      <description>&lt;h2 id=&#34;dags-with-dagittynet&#34;&gt;DAGs with dagitty.net&lt;/h2&gt;
&lt;p&gt;The easiest way to quickly build DAGs and find adjustment sets and testable implications is to use &lt;a href=&#34;http://dagitty.net/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;dagitty.net&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This video shows how to use it:&lt;/p&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;https://www.youtube.com/embed/3euqrnD9w7c&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;h2 id=&#34;dags-with-r-ggdag-and-dagitty&#34;&gt;DAGs with R, ggdag, and dagitty&lt;/h2&gt;
&lt;p&gt;You can use the &lt;a href=&#34;https://ggdag.malco.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;ggdag&lt;/strong&gt;&lt;/a&gt; and &lt;a href=&#34;http://dagitty.net/primer/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;dagitty&lt;/strong&gt;&lt;/a&gt; packages in R to build and work with DAGs too. I typically draw an initial DAG in my browser with dagitty.net and then I rewrite it in code in R so that it&amp;rsquo;s more official and formal and reproducible.&lt;/p&gt;
&lt;h3 id=&#34;live-coding-example&#34;&gt;Live coding example&lt;/h3&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;https://www.youtube.com/embed/uoAjyyToUTE&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;h3 id=&#34;basic-dags&#34;&gt;Basic DAGs&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;(This is a heavily cleaned up and annotated version of the code from the video.)&lt;/em&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Load packages&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(tidyverse)  &lt;span style=&#34;color:#75715e&#34;&gt;# For dplyr, ggplot, and friends&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(ggdag)      &lt;span style=&#34;color:#75715e&#34;&gt;# For plotting DAGs&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(dagitty)    &lt;span style=&#34;color:#75715e&#34;&gt;# For working with DAG logic&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The general process for making and working with DAGs in R is to create a DAG object with &lt;code&gt;dagify()&lt;/code&gt; and then plot it with &lt;code&gt;ggdag()&lt;/code&gt;. The documentation for &lt;strong&gt;ggdag&lt;/strong&gt; is really good and helpful and full of examples. Check these pages for all sorts of additional details:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://ggdag.malco.io/articles/intro-to-ggdag.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&amp;ldquo;An introduction to ggdag&amp;rdquo;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://ggdag.malco.io/articles/intro-to-dags.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&amp;ldquo;An introduction to directed acyclic graphs&amp;rdquo;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://ggdag.malco.io/reference/index.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;List of all ggdag-related functions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The syntax for &lt;code&gt;dagify()&lt;/code&gt; is similar to the formula syntax you&amp;rsquo;ve been using for building regression models with &lt;code&gt;lm()&lt;/code&gt;. The formulas you use in &lt;code&gt;dagify()&lt;/code&gt; indicate the relationships between nodes.&lt;/p&gt;
&lt;p&gt;For instance, in this DAG, &lt;code&gt;y&lt;/code&gt; is caused by &lt;code&gt;x&lt;/code&gt;, &lt;code&gt;a&lt;/code&gt;, and &lt;code&gt;b&lt;/code&gt; (&lt;code&gt;y ~ x + a + b&lt;/code&gt;), and &lt;code&gt;x&lt;/code&gt; is caused by &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; (&lt;code&gt;x ~ a + b&lt;/code&gt;). This means that &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; are confounders. Use the &lt;code&gt;exposure&lt;/code&gt; and &lt;code&gt;outcome&lt;/code&gt; arguments to specify which nodes are the exposure (or treatment/intervention/program) and the outcome.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Create super basic DAG&lt;/span&gt;
simple_dag &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  y &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  x &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;x&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;y&amp;#34;&lt;/span&gt;
)

&lt;span style=&#34;color:#75715e&#34;&gt;# Adding a theme_dag() layer to the plot makes it have a white background with no axis labels&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag&lt;/span&gt;(simple_dag) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/06-practico_files/figure-html/super-basic-dag-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;If you want to plot which nodes are the exposure and outcome, use &lt;code&gt;ggdag_status()&lt;/code&gt; instead:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(simple_dag) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/06-practico_files/figure-html/simple-status-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;layouts-and-manual-coordinates&#34;&gt;Layouts and manual coordinates&lt;/h3&gt;
&lt;p&gt;Notice how the layout is different in both of those graphs. By default, &lt;code&gt;ggdag()&lt;/code&gt; positions the nodes randomly every time using a network algorithm. You can change the algorithm by using the &lt;code&gt;layout&lt;/code&gt; argument: &lt;code&gt;ggdag(simple_dag, layout = &amp;quot;nicely&amp;quot;)&lt;/code&gt;. You can see a full list of possible algorithms by running &lt;code&gt;?layout_tbl_graph_igraph&lt;/code&gt; in the console.&lt;/p&gt;
&lt;p&gt;Alternatively, you can specify your own coordinates so that the nodes are positioned in the same place every time. Do this with the &lt;code&gt;coords&lt;/code&gt; argument in &lt;code&gt;dagify()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The best way to figure out what these numbers should be is to draw the DAG on paper or on a whiteboard and add a grid to it and then figure out the coordinates. For instance, in this DAG there are three rows and three columns: &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt; go in the middle row (row 2) while &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; go in the middle column (column 2). It can also be helpful to not include &lt;code&gt;theme_dag()&lt;/code&gt; at first so you can see the numbers for the underlying grid. Once you have everything positioned correctly, add &lt;code&gt;theme_dag()&lt;/code&gt; to clean it up.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;simple_dag_with_coords &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  y &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  x &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;x&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;y&amp;#34;&lt;/span&gt;,
  coords &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;),
                y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;))
)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(simple_dag_with_coords) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/06-practico_files/figure-html/dag-with-coords-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;node-names-and-labels&#34;&gt;Node names and labels&lt;/h3&gt;
&lt;p&gt;The variable names you use do not have to be limited to just &lt;code&gt;x&lt;/code&gt;, &lt;code&gt;y&lt;/code&gt;, and other lowercase letters. You can any names you want, as long as there are no spaces.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;dag_with_var_names &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; treatment &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; confounder1 &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; confounder2,
  treatment &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; confounder1 &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; confounder2,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;treatment&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;outcome&amp;#34;&lt;/span&gt;
)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(dag_with_var_names) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/06-practico_files/figure-html/dag-with-names-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;However, unless you use very short names, it is likely that the text will not fit inside the nodes. To get around this, you can add labels to the nodes using the &lt;code&gt;labels&lt;/code&gt; argument in &lt;code&gt;dagify()&lt;/code&gt;. Plot the labels by setting &lt;code&gt;use_labels = &amp;quot;label&amp;quot;&lt;/code&gt; in &lt;code&gt;ggdag()&lt;/code&gt;. You can turn off the text in the nodes with &lt;code&gt;text = FALSE&lt;/code&gt; in &lt;code&gt;ggdag()&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;simple_dag_with_coords_and_labels &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  y &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  x &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;x&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;y&amp;#34;&lt;/span&gt;,
  labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Outcome&amp;#34;&lt;/span&gt;, x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Treatment&amp;#34;&lt;/span&gt;,
             a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Confounder 1&amp;#34;&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Confounder 2&amp;#34;&lt;/span&gt;),
  coords &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;),
                y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;))
)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(simple_dag_with_coords_and_labels,
             use_labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;, text &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;guides&lt;/span&gt;(fill &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Disable the legend&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/06-practico_files/figure-html/dag-with-labels-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;paths-and-adjustment-sets&#34;&gt;Paths and adjustment sets&lt;/h3&gt;
&lt;p&gt;R can also perform analysis on DAG objects. For example, we can find all the testable implications from the DAG using the &lt;code&gt;impliedConditionalIndependencies()&lt;/code&gt; function from the &lt;strong&gt;dagitty&lt;/strong&gt; package. For this simple DAG, there is only one: &lt;code&gt;a&lt;/code&gt; should be independent of &lt;code&gt;b&lt;/code&gt;. If we had a dataset with columns for each of these variables, we could check if this is true by running &lt;code&gt;cor(a, b)&lt;/code&gt; to see if the two are related.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;impliedConditionalIndependencies&lt;/span&gt;(simple_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## a _||_ b&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We can also find all the paths between &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt; using the &lt;code&gt;paths()&lt;/code&gt; function from the &lt;strong&gt;dagitty&lt;/strong&gt; package. We can see that there are three open paths between &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;paths&lt;/span&gt;(simple_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## $paths&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] &amp;#34;x -&amp;gt; y&amp;#34;      &amp;#34;x &amp;lt;- a -&amp;gt; y&amp;#34; &amp;#34;x &amp;lt;- b -&amp;gt; y&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## $open&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] TRUE TRUE TRUE&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The first open path is fine—we want a single &lt;em&gt;d&lt;/em&gt;-connected relationship between treatment and outcome—but the other two indicate that there is confounding from &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt;. We can see what each of these paths are with the &lt;code&gt;ggdag_paths()&lt;/code&gt; function from the &lt;strong&gt;ggdag&lt;/strong&gt; package:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_paths&lt;/span&gt;(simple_dag_with_coords) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/06-practico_files/figure-html/plot-dag-paths-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Instead of listing out all the possible paths and identifying backdoors by hand, you can use the &lt;code&gt;adjustmentSets()&lt;/code&gt; function in the &lt;strong&gt;dagitty&lt;/strong&gt; package to programmatically find all the nodes that need to be adjusted. Here we see that both &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; need to be controlled for to isolate the &lt;code&gt;x -&amp;gt; y&lt;/code&gt; relationship.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;adjustmentSets&lt;/span&gt;(simple_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## { a, b }&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You can also visualize the adjustment sets with &lt;code&gt;ggdag_adjustment_set()&lt;/code&gt; in the &lt;strong&gt;ggdag&lt;/strong&gt; package. Make sure you set &lt;code&gt;shadow = TRUE&lt;/code&gt; to draw the arrows coming out of the adjusted nodes—by default, those are not included.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_adjustment_set&lt;/span&gt;(simple_dag_with_coords, shadow &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/06-practico_files/figure-html/plot-adjustment-sets-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;R will find minimally sufficient adjustment sets, which includes the fewest number of adjustments needed to close all backdoors between &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt;. In this example DAG there was only one set of variables (&lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt;), but in other situations there could be many possible sets, or none if the causal effect is not identifiable.&lt;/p&gt;
&lt;h3 id=&#34;plot-dag-from-dagittynet-with-ggdag&#34;&gt;Plot DAG from dagitty.net with &lt;code&gt;ggdag()&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;If you use &lt;a href=&#34;http://dagitty.net/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;dagitty.net&lt;/a&gt; to draw a DAG, you&amp;rsquo;ll notice that it generates some code for you in the model code section:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/example/dagitty-code.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;You can copy that &lt;code&gt;dag{ ... }&lt;/code&gt; code and paste it into R to define a DAG object rather than use the &lt;code&gt;dagify()&lt;/code&gt; function. To do this, use the &lt;code&gt;dagitty()&lt;/code&gt; function from the &lt;strong&gt;dagitty&lt;/strong&gt; library and include the whole generated model code in single quotes (&lt;code&gt;&#39;&#39;&lt;/code&gt;):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;model_from_dagitty &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagitty&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;dag {
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;bb=&amp;#34;0,0,1,1&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; [pos=&amp;#34;0.809,0.306&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; [pos=&amp;#34;0.810,0.529&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some outcome&amp;#34; [outcome,pos=&amp;#34;0.918,0.432&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some treatment&amp;#34; [exposure,pos=&amp;#34;0.681,0.426&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; -&amp;gt; &amp;#34;Some treatment&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; -&amp;gt; &amp;#34;Some treatment&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some treatment&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;}
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&lt;/span&gt;)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag&lt;/span&gt;(model_from_dagitty) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/06-practico_files/figure-html/code-from-dagitty-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;By default it&amp;rsquo;s going to look ugly because (1) the node labels don&amp;rsquo;t fit, and (2) slight differences in the coordinates make it so the nodes don&amp;rsquo;t perfectly align with each other. To fix coordinate alignment, you can modify the numbers in the generated DAG code. Here I rounded the numbers so that they&amp;rsquo;re all 0.3, 0.8, etc.&lt;/p&gt;
&lt;p&gt;To fix the label issue, you can add the &lt;code&gt;use_labels&lt;/code&gt; argument like normally. Only here, you can&amp;rsquo;t specify &lt;code&gt;use_labels = &amp;quot;label&amp;quot;&lt;/code&gt;. Instead, when you specify a DAG using dagitty&amp;rsquo;s code like this, the column in the underlying dataset that contains the labels is named &lt;code&gt;name&lt;/code&gt;, so you need to use &lt;code&gt;use_labels = &amp;quot;name&amp;quot;&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Other &lt;code&gt;ggdag()&lt;/code&gt; variations like &lt;code&gt;ggdag_status()&lt;/code&gt; will still work fine.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;model_from_dagitty_rounded &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagitty&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;dag {
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;bb=&amp;#34;0,0,1,1&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; [pos=&amp;#34;0.8,0.3&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; [pos=&amp;#34;0.8,0.5&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some outcome&amp;#34; [outcome,pos=&amp;#34;0.9,0.4&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some treatment&amp;#34; [exposure,pos=&amp;#34;0.7,0.4&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; -&amp;gt; &amp;#34;Some treatment&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; -&amp;gt; &amp;#34;Some treatment&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some treatment&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;}
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&lt;/span&gt;)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(model_from_dagitty_rounded, text &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, use_labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;guides&lt;/span&gt;(color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Turn off legend&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/06-practico_files/figure-html/code-from-dagitty-better-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;mosquito-net-example&#34;&gt;Mosquito net example&lt;/h2&gt;
&lt;h3 id=&#34;conditional-independencies&#34;&gt;Conditional independencies&lt;/h3&gt;
&lt;p&gt;You can test if your stated relationships are correct by looking at the conditional independencies that are implied by the DAG. In dagitty.net, these appear in the sidebar in the &amp;ldquo;Testable implications&amp;rdquo; section. To show how this works, we&amp;rsquo;ll use a simulated dataset that I generated about a fictional mosquito net program. Download the data here if you want to follow along:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/data/mosquito_nets.csv&#34;&gt;&lt;i class=&#34;fas fa-table&#34;&gt;&lt;/i&gt; &lt;code&gt;mosquito_nets.csv&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Researchers are interested in whether using mosquito nets decreases an individual&amp;rsquo;s risk of contracting malaria. They have collected data from 1,752 households in an unnamed country and have variables related to environmental factors, individual health, and household characteristics. Additionally, this country has a special government program that provides free mosquito nets to households that meet specific requirements: to qualify for the program, there must be more than 4 members of the household, and the household&amp;rsquo;s monthly income must be lower than $700 a month. Households are not automatically enrolled in the program, and many do not use it. The data is not experimental—researchers have no control over who uses mosquito nets, and individual households make their own choices over whether to apply for free nets or buy their own nets, as well as whether they use the nets if they have them.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;mosquito_dag &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; net &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; health &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; temperature &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; resistance,
  net &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; health &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; temperature &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; eligible &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; household,
  eligible &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; household,
  health &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; income,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;net&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;malaria_risk&amp;#34;&lt;/span&gt;,
  coords &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, income &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;, health &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;,
                      temperature &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;, resistance &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;8.5&lt;/span&gt;, eligible &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, household &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;),
                y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, income &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, health &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,
                      temperature &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, resistance &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, eligible &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, household &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;)),
  labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Risk of malaria&amp;#34;&lt;/span&gt;, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Mosquito net&amp;#34;&lt;/span&gt;, income &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Income&amp;#34;&lt;/span&gt;,
             health &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Health&amp;#34;&lt;/span&gt;, temperature &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Nighttime temperatures&amp;#34;&lt;/span&gt;,
             resistance &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Insecticide resistance&amp;#34;&lt;/span&gt;,
             eligible &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Eligible for program&amp;#34;&lt;/span&gt;, household &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Number in household&amp;#34;&lt;/span&gt;)
)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(mosquito_dag, use_labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;, text &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;guides&lt;/span&gt;(fill &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Disable the legend&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/06-practico_files/figure-html/build-mosquito-dag-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The causal graph above  outlines the complete relationship between mosquito net use and risk of malaria. Each node in the DAG is a column in the dataset collected by the researchers, and includes the following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Malaria risk (&lt;code&gt;malaria_risk&lt;/code&gt;): The likelihood that someone in the household will be infected with malaria. Measured on a scale of 0–100, with higher values indicating higher risk.&lt;/li&gt;
&lt;li&gt;Mosquito net (&lt;code&gt;net&lt;/code&gt; and &lt;code&gt;net_num&lt;/code&gt;): A binary variable indicating if the household used mosquito nets.&lt;/li&gt;
&lt;li&gt;Eligible for program (&lt;code&gt;eligible&lt;/code&gt;): A binary variable indicating if the household is eligible for the free net program.&lt;/li&gt;
&lt;li&gt;Income (&lt;code&gt;income&lt;/code&gt;): The household&amp;rsquo;s monthly income, in US dollars.&lt;/li&gt;
&lt;li&gt;Nighttime temperatures (&lt;code&gt;temperature&lt;/code&gt;): The average temperature at night, in Celsius.&lt;/li&gt;
&lt;li&gt;Health (&lt;code&gt;health&lt;/code&gt;): Self-reported healthiness in the household. Measured on a scale of 0–100, with higher values indicating better health.&lt;/li&gt;
&lt;li&gt;Number in household (&lt;code&gt;household&lt;/code&gt;): Number of people living in the household.&lt;/li&gt;
&lt;li&gt;Insecticide resistance (&lt;code&gt;resistance&lt;/code&gt;): Some strains of mosquitoes are more resistant to insecticide and thus pose a higher risk of infecting people with malaria. This is measured on a scale of 0–100, with higher values indicating higher resistance.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;According to the DAG, malaria risk is caused by income, temperatures, health, insecticide resistance, and mosquito net use. People who live in hotter regions, have lower incomes, have worse health, are surrounded by mosquitoes with high resistance to insecticide, and who do not use mosquito nets are at higher risk of contracting malaria than those who do not. Mosquito net use is caused by income, nighttime temperatures, health, the number of people living in the house, and eligibility for the free net program. People who live in areas that are cooler at night, have higher incomes, have better health, have more people in the home, and are eligible for free government nets are more likely to regularly use nets than those who do not. The DAG also shows that eligibility for the free net program is caused by income and household size, since households must meet specific thresholds to qualify.&lt;/p&gt;
&lt;p&gt;First, let&amp;rsquo;s download the dataset, put in a folder named &lt;code&gt;data&lt;/code&gt;, and load it:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/data/mosquito_nets.csv&#34;&gt;&lt;i class=&#34;fas fa-table&#34;&gt;&lt;/i&gt; &lt;code&gt;mosquito_nets.csv&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Load the data.&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# It&amp;#39;d be a good idea to click on the &amp;#34;mosquito_nets.csv&amp;#34; object in the&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# Environment panel in RStudio to see what the data looks like after you load it&lt;/span&gt;
mosquito_nets &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;read_csv&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;data/mosquito_nets.csv&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We can use this data to check if the relationships defined by our DAG reflect reality. Recall that &lt;em&gt;d&lt;/em&gt;-separation implies that nodes are statistically independent of each other and do not transfer associational information. If you draw the mosquito net DAG with dagitty.net, or if you run &lt;code&gt;impliedConditionalIndependencies()&lt;/code&gt; in R, you can see a list of all the implied conditional independencies.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;impliedConditionalIndependencies&lt;/span&gt;(mosquito_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## elgb _||_ hlth | incm&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## elgb _||_ mlr_ | hlth, incm, net, tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## elgb _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## elgb _||_ tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hlth _||_ hshl&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hlth _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hlth _||_ tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hshl _||_ incm&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hshl _||_ mlr_ | hlth, incm, net, tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hshl _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hshl _||_ tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## incm _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## incm _||_ tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## net _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## rsst _||_ tmpr&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The &lt;code&gt;_||_&lt;/code&gt; symbol in the output here is the &lt;code&gt;\(\perp\)&lt;/code&gt; symbol, which means &amp;ldquo;independent of&amp;rdquo;. The &lt;code&gt;|&lt;/code&gt; in the output means &amp;ldquo;given&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;In the interest of space, we will not verify all these implied independencies, but we can test a few of them:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;\(\text{Health} \perp \text{Household members}\)&lt;/code&gt;: (Read as &lt;em&gt;&amp;ldquo;Health is independent of household member count&amp;rdquo;&lt;/em&gt;.) Health should be independent of the number of people in each household. In the data, the two variables should not be correlated. This is indeed the case:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cor&lt;/span&gt;(mosquito_nets&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;health, mosquito_nets&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;household)
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] 9.8e-05&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;\(\text{Income} \perp \text{Insecticide resistance}\)&lt;/code&gt;: (Read as &lt;em&gt;&amp;ldquo;Income is independent of insecticide resistance&amp;rdquo;&lt;/em&gt;.) Income should be independent of insecticide resistance. This is again true:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cor&lt;/span&gt;(mosquito_nets&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;income, mosquito_nets&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;resistance)
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] 0.014&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;\(\text{Malaria risk} \perp \text{Household members}\ |\ \text{Health, Income, Bed net use, Temperature}\)&lt;/code&gt;: (Read as &lt;em&gt;&amp;ldquo;Malaria risk is independent of house member count given health, income, bed net use, and temperature&amp;rdquo;&lt;/em&gt;.) Malaria risk should be independent of the number of household members given similar levels of health, income, mosquito net use, and nighttime temperatures. We cannot use &lt;code&gt;cor()&lt;/code&gt; to test this implication, since there are many variables involved, but we can use a regression model to check if the number of household members is significantly related to malaria risk. It is not significant ($t = -0.17$, &lt;code&gt;\(p = 0.863\)&lt;/code&gt;), which means the two are independent, as expected.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; household &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; health &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; net &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; temperature,
   data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mosquito_nets) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  broom&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;()
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 6 x 5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   term        estimate std.error statistic   p.value&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 (Intercept)  76.2      0.966      78.9   0.       &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 household    -0.0155   0.0893     -0.173 8.63e-  1&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3 health        0.148    0.0107     13.9   9.75e- 42&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 4 income       -0.0751   0.00104   -72.6   0.       &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 5 netTRUE     -10.4      0.266     -39.2   2.63e-241&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 6 temperature   1.01     0.0310     32.5   1.88e-181&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We can check all the other conditional independencies to see if the DAG captures the reality of the full system of factors that influence mosquito net use and malaria risk. If there are substantial and significant correlations between nodes that should be independent, there is likely an issue with the specification of the DAG. Return to the theory of how the phenomena are generated and refine the DAG more.&lt;/p&gt;
&lt;h3 id=&#34;mosquito-net-adjustment-sets&#34;&gt;Mosquito net adjustment sets&lt;/h3&gt;
&lt;p&gt;There is a direct path between mosquito net use and the risk of malaria, but the effect is not causally identified due to several other open paths. We can either list out all the paths and find which open paths have arrows pointing backwards into the mosquito net node (run &lt;code&gt;paths(mosquito_dag)&lt;/code&gt; to see these results), or we can let R find the appropriate adjustment sets automatically:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;adjustmentSets&lt;/span&gt;(mosquito_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## { health, income, temperature }&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Based on the relationships between all the nodes in the DAG, adjusting for health, income, and temperature is enough to close all backdoors and identify the relationship between net use and malaria risk. Importantly, we do not need to worry about any of the nodes related to the government program for free nets, since those nodes are not &lt;em&gt;d&lt;/em&gt;-connected to malaria risk. We only need to worry about confounding relationships.&lt;/p&gt;
&lt;p&gt;We can confirm this graphically with &lt;code&gt;ggdag_adjustment_set()&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_adjustment_set&lt;/span&gt;(mosquito_dag, shadow &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;,
                     use_labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;, text &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/06-practico_files/figure-html/plot-mosquito-adjustment-fake-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Transformación de datos en tidydata</title>
      <link>/example/05-practico/</link>
      <pubDate>Mon, 06 Sep 2021 00:00:00 +0000</pubDate>
      <guid>/example/05-practico/</guid>
      <description>&lt;h2 id=&#34;dags-with-dagittynet&#34;&gt;DAGs with dagitty.net&lt;/h2&gt;
&lt;p&gt;The easiest way to quickly build DAGs and find adjustment sets and testable implications is to use &lt;a href=&#34;http://dagitty.net/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;dagitty.net&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This video shows how to use it:&lt;/p&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;https://www.youtube.com/embed/3euqrnD9w7c&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;h2 id=&#34;dags-with-r-ggdag-and-dagitty&#34;&gt;DAGs with R, ggdag, and dagitty&lt;/h2&gt;
&lt;p&gt;You can use the &lt;a href=&#34;https://ggdag.malco.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;ggdag&lt;/strong&gt;&lt;/a&gt; and &lt;a href=&#34;http://dagitty.net/primer/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;dagitty&lt;/strong&gt;&lt;/a&gt; packages in R to build and work with DAGs too. I typically draw an initial DAG in my browser with dagitty.net and then I rewrite it in code in R so that it&amp;rsquo;s more official and formal and reproducible.&lt;/p&gt;
&lt;h3 id=&#34;live-coding-example&#34;&gt;Live coding example&lt;/h3&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;https://www.youtube.com/embed/uoAjyyToUTE&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;h3 id=&#34;basic-dags&#34;&gt;Basic DAGs&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;(This is a heavily cleaned up and annotated version of the code from the video.)&lt;/em&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Load packages&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(tidyverse)  &lt;span style=&#34;color:#75715e&#34;&gt;# For dplyr, ggplot, and friends&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(ggdag)      &lt;span style=&#34;color:#75715e&#34;&gt;# For plotting DAGs&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(dagitty)    &lt;span style=&#34;color:#75715e&#34;&gt;# For working with DAG logic&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The general process for making and working with DAGs in R is to create a DAG object with &lt;code&gt;dagify()&lt;/code&gt; and then plot it with &lt;code&gt;ggdag()&lt;/code&gt;. The documentation for &lt;strong&gt;ggdag&lt;/strong&gt; is really good and helpful and full of examples. Check these pages for all sorts of additional details:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://ggdag.malco.io/articles/intro-to-ggdag.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&amp;ldquo;An introduction to ggdag&amp;rdquo;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://ggdag.malco.io/articles/intro-to-dags.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&amp;ldquo;An introduction to directed acyclic graphs&amp;rdquo;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://ggdag.malco.io/reference/index.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;List of all ggdag-related functions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The syntax for &lt;code&gt;dagify()&lt;/code&gt; is similar to the formula syntax you&amp;rsquo;ve been using for building regression models with &lt;code&gt;lm()&lt;/code&gt;. The formulas you use in &lt;code&gt;dagify()&lt;/code&gt; indicate the relationships between nodes.&lt;/p&gt;
&lt;p&gt;For instance, in this DAG, &lt;code&gt;y&lt;/code&gt; is caused by &lt;code&gt;x&lt;/code&gt;, &lt;code&gt;a&lt;/code&gt;, and &lt;code&gt;b&lt;/code&gt; (&lt;code&gt;y ~ x + a + b&lt;/code&gt;), and &lt;code&gt;x&lt;/code&gt; is caused by &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; (&lt;code&gt;x ~ a + b&lt;/code&gt;). This means that &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; are confounders. Use the &lt;code&gt;exposure&lt;/code&gt; and &lt;code&gt;outcome&lt;/code&gt; arguments to specify which nodes are the exposure (or treatment/intervention/program) and the outcome.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Create super basic DAG&lt;/span&gt;
simple_dag &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  y &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  x &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;x&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;y&amp;#34;&lt;/span&gt;
)

&lt;span style=&#34;color:#75715e&#34;&gt;# Adding a theme_dag() layer to the plot makes it have a white background with no axis labels&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag&lt;/span&gt;(simple_dag) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/05-practico_files/figure-html/super-basic-dag-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;If you want to plot which nodes are the exposure and outcome, use &lt;code&gt;ggdag_status()&lt;/code&gt; instead:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(simple_dag) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/05-practico_files/figure-html/simple-status-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;layouts-and-manual-coordinates&#34;&gt;Layouts and manual coordinates&lt;/h3&gt;
&lt;p&gt;Notice how the layout is different in both of those graphs. By default, &lt;code&gt;ggdag()&lt;/code&gt; positions the nodes randomly every time using a network algorithm. You can change the algorithm by using the &lt;code&gt;layout&lt;/code&gt; argument: &lt;code&gt;ggdag(simple_dag, layout = &amp;quot;nicely&amp;quot;)&lt;/code&gt;. You can see a full list of possible algorithms by running &lt;code&gt;?layout_tbl_graph_igraph&lt;/code&gt; in the console.&lt;/p&gt;
&lt;p&gt;Alternatively, you can specify your own coordinates so that the nodes are positioned in the same place every time. Do this with the &lt;code&gt;coords&lt;/code&gt; argument in &lt;code&gt;dagify()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The best way to figure out what these numbers should be is to draw the DAG on paper or on a whiteboard and add a grid to it and then figure out the coordinates. For instance, in this DAG there are three rows and three columns: &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt; go in the middle row (row 2) while &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; go in the middle column (column 2). It can also be helpful to not include &lt;code&gt;theme_dag()&lt;/code&gt; at first so you can see the numbers for the underlying grid. Once you have everything positioned correctly, add &lt;code&gt;theme_dag()&lt;/code&gt; to clean it up.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;simple_dag_with_coords &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  y &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  x &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;x&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;y&amp;#34;&lt;/span&gt;,
  coords &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;),
                y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;))
)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(simple_dag_with_coords) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/05-practico_files/figure-html/dag-with-coords-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;node-names-and-labels&#34;&gt;Node names and labels&lt;/h3&gt;
&lt;p&gt;The variable names you use do not have to be limited to just &lt;code&gt;x&lt;/code&gt;, &lt;code&gt;y&lt;/code&gt;, and other lowercase letters. You can any names you want, as long as there are no spaces.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;dag_with_var_names &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; treatment &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; confounder1 &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; confounder2,
  treatment &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; confounder1 &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; confounder2,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;treatment&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;outcome&amp;#34;&lt;/span&gt;
)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(dag_with_var_names) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/05-practico_files/figure-html/dag-with-names-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;However, unless you use very short names, it is likely that the text will not fit inside the nodes. To get around this, you can add labels to the nodes using the &lt;code&gt;labels&lt;/code&gt; argument in &lt;code&gt;dagify()&lt;/code&gt;. Plot the labels by setting &lt;code&gt;use_labels = &amp;quot;label&amp;quot;&lt;/code&gt; in &lt;code&gt;ggdag()&lt;/code&gt;. You can turn off the text in the nodes with &lt;code&gt;text = FALSE&lt;/code&gt; in &lt;code&gt;ggdag()&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;simple_dag_with_coords_and_labels &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  y &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  x &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;x&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;y&amp;#34;&lt;/span&gt;,
  labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Outcome&amp;#34;&lt;/span&gt;, x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Treatment&amp;#34;&lt;/span&gt;,
             a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Confounder 1&amp;#34;&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Confounder 2&amp;#34;&lt;/span&gt;),
  coords &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;),
                y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;))
)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(simple_dag_with_coords_and_labels,
             use_labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;, text &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;guides&lt;/span&gt;(fill &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Disable the legend&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/05-practico_files/figure-html/dag-with-labels-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;paths-and-adjustment-sets&#34;&gt;Paths and adjustment sets&lt;/h3&gt;
&lt;p&gt;R can also perform analysis on DAG objects. For example, we can find all the testable implications from the DAG using the &lt;code&gt;impliedConditionalIndependencies()&lt;/code&gt; function from the &lt;strong&gt;dagitty&lt;/strong&gt; package. For this simple DAG, there is only one: &lt;code&gt;a&lt;/code&gt; should be independent of &lt;code&gt;b&lt;/code&gt;. If we had a dataset with columns for each of these variables, we could check if this is true by running &lt;code&gt;cor(a, b)&lt;/code&gt; to see if the two are related.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;impliedConditionalIndependencies&lt;/span&gt;(simple_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## a _||_ b&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We can also find all the paths between &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt; using the &lt;code&gt;paths()&lt;/code&gt; function from the &lt;strong&gt;dagitty&lt;/strong&gt; package. We can see that there are three open paths between &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;paths&lt;/span&gt;(simple_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## $paths&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] &amp;#34;x -&amp;gt; y&amp;#34;      &amp;#34;x &amp;lt;- a -&amp;gt; y&amp;#34; &amp;#34;x &amp;lt;- b -&amp;gt; y&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## $open&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] TRUE TRUE TRUE&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The first open path is fine—we want a single &lt;em&gt;d&lt;/em&gt;-connected relationship between treatment and outcome—but the other two indicate that there is confounding from &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt;. We can see what each of these paths are with the &lt;code&gt;ggdag_paths()&lt;/code&gt; function from the &lt;strong&gt;ggdag&lt;/strong&gt; package:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_paths&lt;/span&gt;(simple_dag_with_coords) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/05-practico_files/figure-html/plot-dag-paths-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Instead of listing out all the possible paths and identifying backdoors by hand, you can use the &lt;code&gt;adjustmentSets()&lt;/code&gt; function in the &lt;strong&gt;dagitty&lt;/strong&gt; package to programmatically find all the nodes that need to be adjusted. Here we see that both &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; need to be controlled for to isolate the &lt;code&gt;x -&amp;gt; y&lt;/code&gt; relationship.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;adjustmentSets&lt;/span&gt;(simple_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## { a, b }&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You can also visualize the adjustment sets with &lt;code&gt;ggdag_adjustment_set()&lt;/code&gt; in the &lt;strong&gt;ggdag&lt;/strong&gt; package. Make sure you set &lt;code&gt;shadow = TRUE&lt;/code&gt; to draw the arrows coming out of the adjusted nodes—by default, those are not included.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_adjustment_set&lt;/span&gt;(simple_dag_with_coords, shadow &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/05-practico_files/figure-html/plot-adjustment-sets-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;R will find minimally sufficient adjustment sets, which includes the fewest number of adjustments needed to close all backdoors between &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt;. In this example DAG there was only one set of variables (&lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt;), but in other situations there could be many possible sets, or none if the causal effect is not identifiable.&lt;/p&gt;
&lt;h3 id=&#34;plot-dag-from-dagittynet-with-ggdag&#34;&gt;Plot DAG from dagitty.net with &lt;code&gt;ggdag()&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;If you use &lt;a href=&#34;http://dagitty.net/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;dagitty.net&lt;/a&gt; to draw a DAG, you&amp;rsquo;ll notice that it generates some code for you in the model code section:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/example/dagitty-code.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;You can copy that &lt;code&gt;dag{ ... }&lt;/code&gt; code and paste it into R to define a DAG object rather than use the &lt;code&gt;dagify()&lt;/code&gt; function. To do this, use the &lt;code&gt;dagitty()&lt;/code&gt; function from the &lt;strong&gt;dagitty&lt;/strong&gt; library and include the whole generated model code in single quotes (&lt;code&gt;&#39;&#39;&lt;/code&gt;):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;model_from_dagitty &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagitty&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;dag {
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;bb=&amp;#34;0,0,1,1&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; [pos=&amp;#34;0.809,0.306&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; [pos=&amp;#34;0.810,0.529&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some outcome&amp;#34; [outcome,pos=&amp;#34;0.918,0.432&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some treatment&amp;#34; [exposure,pos=&amp;#34;0.681,0.426&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; -&amp;gt; &amp;#34;Some treatment&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; -&amp;gt; &amp;#34;Some treatment&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some treatment&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;}
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&lt;/span&gt;)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag&lt;/span&gt;(model_from_dagitty) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/05-practico_files/figure-html/code-from-dagitty-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;By default it&amp;rsquo;s going to look ugly because (1) the node labels don&amp;rsquo;t fit, and (2) slight differences in the coordinates make it so the nodes don&amp;rsquo;t perfectly align with each other. To fix coordinate alignment, you can modify the numbers in the generated DAG code. Here I rounded the numbers so that they&amp;rsquo;re all 0.3, 0.8, etc.&lt;/p&gt;
&lt;p&gt;To fix the label issue, you can add the &lt;code&gt;use_labels&lt;/code&gt; argument like normally. Only here, you can&amp;rsquo;t specify &lt;code&gt;use_labels = &amp;quot;label&amp;quot;&lt;/code&gt;. Instead, when you specify a DAG using dagitty&amp;rsquo;s code like this, the column in the underlying dataset that contains the labels is named &lt;code&gt;name&lt;/code&gt;, so you need to use &lt;code&gt;use_labels = &amp;quot;name&amp;quot;&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Other &lt;code&gt;ggdag()&lt;/code&gt; variations like &lt;code&gt;ggdag_status()&lt;/code&gt; will still work fine.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;model_from_dagitty_rounded &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagitty&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;dag {
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;bb=&amp;#34;0,0,1,1&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; [pos=&amp;#34;0.8,0.3&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; [pos=&amp;#34;0.8,0.5&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some outcome&amp;#34; [outcome,pos=&amp;#34;0.9,0.4&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some treatment&amp;#34; [exposure,pos=&amp;#34;0.7,0.4&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; -&amp;gt; &amp;#34;Some treatment&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; -&amp;gt; &amp;#34;Some treatment&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some treatment&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;}
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&lt;/span&gt;)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(model_from_dagitty_rounded, text &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, use_labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;guides&lt;/span&gt;(color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Turn off legend&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/05-practico_files/figure-html/code-from-dagitty-better-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;mosquito-net-example&#34;&gt;Mosquito net example&lt;/h2&gt;
&lt;h3 id=&#34;conditional-independencies&#34;&gt;Conditional independencies&lt;/h3&gt;
&lt;p&gt;You can test if your stated relationships are correct by looking at the conditional independencies that are implied by the DAG. In dagitty.net, these appear in the sidebar in the &amp;ldquo;Testable implications&amp;rdquo; section. To show how this works, we&amp;rsquo;ll use a simulated dataset that I generated about a fictional mosquito net program. Download the data here if you want to follow along:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/data/mosquito_nets.csv&#34;&gt;&lt;i class=&#34;fas fa-table&#34;&gt;&lt;/i&gt; &lt;code&gt;mosquito_nets.csv&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Researchers are interested in whether using mosquito nets decreases an individual&amp;rsquo;s risk of contracting malaria. They have collected data from 1,752 households in an unnamed country and have variables related to environmental factors, individual health, and household characteristics. Additionally, this country has a special government program that provides free mosquito nets to households that meet specific requirements: to qualify for the program, there must be more than 4 members of the household, and the household&amp;rsquo;s monthly income must be lower than $700 a month. Households are not automatically enrolled in the program, and many do not use it. The data is not experimental—researchers have no control over who uses mosquito nets, and individual households make their own choices over whether to apply for free nets or buy their own nets, as well as whether they use the nets if they have them.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;mosquito_dag &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; net &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; health &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; temperature &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; resistance,
  net &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; health &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; temperature &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; eligible &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; household,
  eligible &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; household,
  health &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; income,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;net&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;malaria_risk&amp;#34;&lt;/span&gt;,
  coords &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, income &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;, health &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;,
                      temperature &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;, resistance &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;8.5&lt;/span&gt;, eligible &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, household &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;),
                y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, income &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, health &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,
                      temperature &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, resistance &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, eligible &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, household &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;)),
  labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Risk of malaria&amp;#34;&lt;/span&gt;, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Mosquito net&amp;#34;&lt;/span&gt;, income &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Income&amp;#34;&lt;/span&gt;,
             health &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Health&amp;#34;&lt;/span&gt;, temperature &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Nighttime temperatures&amp;#34;&lt;/span&gt;,
             resistance &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Insecticide resistance&amp;#34;&lt;/span&gt;,
             eligible &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Eligible for program&amp;#34;&lt;/span&gt;, household &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Number in household&amp;#34;&lt;/span&gt;)
)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(mosquito_dag, use_labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;, text &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;guides&lt;/span&gt;(fill &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Disable the legend&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/05-practico_files/figure-html/build-mosquito-dag-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The causal graph above  outlines the complete relationship between mosquito net use and risk of malaria. Each node in the DAG is a column in the dataset collected by the researchers, and includes the following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Malaria risk (&lt;code&gt;malaria_risk&lt;/code&gt;): The likelihood that someone in the household will be infected with malaria. Measured on a scale of 0–100, with higher values indicating higher risk.&lt;/li&gt;
&lt;li&gt;Mosquito net (&lt;code&gt;net&lt;/code&gt; and &lt;code&gt;net_num&lt;/code&gt;): A binary variable indicating if the household used mosquito nets.&lt;/li&gt;
&lt;li&gt;Eligible for program (&lt;code&gt;eligible&lt;/code&gt;): A binary variable indicating if the household is eligible for the free net program.&lt;/li&gt;
&lt;li&gt;Income (&lt;code&gt;income&lt;/code&gt;): The household&amp;rsquo;s monthly income, in US dollars.&lt;/li&gt;
&lt;li&gt;Nighttime temperatures (&lt;code&gt;temperature&lt;/code&gt;): The average temperature at night, in Celsius.&lt;/li&gt;
&lt;li&gt;Health (&lt;code&gt;health&lt;/code&gt;): Self-reported healthiness in the household. Measured on a scale of 0–100, with higher values indicating better health.&lt;/li&gt;
&lt;li&gt;Number in household (&lt;code&gt;household&lt;/code&gt;): Number of people living in the household.&lt;/li&gt;
&lt;li&gt;Insecticide resistance (&lt;code&gt;resistance&lt;/code&gt;): Some strains of mosquitoes are more resistant to insecticide and thus pose a higher risk of infecting people with malaria. This is measured on a scale of 0–100, with higher values indicating higher resistance.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;According to the DAG, malaria risk is caused by income, temperatures, health, insecticide resistance, and mosquito net use. People who live in hotter regions, have lower incomes, have worse health, are surrounded by mosquitoes with high resistance to insecticide, and who do not use mosquito nets are at higher risk of contracting malaria than those who do not. Mosquito net use is caused by income, nighttime temperatures, health, the number of people living in the house, and eligibility for the free net program. People who live in areas that are cooler at night, have higher incomes, have better health, have more people in the home, and are eligible for free government nets are more likely to regularly use nets than those who do not. The DAG also shows that eligibility for the free net program is caused by income and household size, since households must meet specific thresholds to qualify.&lt;/p&gt;
&lt;p&gt;First, let&amp;rsquo;s download the dataset, put in a folder named &lt;code&gt;data&lt;/code&gt;, and load it:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/data/mosquito_nets.csv&#34;&gt;&lt;i class=&#34;fas fa-table&#34;&gt;&lt;/i&gt; &lt;code&gt;mosquito_nets.csv&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Load the data.&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# It&amp;#39;d be a good idea to click on the &amp;#34;mosquito_nets.csv&amp;#34; object in the&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# Environment panel in RStudio to see what the data looks like after you load it&lt;/span&gt;
mosquito_nets &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;read_csv&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;data/mosquito_nets.csv&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We can use this data to check if the relationships defined by our DAG reflect reality. Recall that &lt;em&gt;d&lt;/em&gt;-separation implies that nodes are statistically independent of each other and do not transfer associational information. If you draw the mosquito net DAG with dagitty.net, or if you run &lt;code&gt;impliedConditionalIndependencies()&lt;/code&gt; in R, you can see a list of all the implied conditional independencies.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;impliedConditionalIndependencies&lt;/span&gt;(mosquito_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## elgb _||_ hlth | incm&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## elgb _||_ mlr_ | hlth, incm, net, tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## elgb _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## elgb _||_ tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hlth _||_ hshl&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hlth _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hlth _||_ tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hshl _||_ incm&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hshl _||_ mlr_ | hlth, incm, net, tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hshl _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hshl _||_ tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## incm _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## incm _||_ tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## net _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## rsst _||_ tmpr&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The &lt;code&gt;_||_&lt;/code&gt; symbol in the output here is the &lt;code&gt;\(\perp\)&lt;/code&gt; symbol, which means &amp;ldquo;independent of&amp;rdquo;. The &lt;code&gt;|&lt;/code&gt; in the output means &amp;ldquo;given&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;In the interest of space, we will not verify all these implied independencies, but we can test a few of them:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;\(\text{Health} \perp \text{Household members}\)&lt;/code&gt;: (Read as &lt;em&gt;&amp;ldquo;Health is independent of household member count&amp;rdquo;&lt;/em&gt;.) Health should be independent of the number of people in each household. In the data, the two variables should not be correlated. This is indeed the case:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cor&lt;/span&gt;(mosquito_nets&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;health, mosquito_nets&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;household)
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] 9.8e-05&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;\(\text{Income} \perp \text{Insecticide resistance}\)&lt;/code&gt;: (Read as &lt;em&gt;&amp;ldquo;Income is independent of insecticide resistance&amp;rdquo;&lt;/em&gt;.) Income should be independent of insecticide resistance. This is again true:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cor&lt;/span&gt;(mosquito_nets&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;income, mosquito_nets&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;resistance)
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] 0.014&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;\(\text{Malaria risk} \perp \text{Household members}\ |\ \text{Health, Income, Bed net use, Temperature}\)&lt;/code&gt;: (Read as &lt;em&gt;&amp;ldquo;Malaria risk is independent of house member count given health, income, bed net use, and temperature&amp;rdquo;&lt;/em&gt;.) Malaria risk should be independent of the number of household members given similar levels of health, income, mosquito net use, and nighttime temperatures. We cannot use &lt;code&gt;cor()&lt;/code&gt; to test this implication, since there are many variables involved, but we can use a regression model to check if the number of household members is significantly related to malaria risk. It is not significant ($t = -0.17$, &lt;code&gt;\(p = 0.863\)&lt;/code&gt;), which means the two are independent, as expected.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; household &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; health &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; net &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; temperature,
   data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mosquito_nets) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  broom&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;()
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 6 x 5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   term        estimate std.error statistic   p.value&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 (Intercept)  76.2      0.966      78.9   0.       &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 household    -0.0155   0.0893     -0.173 8.63e-  1&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3 health        0.148    0.0107     13.9   9.75e- 42&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 4 income       -0.0751   0.00104   -72.6   0.       &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 5 netTRUE     -10.4      0.266     -39.2   2.63e-241&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 6 temperature   1.01     0.0310     32.5   1.88e-181&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We can check all the other conditional independencies to see if the DAG captures the reality of the full system of factors that influence mosquito net use and malaria risk. If there are substantial and significant correlations between nodes that should be independent, there is likely an issue with the specification of the DAG. Return to the theory of how the phenomena are generated and refine the DAG more.&lt;/p&gt;
&lt;h3 id=&#34;mosquito-net-adjustment-sets&#34;&gt;Mosquito net adjustment sets&lt;/h3&gt;
&lt;p&gt;There is a direct path between mosquito net use and the risk of malaria, but the effect is not causally identified due to several other open paths. We can either list out all the paths and find which open paths have arrows pointing backwards into the mosquito net node (run &lt;code&gt;paths(mosquito_dag)&lt;/code&gt; to see these results), or we can let R find the appropriate adjustment sets automatically:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;adjustmentSets&lt;/span&gt;(mosquito_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## { health, income, temperature }&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Based on the relationships between all the nodes in the DAG, adjusting for health, income, and temperature is enough to close all backdoors and identify the relationship between net use and malaria risk. Importantly, we do not need to worry about any of the nodes related to the government program for free nets, since those nodes are not &lt;em&gt;d&lt;/em&gt;-connected to malaria risk. We only need to worry about confounding relationships.&lt;/p&gt;
&lt;p&gt;We can confirm this graphically with &lt;code&gt;ggdag_adjustment_set()&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_adjustment_set&lt;/span&gt;(mosquito_dag, shadow &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;,
                     use_labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;, text &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/05-practico_files/figure-html/plot-mosquito-adjustment-fake-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Transformación estructura datos</title>
      <link>/content/05-content/</link>
      <pubDate>Mon, 06 Sep 2021 00:00:00 +0000</pubDate>
      <guid>/content/05-content/</guid>
      <description>&lt;h2 id=&#34;readings&#34;&gt;Readings&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-podcast&#34;&gt;&lt;/i&gt; Prologue and at least one of the four acts from &lt;a href=&#34;https://www.thisamericanlife.org/691/gardens-of-branching-paths&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;This American Life, “Gardens of Branching Paths,” episode #691, January 10, 2020&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-book&#34;&gt;&lt;/i&gt; Chapter 3 in &lt;em&gt;Impact Evaluation in Practice&lt;/em&gt;&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-book&#34;&gt;&lt;/i&gt; &lt;a href=&#34;https://mixtape.scunning.com/ch3.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Chapter 4, “Potential Outcomes Causal Model”&lt;/a&gt; in &lt;em&gt;Causal Inference: The Mixtape&lt;/em&gt;&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;potential-outcomes-ates-and-cates-example-page&#34;&gt;Potential outcomes, ATEs, and CATEs example page&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;The &lt;a href=&#34;/example/po-ate-cate/&#34;&gt;example page on potential outcomes, ATEs, and CATEs&lt;/a&gt; shows how to use R to calculate ATEs and CATEs&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;slides&#34;&gt;Slides&lt;/h2&gt;
&lt;p&gt;The slides for today’s lesson are available online as an HTML file. Use the buttons below to open the slides either as an interactive website or as a static PDF (for printing or storing for later). You can also click in the slides below and navigate through them with your left and right arrow keys.&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;btn btn-primary btn-lg&#34; target=&#34;_blank&#34; href=&#34;/slides/05-slides.html&#34;&gt;&lt;i class=&#34;fas fa-external-link-alt&#34;&gt;&lt;/i&gt; View all slides in new window&lt;/a&gt; &lt;a class=&#34;btn btn-primary btn-lg&#34; target=&#34;_blank&#34; href=&#34;/slides/05-slides.pdf&#34; role=&#34;button&#34;&gt;&lt;i class=&#34;far fa-file-pdf&#34;&gt;&lt;/i&gt; Download PDF of all slides&lt;/a&gt;&lt;/p&gt;
&lt;ul class=&#34;nav nav-tabs&#34; id=&#34;slide-tabs&#34; role=&#34;tablist&#34;&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link active&#34; id=&#34;introduction-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#introduction&#34; role=&#34;tab&#34; aria-controls=&#34;introduction&#34; aria-selected=&#34;true&#34;&gt;Introduction&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link&#34; id=&#34;doing-observational-causal-inference-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#doing-observational-causal-inference&#34; role=&#34;tab&#34; aria-controls=&#34;doing-observational-causal-inference&#34; aria-selected=&#34;false&#34;&gt;do()ing observational causal inference&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link&#34; id=&#34;potential-outcomes-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#potential-outcomes&#34; role=&#34;tab&#34; aria-controls=&#34;potential-outcomes&#34; aria-selected=&#34;false&#34;&gt;Potential outcomes&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;slide-tabs&#34; class=&#34;tab-content&#34;&gt;
&lt;div id=&#34;introduction&#34; class=&#34;tab-pane fade show active&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;introduction-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/05-slides.html#1&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;doing-observational-causal-inference&#34; class=&#34;tab-pane fade&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;doing-observational-causal-inference-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/05-slides.html#dag-adjustment&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;potential-outcomes&#34; class=&#34;tab-pane fade&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;potential-outcomes-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/05-slides.html#potential-outcomes&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;fyi&#34;&gt;
&lt;strong&gt;Fun fact&lt;/strong&gt;: If you type &lt;kbd&gt;?&lt;/kbd&gt; (or &lt;kbd&gt;shift&lt;/kbd&gt; + &lt;kbd&gt;/&lt;/kbd&gt;) while going through the slides, you can see a list of special slide-specific commands.
&lt;/div&gt;
&lt;h2 id=&#34;videos&#34;&gt;Videos&lt;/h2&gt;
&lt;p&gt;Videos for each section of the lecture are &lt;a href=&#34;https://www.youtube.com/playlist?list=PLS6tnpTr39sHwqEeiG5xb3zAHcQCGWZUC&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;available at this YouTube playlist&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=6n7Qicffb2k&amp;amp;list=PLS6tnpTr39sHwqEeiG5xb3zAHcQCGWZUC&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Introduction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=vARju899D3E&amp;amp;list=PLS6tnpTr39sHwqEeiG5xb3zAHcQCGWZUC&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;do()ing observational causal inference&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=0pOA8y3YASA&amp;amp;list=PLS6tnpTr39sHwqEeiG5xb3zAHcQCGWZUC&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Potential outcomes&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can also watch the playlist (and skip around to different sections) here:&lt;/p&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;https://www.youtube.com/embed/playlist?list=PLS6tnpTr39sHwqEeiG5xb3zAHcQCGWZUC&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Paul J. Gertler et al., &lt;em&gt;Impact Evaluation in Practice&lt;/em&gt;, 2nd ed. (Inter-American Development Bank; World Bank, 2016), &lt;a href=&#34;https://openknowledge.worldbank.org/handle/10986/25030&#34;&gt;https://openknowledge.worldbank.org/handle/10986/25030&lt;/a&gt;. &lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Scott Cunningham, &lt;em&gt;Causal Inference: The Mixtape&lt;/em&gt; (New Haven, CT: Yale University Press, 2021), &lt;a href=&#34;https://mixtape.scunning.com/&#34;&gt;https://mixtape.scunning.com/&lt;/a&gt;. &lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
    </item>
    
    <item>
      <title>Tranformar y seleccionar variables</title>
      <link>/example/04-practico/</link>
      <pubDate>Mon, 30 Aug 2021 00:00:00 +0000</pubDate>
      <guid>/example/04-practico/</guid>
      <description>&lt;h2 id=&#34;dags-with-dagittynet&#34;&gt;DAGs with dagitty.net&lt;/h2&gt;
&lt;p&gt;The easiest way to quickly build DAGs and find adjustment sets and testable implications is to use &lt;a href=&#34;http://dagitty.net/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;dagitty.net&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This video shows how to use it:&lt;/p&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;https://www.youtube.com/embed/3euqrnD9w7c&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;h2 id=&#34;dags-with-r-ggdag-and-dagitty&#34;&gt;DAGs with R, ggdag, and dagitty&lt;/h2&gt;
&lt;p&gt;You can use the &lt;a href=&#34;https://ggdag.malco.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;ggdag&lt;/strong&gt;&lt;/a&gt; and &lt;a href=&#34;http://dagitty.net/primer/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;dagitty&lt;/strong&gt;&lt;/a&gt; packages in R to build and work with DAGs too. I typically draw an initial DAG in my browser with dagitty.net and then I rewrite it in code in R so that it&amp;rsquo;s more official and formal and reproducible.&lt;/p&gt;
&lt;h3 id=&#34;live-coding-example&#34;&gt;Live coding example&lt;/h3&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;https://www.youtube.com/embed/uoAjyyToUTE&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;h3 id=&#34;basic-dags&#34;&gt;Basic DAGs&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;(This is a heavily cleaned up and annotated version of the code from the video.)&lt;/em&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Load packages&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(tidyverse)  &lt;span style=&#34;color:#75715e&#34;&gt;# For dplyr, ggplot, and friends&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(ggdag)      &lt;span style=&#34;color:#75715e&#34;&gt;# For plotting DAGs&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(dagitty)    &lt;span style=&#34;color:#75715e&#34;&gt;# For working with DAG logic&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The general process for making and working with DAGs in R is to create a DAG object with &lt;code&gt;dagify()&lt;/code&gt; and then plot it with &lt;code&gt;ggdag()&lt;/code&gt;. The documentation for &lt;strong&gt;ggdag&lt;/strong&gt; is really good and helpful and full of examples. Check these pages for all sorts of additional details:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://ggdag.malco.io/articles/intro-to-ggdag.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&amp;ldquo;An introduction to ggdag&amp;rdquo;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://ggdag.malco.io/articles/intro-to-dags.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&amp;ldquo;An introduction to directed acyclic graphs&amp;rdquo;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://ggdag.malco.io/reference/index.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;List of all ggdag-related functions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The syntax for &lt;code&gt;dagify()&lt;/code&gt; is similar to the formula syntax you&amp;rsquo;ve been using for building regression models with &lt;code&gt;lm()&lt;/code&gt;. The formulas you use in &lt;code&gt;dagify()&lt;/code&gt; indicate the relationships between nodes.&lt;/p&gt;
&lt;p&gt;For instance, in this DAG, &lt;code&gt;y&lt;/code&gt; is caused by &lt;code&gt;x&lt;/code&gt;, &lt;code&gt;a&lt;/code&gt;, and &lt;code&gt;b&lt;/code&gt; (&lt;code&gt;y ~ x + a + b&lt;/code&gt;), and &lt;code&gt;x&lt;/code&gt; is caused by &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; (&lt;code&gt;x ~ a + b&lt;/code&gt;). This means that &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; are confounders. Use the &lt;code&gt;exposure&lt;/code&gt; and &lt;code&gt;outcome&lt;/code&gt; arguments to specify which nodes are the exposure (or treatment/intervention/program) and the outcome.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Create super basic DAG&lt;/span&gt;
simple_dag &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  y &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  x &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;x&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;y&amp;#34;&lt;/span&gt;
)

&lt;span style=&#34;color:#75715e&#34;&gt;# Adding a theme_dag() layer to the plot makes it have a white background with no axis labels&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag&lt;/span&gt;(simple_dag) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/04-practico_files/figure-html/super-basic-dag-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;If you want to plot which nodes are the exposure and outcome, use &lt;code&gt;ggdag_status()&lt;/code&gt; instead:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(simple_dag) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/04-practico_files/figure-html/simple-status-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;layouts-and-manual-coordinates&#34;&gt;Layouts and manual coordinates&lt;/h3&gt;
&lt;p&gt;Notice how the layout is different in both of those graphs. By default, &lt;code&gt;ggdag()&lt;/code&gt; positions the nodes randomly every time using a network algorithm. You can change the algorithm by using the &lt;code&gt;layout&lt;/code&gt; argument: &lt;code&gt;ggdag(simple_dag, layout = &amp;quot;nicely&amp;quot;)&lt;/code&gt;. You can see a full list of possible algorithms by running &lt;code&gt;?layout_tbl_graph_igraph&lt;/code&gt; in the console.&lt;/p&gt;
&lt;p&gt;Alternatively, you can specify your own coordinates so that the nodes are positioned in the same place every time. Do this with the &lt;code&gt;coords&lt;/code&gt; argument in &lt;code&gt;dagify()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The best way to figure out what these numbers should be is to draw the DAG on paper or on a whiteboard and add a grid to it and then figure out the coordinates. For instance, in this DAG there are three rows and three columns: &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt; go in the middle row (row 2) while &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; go in the middle column (column 2). It can also be helpful to not include &lt;code&gt;theme_dag()&lt;/code&gt; at first so you can see the numbers for the underlying grid. Once you have everything positioned correctly, add &lt;code&gt;theme_dag()&lt;/code&gt; to clean it up.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;simple_dag_with_coords &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  y &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  x &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;x&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;y&amp;#34;&lt;/span&gt;,
  coords &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;),
                y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;))
)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(simple_dag_with_coords) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/04-practico_files/figure-html/dag-with-coords-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;node-names-and-labels&#34;&gt;Node names and labels&lt;/h3&gt;
&lt;p&gt;The variable names you use do not have to be limited to just &lt;code&gt;x&lt;/code&gt;, &lt;code&gt;y&lt;/code&gt;, and other lowercase letters. You can any names you want, as long as there are no spaces.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;dag_with_var_names &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; treatment &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; confounder1 &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; confounder2,
  treatment &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; confounder1 &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; confounder2,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;treatment&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;outcome&amp;#34;&lt;/span&gt;
)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(dag_with_var_names) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/04-practico_files/figure-html/dag-with-names-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;However, unless you use very short names, it is likely that the text will not fit inside the nodes. To get around this, you can add labels to the nodes using the &lt;code&gt;labels&lt;/code&gt; argument in &lt;code&gt;dagify()&lt;/code&gt;. Plot the labels by setting &lt;code&gt;use_labels = &amp;quot;label&amp;quot;&lt;/code&gt; in &lt;code&gt;ggdag()&lt;/code&gt;. You can turn off the text in the nodes with &lt;code&gt;text = FALSE&lt;/code&gt; in &lt;code&gt;ggdag()&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;simple_dag_with_coords_and_labels &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  y &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  x &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;x&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;y&amp;#34;&lt;/span&gt;,
  labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Outcome&amp;#34;&lt;/span&gt;, x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Treatment&amp;#34;&lt;/span&gt;,
             a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Confounder 1&amp;#34;&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Confounder 2&amp;#34;&lt;/span&gt;),
  coords &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;),
                y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;))
)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(simple_dag_with_coords_and_labels,
             use_labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;, text &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;guides&lt;/span&gt;(fill &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Disable the legend&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/04-practico_files/figure-html/dag-with-labels-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;paths-and-adjustment-sets&#34;&gt;Paths and adjustment sets&lt;/h3&gt;
&lt;p&gt;R can also perform analysis on DAG objects. For example, we can find all the testable implications from the DAG using the &lt;code&gt;impliedConditionalIndependencies()&lt;/code&gt; function from the &lt;strong&gt;dagitty&lt;/strong&gt; package. For this simple DAG, there is only one: &lt;code&gt;a&lt;/code&gt; should be independent of &lt;code&gt;b&lt;/code&gt;. If we had a dataset with columns for each of these variables, we could check if this is true by running &lt;code&gt;cor(a, b)&lt;/code&gt; to see if the two are related.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;impliedConditionalIndependencies&lt;/span&gt;(simple_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## a _||_ b&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We can also find all the paths between &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt; using the &lt;code&gt;paths()&lt;/code&gt; function from the &lt;strong&gt;dagitty&lt;/strong&gt; package. We can see that there are three open paths between &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;paths&lt;/span&gt;(simple_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## $paths&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] &amp;#34;x -&amp;gt; y&amp;#34;      &amp;#34;x &amp;lt;- a -&amp;gt; y&amp;#34; &amp;#34;x &amp;lt;- b -&amp;gt; y&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## $open&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] TRUE TRUE TRUE&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The first open path is fine—we want a single &lt;em&gt;d&lt;/em&gt;-connected relationship between treatment and outcome—but the other two indicate that there is confounding from &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt;. We can see what each of these paths are with the &lt;code&gt;ggdag_paths()&lt;/code&gt; function from the &lt;strong&gt;ggdag&lt;/strong&gt; package:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_paths&lt;/span&gt;(simple_dag_with_coords) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/04-practico_files/figure-html/plot-dag-paths-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Instead of listing out all the possible paths and identifying backdoors by hand, you can use the &lt;code&gt;adjustmentSets()&lt;/code&gt; function in the &lt;strong&gt;dagitty&lt;/strong&gt; package to programmatically find all the nodes that need to be adjusted. Here we see that both &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; need to be controlled for to isolate the &lt;code&gt;x -&amp;gt; y&lt;/code&gt; relationship.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;adjustmentSets&lt;/span&gt;(simple_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## { a, b }&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You can also visualize the adjustment sets with &lt;code&gt;ggdag_adjustment_set()&lt;/code&gt; in the &lt;strong&gt;ggdag&lt;/strong&gt; package. Make sure you set &lt;code&gt;shadow = TRUE&lt;/code&gt; to draw the arrows coming out of the adjusted nodes—by default, those are not included.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_adjustment_set&lt;/span&gt;(simple_dag_with_coords, shadow &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/04-practico_files/figure-html/plot-adjustment-sets-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;R will find minimally sufficient adjustment sets, which includes the fewest number of adjustments needed to close all backdoors between &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt;. In this example DAG there was only one set of variables (&lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt;), but in other situations there could be many possible sets, or none if the causal effect is not identifiable.&lt;/p&gt;
&lt;h3 id=&#34;plot-dag-from-dagittynet-with-ggdag&#34;&gt;Plot DAG from dagitty.net with &lt;code&gt;ggdag()&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;If you use &lt;a href=&#34;http://dagitty.net/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;dagitty.net&lt;/a&gt; to draw a DAG, you&amp;rsquo;ll notice that it generates some code for you in the model code section:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/example/dagitty-code.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;You can copy that &lt;code&gt;dag{ ... }&lt;/code&gt; code and paste it into R to define a DAG object rather than use the &lt;code&gt;dagify()&lt;/code&gt; function. To do this, use the &lt;code&gt;dagitty()&lt;/code&gt; function from the &lt;strong&gt;dagitty&lt;/strong&gt; library and include the whole generated model code in single quotes (&lt;code&gt;&#39;&#39;&lt;/code&gt;):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;model_from_dagitty &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagitty&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;dag {
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;bb=&amp;#34;0,0,1,1&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; [pos=&amp;#34;0.809,0.306&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; [pos=&amp;#34;0.810,0.529&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some outcome&amp;#34; [outcome,pos=&amp;#34;0.918,0.432&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some treatment&amp;#34; [exposure,pos=&amp;#34;0.681,0.426&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; -&amp;gt; &amp;#34;Some treatment&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; -&amp;gt; &amp;#34;Some treatment&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some treatment&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;}
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&lt;/span&gt;)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag&lt;/span&gt;(model_from_dagitty) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/04-practico_files/figure-html/code-from-dagitty-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;By default it&amp;rsquo;s going to look ugly because (1) the node labels don&amp;rsquo;t fit, and (2) slight differences in the coordinates make it so the nodes don&amp;rsquo;t perfectly align with each other. To fix coordinate alignment, you can modify the numbers in the generated DAG code. Here I rounded the numbers so that they&amp;rsquo;re all 0.3, 0.8, etc.&lt;/p&gt;
&lt;p&gt;To fix the label issue, you can add the &lt;code&gt;use_labels&lt;/code&gt; argument like normally. Only here, you can&amp;rsquo;t specify &lt;code&gt;use_labels = &amp;quot;label&amp;quot;&lt;/code&gt;. Instead, when you specify a DAG using dagitty&amp;rsquo;s code like this, the column in the underlying dataset that contains the labels is named &lt;code&gt;name&lt;/code&gt;, so you need to use &lt;code&gt;use_labels = &amp;quot;name&amp;quot;&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Other &lt;code&gt;ggdag()&lt;/code&gt; variations like &lt;code&gt;ggdag_status()&lt;/code&gt; will still work fine.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;model_from_dagitty_rounded &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagitty&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;dag {
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;bb=&amp;#34;0,0,1,1&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; [pos=&amp;#34;0.8,0.3&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; [pos=&amp;#34;0.8,0.5&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some outcome&amp;#34; [outcome,pos=&amp;#34;0.9,0.4&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some treatment&amp;#34; [exposure,pos=&amp;#34;0.7,0.4&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; -&amp;gt; &amp;#34;Some treatment&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; -&amp;gt; &amp;#34;Some treatment&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some treatment&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;}
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&lt;/span&gt;)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(model_from_dagitty_rounded, text &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, use_labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;guides&lt;/span&gt;(color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Turn off legend&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/04-practico_files/figure-html/code-from-dagitty-better-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;mosquito-net-example&#34;&gt;Mosquito net example&lt;/h2&gt;
&lt;h3 id=&#34;conditional-independencies&#34;&gt;Conditional independencies&lt;/h3&gt;
&lt;p&gt;You can test if your stated relationships are correct by looking at the conditional independencies that are implied by the DAG. In dagitty.net, these appear in the sidebar in the &amp;ldquo;Testable implications&amp;rdquo; section. To show how this works, we&amp;rsquo;ll use a simulated dataset that I generated about a fictional mosquito net program. Download the data here if you want to follow along:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/data/mosquito_nets.csv&#34;&gt;&lt;i class=&#34;fas fa-table&#34;&gt;&lt;/i&gt; &lt;code&gt;mosquito_nets.csv&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Researchers are interested in whether using mosquito nets decreases an individual&amp;rsquo;s risk of contracting malaria. They have collected data from 1,752 households in an unnamed country and have variables related to environmental factors, individual health, and household characteristics. Additionally, this country has a special government program that provides free mosquito nets to households that meet specific requirements: to qualify for the program, there must be more than 4 members of the household, and the household&amp;rsquo;s monthly income must be lower than $700 a month. Households are not automatically enrolled in the program, and many do not use it. The data is not experimental—researchers have no control over who uses mosquito nets, and individual households make their own choices over whether to apply for free nets or buy their own nets, as well as whether they use the nets if they have them.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;mosquito_dag &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; net &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; health &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; temperature &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; resistance,
  net &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; health &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; temperature &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; eligible &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; household,
  eligible &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; household,
  health &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; income,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;net&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;malaria_risk&amp;#34;&lt;/span&gt;,
  coords &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, income &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;, health &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;,
                      temperature &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;, resistance &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;8.5&lt;/span&gt;, eligible &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, household &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;),
                y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, income &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, health &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,
                      temperature &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, resistance &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, eligible &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, household &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;)),
  labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Risk of malaria&amp;#34;&lt;/span&gt;, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Mosquito net&amp;#34;&lt;/span&gt;, income &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Income&amp;#34;&lt;/span&gt;,
             health &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Health&amp;#34;&lt;/span&gt;, temperature &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Nighttime temperatures&amp;#34;&lt;/span&gt;,
             resistance &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Insecticide resistance&amp;#34;&lt;/span&gt;,
             eligible &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Eligible for program&amp;#34;&lt;/span&gt;, household &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Number in household&amp;#34;&lt;/span&gt;)
)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(mosquito_dag, use_labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;, text &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;guides&lt;/span&gt;(fill &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Disable the legend&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/04-practico_files/figure-html/build-mosquito-dag-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The causal graph above  outlines the complete relationship between mosquito net use and risk of malaria. Each node in the DAG is a column in the dataset collected by the researchers, and includes the following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Malaria risk (&lt;code&gt;malaria_risk&lt;/code&gt;): The likelihood that someone in the household will be infected with malaria. Measured on a scale of 0–100, with higher values indicating higher risk.&lt;/li&gt;
&lt;li&gt;Mosquito net (&lt;code&gt;net&lt;/code&gt; and &lt;code&gt;net_num&lt;/code&gt;): A binary variable indicating if the household used mosquito nets.&lt;/li&gt;
&lt;li&gt;Eligible for program (&lt;code&gt;eligible&lt;/code&gt;): A binary variable indicating if the household is eligible for the free net program.&lt;/li&gt;
&lt;li&gt;Income (&lt;code&gt;income&lt;/code&gt;): The household&amp;rsquo;s monthly income, in US dollars.&lt;/li&gt;
&lt;li&gt;Nighttime temperatures (&lt;code&gt;temperature&lt;/code&gt;): The average temperature at night, in Celsius.&lt;/li&gt;
&lt;li&gt;Health (&lt;code&gt;health&lt;/code&gt;): Self-reported healthiness in the household. Measured on a scale of 0–100, with higher values indicating better health.&lt;/li&gt;
&lt;li&gt;Number in household (&lt;code&gt;household&lt;/code&gt;): Number of people living in the household.&lt;/li&gt;
&lt;li&gt;Insecticide resistance (&lt;code&gt;resistance&lt;/code&gt;): Some strains of mosquitoes are more resistant to insecticide and thus pose a higher risk of infecting people with malaria. This is measured on a scale of 0–100, with higher values indicating higher resistance.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;According to the DAG, malaria risk is caused by income, temperatures, health, insecticide resistance, and mosquito net use. People who live in hotter regions, have lower incomes, have worse health, are surrounded by mosquitoes with high resistance to insecticide, and who do not use mosquito nets are at higher risk of contracting malaria than those who do not. Mosquito net use is caused by income, nighttime temperatures, health, the number of people living in the house, and eligibility for the free net program. People who live in areas that are cooler at night, have higher incomes, have better health, have more people in the home, and are eligible for free government nets are more likely to regularly use nets than those who do not. The DAG also shows that eligibility for the free net program is caused by income and household size, since households must meet specific thresholds to qualify.&lt;/p&gt;
&lt;p&gt;First, let&amp;rsquo;s download the dataset, put in a folder named &lt;code&gt;data&lt;/code&gt;, and load it:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/data/mosquito_nets.csv&#34;&gt;&lt;i class=&#34;fas fa-table&#34;&gt;&lt;/i&gt; &lt;code&gt;mosquito_nets.csv&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Load the data.&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# It&amp;#39;d be a good idea to click on the &amp;#34;mosquito_nets.csv&amp;#34; object in the&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# Environment panel in RStudio to see what the data looks like after you load it&lt;/span&gt;
mosquito_nets &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;read_csv&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;data/mosquito_nets.csv&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We can use this data to check if the relationships defined by our DAG reflect reality. Recall that &lt;em&gt;d&lt;/em&gt;-separation implies that nodes are statistically independent of each other and do not transfer associational information. If you draw the mosquito net DAG with dagitty.net, or if you run &lt;code&gt;impliedConditionalIndependencies()&lt;/code&gt; in R, you can see a list of all the implied conditional independencies.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;impliedConditionalIndependencies&lt;/span&gt;(mosquito_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## elgb _||_ hlth | incm&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## elgb _||_ mlr_ | hlth, incm, net, tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## elgb _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## elgb _||_ tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hlth _||_ hshl&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hlth _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hlth _||_ tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hshl _||_ incm&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hshl _||_ mlr_ | hlth, incm, net, tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hshl _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hshl _||_ tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## incm _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## incm _||_ tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## net _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## rsst _||_ tmpr&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The &lt;code&gt;_||_&lt;/code&gt; symbol in the output here is the &lt;code&gt;\(\perp\)&lt;/code&gt; symbol, which means &amp;ldquo;independent of&amp;rdquo;. The &lt;code&gt;|&lt;/code&gt; in the output means &amp;ldquo;given&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;In the interest of space, we will not verify all these implied independencies, but we can test a few of them:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;\(\text{Health} \perp \text{Household members}\)&lt;/code&gt;: (Read as &lt;em&gt;&amp;ldquo;Health is independent of household member count&amp;rdquo;&lt;/em&gt;.) Health should be independent of the number of people in each household. In the data, the two variables should not be correlated. This is indeed the case:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cor&lt;/span&gt;(mosquito_nets&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;health, mosquito_nets&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;household)
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] 9.8e-05&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;\(\text{Income} \perp \text{Insecticide resistance}\)&lt;/code&gt;: (Read as &lt;em&gt;&amp;ldquo;Income is independent of insecticide resistance&amp;rdquo;&lt;/em&gt;.) Income should be independent of insecticide resistance. This is again true:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cor&lt;/span&gt;(mosquito_nets&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;income, mosquito_nets&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;resistance)
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] 0.014&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;\(\text{Malaria risk} \perp \text{Household members}\ |\ \text{Health, Income, Bed net use, Temperature}\)&lt;/code&gt;: (Read as &lt;em&gt;&amp;ldquo;Malaria risk is independent of house member count given health, income, bed net use, and temperature&amp;rdquo;&lt;/em&gt;.) Malaria risk should be independent of the number of household members given similar levels of health, income, mosquito net use, and nighttime temperatures. We cannot use &lt;code&gt;cor()&lt;/code&gt; to test this implication, since there are many variables involved, but we can use a regression model to check if the number of household members is significantly related to malaria risk. It is not significant ($t = -0.17$, &lt;code&gt;\(p = 0.863\)&lt;/code&gt;), which means the two are independent, as expected.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; household &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; health &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; net &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; temperature,
   data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mosquito_nets) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  broom&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;()
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 6 x 5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   term        estimate std.error statistic   p.value&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 (Intercept)  76.2      0.966      78.9   0.       &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 household    -0.0155   0.0893     -0.173 8.63e-  1&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3 health        0.148    0.0107     13.9   9.75e- 42&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 4 income       -0.0751   0.00104   -72.6   0.       &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 5 netTRUE     -10.4      0.266     -39.2   2.63e-241&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 6 temperature   1.01     0.0310     32.5   1.88e-181&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We can check all the other conditional independencies to see if the DAG captures the reality of the full system of factors that influence mosquito net use and malaria risk. If there are substantial and significant correlations between nodes that should be independent, there is likely an issue with the specification of the DAG. Return to the theory of how the phenomena are generated and refine the DAG more.&lt;/p&gt;
&lt;h3 id=&#34;mosquito-net-adjustment-sets&#34;&gt;Mosquito net adjustment sets&lt;/h3&gt;
&lt;p&gt;There is a direct path between mosquito net use and the risk of malaria, but the effect is not causally identified due to several other open paths. We can either list out all the paths and find which open paths have arrows pointing backwards into the mosquito net node (run &lt;code&gt;paths(mosquito_dag)&lt;/code&gt; to see these results), or we can let R find the appropriate adjustment sets automatically:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;adjustmentSets&lt;/span&gt;(mosquito_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## { health, income, temperature }&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Based on the relationships between all the nodes in the DAG, adjusting for health, income, and temperature is enough to close all backdoors and identify the relationship between net use and malaria risk. Importantly, we do not need to worry about any of the nodes related to the government program for free nets, since those nodes are not &lt;em&gt;d&lt;/em&gt;-connected to malaria risk. We only need to worry about confounding relationships.&lt;/p&gt;
&lt;p&gt;We can confirm this graphically with &lt;code&gt;ggdag_adjustment_set()&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_adjustment_set&lt;/span&gt;(mosquito_dag, shadow &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;,
                     use_labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;, text &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/04-practico_files/figure-html/plot-mosquito-adjustment-fake-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Transformación y selección de variables</title>
      <link>/content/04-content/</link>
      <pubDate>Mon, 30 Aug 2021 00:00:00 +0000</pubDate>
      <guid>/content/04-content/</guid>
      <description>&lt;h2 id=&#34;readings&#34;&gt;Readings&lt;/h2&gt;
&lt;h3 id=&#34;measurement&#34;&gt;Measurement&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;i class=&#34;fab fa-youtube&#34;&gt;&lt;/i&gt; &lt;a href=&#34;https://www.youtube.com/watch?v=yp_l5ntikaU&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;The witch trial scene from &lt;em&gt;Monty Python and the Holy Grail&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-book&#34;&gt;&lt;/i&gt; Chapter 5 in &lt;em&gt;Evaluation: A Systematic Approach&lt;/em&gt;.&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt; This is available on iCollege.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;dags&#34;&gt;DAGs&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;i class=&#34;far fa-file-pdf&#34;&gt;&lt;/i&gt; Julia M. Rohrer, “Thinking Clearly About Correlations and Causation: Graphical Causal Models for Observational Data”&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt; This will be posted on iCollege.&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;far fa-file-pdf&#34;&gt;&lt;/i&gt; Section 2 only (pp. 4–11) from Julian Schuessler and Peter Selb, “Graphical Causal Models for Survey Inference.”&lt;sup id=&#34;fnref:3&#34;&gt;&lt;a href=&#34;#fn:3&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;3&lt;/a&gt;&lt;/sup&gt; &lt;a href=&#34;https://osf.io/preprints/socarxiv/hbg3m/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;The PDF is available at SocArXiv.&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-book&#34;&gt;&lt;/i&gt; &lt;a href=&#34;https://mixtape.scunning.com/ch2.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Chapter 3, “Directed Acyclic Graphs”&lt;/a&gt; in &lt;em&gt;Causal Inference: The Mixtape&lt;/em&gt;&lt;sup id=&#34;fnref:4&#34;&gt;&lt;a href=&#34;#fn:4&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;4&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;dag-example-page&#34;&gt;DAG example page&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;The &lt;a href=&#34;/example/dags/&#34;&gt;example page on DAGs&lt;/a&gt; shows how to draw and analyze DAGs with both dagitty.net and R + &lt;strong&gt;ggdag&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;slides&#34;&gt;Slides&lt;/h2&gt;
&lt;p&gt;The slides for today’s lesson are available online as an HTML file. Use the buttons below to open the slides either as an interactive website or as a static PDF (for printing or storing for later). You can also click in the slides below and navigate through them with your left and right arrow keys.&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;btn btn-primary btn-lg&#34; target=&#34;_blank&#34; href=&#34;/slides/04-slides.html&#34;&gt;&lt;i class=&#34;fas fa-external-link-alt&#34;&gt;&lt;/i&gt; View all slides in new window&lt;/a&gt; &lt;a class=&#34;btn btn-primary btn-lg&#34; target=&#34;_blank&#34; href=&#34;/slides/04-slides.pdf&#34; role=&#34;button&#34;&gt;&lt;i class=&#34;far fa-file-pdf&#34;&gt;&lt;/i&gt; Download PDF of all slides&lt;/a&gt;&lt;/p&gt;
&lt;ul class=&#34;nav nav-tabs&#34; id=&#34;slide-tabs&#34; role=&#34;tablist&#34;&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link active&#34; id=&#34;introduction-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#introduction&#34; role=&#34;tab&#34; aria-controls=&#34;introduction&#34; aria-selected=&#34;true&#34;&gt;Introduction&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link&#34; id=&#34;abstraction-stretching-and-validity-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#abstraction-stretching-and-validity&#34; role=&#34;tab&#34; aria-controls=&#34;abstraction-stretching-and-validity&#34; aria-selected=&#34;false&#34;&gt;Abstraction, stretching, and validity&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link&#34; id=&#34;causal-models-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#causal-models&#34; role=&#34;tab&#34; aria-controls=&#34;causal-models&#34; aria-selected=&#34;false&#34;&gt;Causal models&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link&#34; id=&#34;paths-doors-and-adjustment-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#paths-doors-and-adjustment&#34; role=&#34;tab&#34; aria-controls=&#34;paths-doors-and-adjustment&#34; aria-selected=&#34;false&#34;&gt;Paths, doors, and adjustment&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;slide-tabs&#34; class=&#34;tab-content&#34;&gt;
&lt;div id=&#34;introduction&#34; class=&#34;tab-pane fade show active&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;introduction-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/04-slides.html#1&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;abstraction-stretching-and-validity&#34; class=&#34;tab-pane fade&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;abstraction-stretching-and-validity-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/04-slides.html#abstraction&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;causal-models&#34; class=&#34;tab-pane fade&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;causal-models-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/04-slides.html#causal-models&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;paths-doors-and-adjustment&#34; class=&#34;tab-pane fade&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;paths-doors-and-adjustment-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/04-slides.html#paths-doors-adjustment&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;fyi&#34;&gt;
&lt;strong&gt;Fun fact&lt;/strong&gt;: If you type &lt;kbd&gt;?&lt;/kbd&gt; (or &lt;kbd&gt;shift&lt;/kbd&gt; + &lt;kbd&gt;/&lt;/kbd&gt;) while going through the slides, you can see a list of special slide-specific commands.
&lt;/div&gt;
&lt;h2 id=&#34;videos&#34;&gt;Videos&lt;/h2&gt;
&lt;p&gt;Videos for each section of the lecture are &lt;a href=&#34;https://www.youtube.com/playlist?list=PLS6tnpTr39sFVrHdTifzlyS9dsJjhEhsF&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;available at this YouTube playlist&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=V9zIL7bI9WI&amp;amp;list=PLS6tnpTr39sFVrHdTifzlyS9dsJjhEhsF&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Introduction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=QkFhHOoYq-I&amp;amp;list=PLS6tnpTr39sFVrHdTifzlyS9dsJjhEhsF&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Abstraction, stretching, and validity&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=kJQuH3nssfI&amp;amp;list=PLS6tnpTr39sFVrHdTifzlyS9dsJjhEhsF&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Causal models&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=_qs_1B4ySWY&amp;amp;list=PLS6tnpTr39sFVrHdTifzlyS9dsJjhEhsF&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Paths, doors, and adjustment&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can also watch the playlist (and skip around to different sections) here:&lt;/p&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;https://www.youtube.com/embed/playlist?list=PLS6tnpTr39sFVrHdTifzlyS9dsJjhEhsF&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Peter H. Rossi, Mark W. Lipsey, and Gary T. Henry, &lt;em&gt;Evaluation: A Systematic Approach&lt;/em&gt;, 8th ed. (Los Angeles: Sage, 2019). &lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Julia M. Rohrer, “Thinking Clearly about Correlations and Causation: Graphical Causal Models for Observational Data,” &lt;em&gt;Advances in Methods and Practices in Psychological Science&lt;/em&gt; 1, no. 1 (March 2018): 27–42, doi:&lt;a href=&#34;https://doi.org/10.1177/2515245917745629&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;10.1177/2515245917745629&lt;/a&gt;. &lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:3&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Julian Schuessler and Peter Selb, “Graphical Causal Models for Survey Inference” (Working Paper, SocArXiv, December 17, 2019), doi:&lt;a href=&#34;https://doi.org/10.31235/osf.io/hbg3m&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;10.31235/osf.io/hbg3m&lt;/a&gt;. &lt;a href=&#34;#fnref:3&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:4&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Scott Cunningham, &lt;em&gt;Causal Inference: The Mixtape&lt;/em&gt; (New Haven, CT: Yale University Press, 2021), &lt;a href=&#34;https://mixtape.scunning.com/&#34;&gt;https://mixtape.scunning.com/&lt;/a&gt;. &lt;a href=&#34;#fnref:4&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
    </item>
    
    <item>
      <title>The ultimate guide to generating synthetic data for causal inference</title>
      <link>/example/01-datos/</link>
      <pubDate>Mon, 23 Aug 2021 00:00:00 +0000</pubDate>
      <guid>/example/01-datos/</guid>
      <description>&lt;p&gt;In the &lt;a href=&#34;/example/random-numbers/&#34;&gt;example guide for generating random numbers&lt;/a&gt;, we explored how to use a bunch of different statistical distributions to create variables that had reasonable values. However, each of the columns that we generated there were completely independent of each other. In the final example, we made some data with columns like age, education, and income, but none of those were related, though in real life they would be.&lt;/p&gt;
&lt;p&gt;Generating random variables is fairly easy: choose some sort of distributional shape, set parameters like a mean and standard deviation, and let randomness take over. Forcing variables to be related is a little trickier and involves a little math. But don&amp;rsquo;t worry! That math is all just regression stuff!&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(tidyverse)
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(broom)
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(patchwork)
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(scales)
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(ggdag)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;basic-example&#34;&gt;Basic example&lt;/h2&gt;
&lt;h3 id=&#34;relationships-and-regression&#34;&gt;Relationships and regression&lt;/h3&gt;
&lt;p&gt;Let&amp;rsquo;s pretend we want to predict someone&amp;rsquo;s happiness on a 10-point scale based on the number of cookies they&amp;rsquo;ve eaten and whether or not their favorite color is blue.&lt;/p&gt;
&lt;p&gt;$$
\text{Happiness} = \beta_0 + \beta_1 \text{Cookies eaten} + \beta_2 \text{Favorite color is blue} + \varepsilon
$$&lt;/p&gt;
&lt;p&gt;We can generate a fake dataset with columns for happiness (Beta distribution clustered around 7ish), cookies (Poisson distribution), and favorite color (binomial distribution for blue/not blue):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;set.seed&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1234&lt;/span&gt;)

n_people &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1000&lt;/span&gt;
happiness_simple &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;tibble&lt;/span&gt;(
  id &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;n_people,
  happiness &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rbeta&lt;/span&gt;(n_people, shape1 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;, shape2 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;),
  cookies &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rpois&lt;/span&gt;(n_people, lambda &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;),
  color_blue &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;sample&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Blue&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Not blue&amp;#34;&lt;/span&gt;), n_people, replace &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;)
) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Adjust some of the columns&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(happiness &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;round&lt;/span&gt;(happiness &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;),
         cookies &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; cookies &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,
         color_blue &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;fct_relevel&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;factor&lt;/span&gt;(color_blue), &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Not blue&amp;#34;&lt;/span&gt;))

&lt;span style=&#34;color:#a6e22e&#34;&gt;head&lt;/span&gt;(happiness_simple)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 6 x 4&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##      id happiness cookies color_blue&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;int&amp;gt;     &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt; &amp;lt;fct&amp;gt;     &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1     1       8.7       2 Blue      &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2     2       6.5       2 Not blue  &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3     3       4.8       2 Blue      &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 4     4       9.6       3 Not blue  &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 5     5       6.2       1 Not blue  &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 6     6       6.1       2 Blue&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We have a neat dataset now, so let&amp;rsquo;s run a regression. Is eating more cookies or liking blue associated with greater happiness?&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;model_happiness1 &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(happiness &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; cookies &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; color_blue, data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; happiness_simple)
&lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;(model_happiness1)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 3 x 5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   term           estimate std.error statistic p.value&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;             &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 (Intercept)     7.06       0.105     67.0     0    &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 cookies        -0.00884    0.0419    -0.211   0.833&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3 color_blueBlue -0.0202     0.0861    -0.235   0.815&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Not really. The coefficients for both &lt;code&gt;cookies&lt;/code&gt; and &lt;code&gt;color_blueBlue&lt;/code&gt; are basically 0 and not statistically significant. That makes sense since the three columns are completely independent of each other. If there were any significant effects, that&amp;rsquo;d be strange and solely because of random chance.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;For the sake of your final project, you can just leave all the columns completely independent of each other if you want.&lt;/strong&gt; None of your results will be significant and you won&amp;rsquo;t see any effects anywhere, but you can still build models, run all the pre-model diagnostics, and create graphs and tables based on this data.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;HOWEVER&lt;/strong&gt;&lt;/em&gt;, it will be far more useful to you if you generate relationships. The whole goal of this class is to find causal effects in observational, non-experimental data. If you can generate synthetic non-experimental data and bake in a known causal effect, you can know if your different methods for recovering that effect are working.&lt;/p&gt;
&lt;p&gt;So how do we bake in correlations and causal effects?&lt;/p&gt;
&lt;h3 id=&#34;explanatory-variables-linked-to-outcome-no-connection-between-explanatory-variables&#34;&gt;Explanatory variables linked to outcome; no connection between explanatory variables&lt;/h3&gt;
&lt;p&gt;To help with the intuition of how to link these columns, think about the model we&amp;rsquo;re building:&lt;/p&gt;
&lt;p&gt;$$
\text{Happiness} = \beta_0 + \beta_1 \text{Cookies eaten} + \beta_2 \text{Favorite color is blue} + \varepsilon
$$&lt;/p&gt;
&lt;p&gt;This model provides estimates for all those betas. Throughout the semester, we&amp;rsquo;ve used the analogy of sliders and switches to describe regression coefficients. Here we have both:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;\(\beta_0\)&lt;/code&gt;: The average baseline happiness.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\(\beta_1\)&lt;/code&gt;: The additional change in happiness that comes from eating one cookie. This is a &lt;em&gt;slider&lt;/em&gt;: move cookies up by one and happiness changes by &lt;code&gt;\(\beta_1\)&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\(\beta_2\)&lt;/code&gt;: The change in happiness that comes from having your favorite color be blue. This is a &lt;em&gt;switch&lt;/em&gt;: turn on &amp;ldquo;blue&amp;rdquo; for someone and their happiness changes by &lt;code&gt;\(\beta_2\)&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We can invent our own coefficients and use some math to build them into the dataset. Let&amp;rsquo;s use these numbers as our targets:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;\(\beta_0\)&lt;/code&gt;: Average happiness is 7&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\(\beta_1\)&lt;/code&gt;: Eating one more cookie boosts happiness by 0.25 points&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\(\beta_2\)&lt;/code&gt;: People who like blue have 0.75 higher happiness&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;When generating the data, we can&amp;rsquo;t just use &lt;code&gt;rbeta()&lt;/code&gt; by itself to generate happiness, since happiness depends on both cookies and favorite color (that&amp;rsquo;s why we call it a dependent variable). To build in this effect, we can add a new column that uses math and modifies the underlying &lt;code&gt;rbeta()&lt;/code&gt;-based happiness score:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;happiness_with_effect &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; happiness_simple &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Turn the categorical favorite color column into TRUE/FALSE so we can do math with it&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(color_blue_binary &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ifelse&lt;/span&gt;(color_blue &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Blue&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;)) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Make a new happiness column that uses coefficients for cookies and favorite color&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(happiness_modified &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; happiness &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; (&lt;span style=&#34;color:#ae81ff&#34;&gt;0.25&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; cookies) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; (&lt;span style=&#34;color:#ae81ff&#34;&gt;0.75&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; color_blue_binary))
&lt;span style=&#34;color:#a6e22e&#34;&gt;head&lt;/span&gt;(happiness_with_effect)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 6 x 6&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##      id happiness cookies color_blue color_blue_binary happiness_modified&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;int&amp;gt;     &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt; &amp;lt;fct&amp;gt;      &amp;lt;lgl&amp;gt;                          &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1     1       8.7       2 Blue       TRUE                            9.95&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2     2       6.5       2 Not blue   FALSE                           7   &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3     3       4.8       2 Blue       TRUE                            6.05&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 4     4       9.6       3 Not blue   FALSE                          10.4 &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 5     5       6.2       1 Not blue   FALSE                           6.45&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 6     6       6.1       2 Blue       TRUE                            7.35&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Now that we have a new &lt;code&gt;happiness_modified&lt;/code&gt; column we can run a model using it as the outcome:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;model_happiness2 &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(happiness_modified &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; cookies &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; color_blue, data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; happiness_with_effect)
&lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;(model_happiness2)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 3 x 5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   term           estimate std.error statistic  p.value&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;             &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 (Intercept)       7.06     0.105      67.0  0.      &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 cookies           0.241    0.0419      5.76 1.13e- 8&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3 color_blueBlue    0.730    0.0861      8.48 8.25e-17&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Whoa! Look at those coefficients! They&amp;rsquo;re exactly what we tried to build in! The baseline happiness (intercept) is ≈7, eating one cookie is associated with a ≈0.25 increase in happiness, and liking blue is associated with a ≈0.75 increase in happiness.&lt;/p&gt;
&lt;p&gt;However, we originally said that happiness was a 0-10 point scale. After boosting it with extra happiness for cookies and liking blue, there are some people who score higher than 10:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Original scale&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(happiness_with_effect, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; happiness)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_histogram&lt;/span&gt;(binwidth &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;white&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;scale_x_continuous&lt;/span&gt;(breaks &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;11&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;coord_cartesian&lt;/span&gt;(xlim &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;11&lt;/span&gt;))
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/01-datos_files/figure-html/happiness-dist-normal-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Scaled up&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(happiness_with_effect, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; happiness_modified)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_histogram&lt;/span&gt;(binwidth &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;white&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;scale_x_continuous&lt;/span&gt;(breaks &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;11&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;coord_cartesian&lt;/span&gt;(xlim &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;11&lt;/span&gt;))
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/01-datos_files/figure-html/happiness-dist-scaled-up-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;To fix that, we can use the &lt;code&gt;rescale()&lt;/code&gt; function from the &lt;strong&gt;scales&lt;/strong&gt; package to force the new &lt;code&gt;happiness_modified&lt;/code&gt; variable to fit back in its original range:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;happiness_with_effect &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; happiness_with_effect &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(happiness_rescaled &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rescale&lt;/span&gt;(happiness_modified, to &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;)))

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(happiness_with_effect, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; happiness_rescaled)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_histogram&lt;/span&gt;(binwidth &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;white&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;scale_x_continuous&lt;/span&gt;(breaks &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;11&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;coord_cartesian&lt;/span&gt;(xlim &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;11&lt;/span&gt;))
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/01-datos_files/figure-html/happiness-scaled-down-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Everything is back in the 3–10 range now. However, the rescaling also rescaled our built-in effects. Look what happens if we use the &lt;code&gt;happiness_rescaled&lt;/code&gt; in the model:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;model_happiness3 &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(happiness_rescaled &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; cookies &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; color_blue, data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; happiness_with_effect)
&lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;(model_happiness3)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 3 x 5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   term           estimate std.error statistic  p.value&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;             &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 (Intercept)       6.34     0.0910     69.6  0.      &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 cookies           0.208    0.0362      5.76 1.13e- 8&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3 color_blueBlue    0.631    0.0744      8.48 8.25e-17&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Now the baseline happiness is 6.3, the cookies effect is 0.2, and the blue effect is 0.63. These effects shrunk because we shrunk the data back down to have a maximum of 10.&lt;/p&gt;
&lt;p&gt;There are probably fancy mathy ways to rescale data &lt;em&gt;and&lt;/em&gt; keep the coefficients the same size, but rather than figure that out (who even wants to do that?!), my strategy is just to play with numbers until the results look good. Instead of using a 0.25 cookie effect and 0.75 blue effect, I make those effects bigger so that the rescaled version is roughly what I really want. There&amp;rsquo;s no systematic way to do this—I ran this chunk below a bunch of times until the numbers worked.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;set.seed&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1234&lt;/span&gt;)

n_people &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1000&lt;/span&gt;
happiness_real_effect &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;tibble&lt;/span&gt;(
  id &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;n_people,
  happiness_baseline &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rbeta&lt;/span&gt;(n_people, shape1 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;, shape2 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;),
  cookies &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rpois&lt;/span&gt;(n_people, lambda &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;),
  color_blue &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;sample&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Blue&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Not blue&amp;#34;&lt;/span&gt;), n_people, replace &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;)
) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Adjust some of the columns&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(happiness_baseline &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;round&lt;/span&gt;(happiness_baseline &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;),
         cookies &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; cookies &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,
         color_blue &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;fct_relevel&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;factor&lt;/span&gt;(color_blue), &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Not blue&amp;#34;&lt;/span&gt;)) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Turn the categorical favorite color column into TRUE/FALSE so we can do math with it&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(color_blue_binary &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ifelse&lt;/span&gt;(color_blue &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Blue&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;)) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Make a new happiness column that uses coefficients for cookies and favorite color&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(happiness_effect &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; happiness_baseline &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
           (&lt;span style=&#34;color:#ae81ff&#34;&gt;0.31&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; cookies) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Cookie effect&lt;/span&gt;
           (&lt;span style=&#34;color:#ae81ff&#34;&gt;0.91&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; color_blue_binary)) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Blue effect&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Rescale to 3-10, since that&amp;#39;s what the original happiness column looked like&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(happiness &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rescale&lt;/span&gt;(happiness_effect, to &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;)))

model_does_this_work_yet &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(happiness &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; cookies &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; color_blue, data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; happiness_real_effect)
&lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;(model_does_this_work_yet)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 3 x 5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   term           estimate std.error statistic  p.value&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;             &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 (Intercept)       6.15     0.0886     69.4  0.      &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 cookies           0.253    0.0352      7.19 1.25e-12&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3 color_blueBlue    0.749    0.0724     10.3  7.44e-24&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;There&amp;rsquo;s nothing magical about the 0.31 and 0.91 numbers I used here; I just kept changing those to different things until the regression coefficients ended up at ≈0.25 and ≈0.75. Also, I gave up on trying to make the baseline happiness 7. It&amp;rsquo;s possible to do—you&amp;rsquo;d just need to also shift the underlying Beta distribution up (like &lt;code&gt;shape1 = 9, shape2 = 2&lt;/code&gt; or something). But then you&amp;rsquo;d also need to change the coefficients more. You&amp;rsquo;ll end up with 3 moving parts and it can get complicated, so I don&amp;rsquo;t worry too much about it, since what we care about the most here is the effect of cookies and favorite color, not baseline levels of happiness.&lt;/p&gt;
&lt;p&gt;Phew. We successfully connected cookies and favorite color to happiness and we have effects that are measurable with regression! One last thing that I would do is get rid of some of the intermediate columns like &lt;code&gt;color_blue_binary&lt;/code&gt; or &lt;code&gt;happiness_effect&lt;/code&gt;—we only used those for the behind-the-scenes math of creating the effect. Here&amp;rsquo;s our final synthetic dataset:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;happiness &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; happiness_real_effect &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;select&lt;/span&gt;(id, happiness, cookies, color_blue)
&lt;span style=&#34;color:#a6e22e&#34;&gt;head&lt;/span&gt;(happiness)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 6 x 4&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##      id happiness cookies color_blue&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;int&amp;gt;     &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt; &amp;lt;fct&amp;gt;     &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1     1      8.81       2 Blue      &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2     2      6.20       2 Not blue  &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3     3      5.53       2 Blue      &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 4     4      9.07       3 Not blue  &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 5     5      5.68       1 Not blue  &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 6     6      6.63       2 Blue&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We can save that as a CSV file with &lt;code&gt;write_csv()&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;write_csv&lt;/span&gt;(happiness, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;data/happiness_fake_data.csv&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;explanatory-variables-linked-to-outcome-connection-between-explanatory-variables&#34;&gt;Explanatory variables linked to outcome; connection between explanatory variables&lt;/h3&gt;
&lt;p&gt;In that cookie example, we assumed that both cookie consumption and favorite color are associated with happiness. We also assumed that cookie consumption and favorite color are &lt;em&gt;not&lt;/em&gt; related to each other. But what if they are? What if people who like blue eat more cookies?&lt;/p&gt;
&lt;p&gt;We&amp;rsquo;ve already used regression-based math to connect explanatory variables to outcome variables. We can use that same intuition to connect explanatory variables to each other.&lt;/p&gt;
&lt;p&gt;The easiest way to think about this is with DAGs. Here&amp;rsquo;s the DAG for the model we just ran:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;happiness_dag1 &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(hap &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; cook &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; blue,
                         coords &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(hap &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, cook &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, blue &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;),
                                       y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(hap &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, cook &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, blue &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;)))

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag&lt;/span&gt;(happiness_dag1) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/01-datos_files/figure-html/happiness-dag-rct-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Both cookies and favorite color cause happiness, but there&amp;rsquo;s no link between them. Notice that &lt;code&gt;dagify()&lt;/code&gt; uses the same model syntax that &lt;code&gt;lm()&lt;/code&gt; does: &lt;code&gt;hap ~ cook + blue&lt;/code&gt;. If we think of this just like a regression model, we can pretend that there are coefficients there too: &lt;code&gt;hap ~ 0.25*cook + 0.75*blue&lt;/code&gt;. We don&amp;rsquo;t actually include any coefficients in the DAG or anything, but it helps with the intuition.&lt;/p&gt;
&lt;p&gt;But what if people who like blue eat more cookies on average? For whatever reason, let&amp;rsquo;s pretend that liking blue causes you to eat 0.5 more cookies, on average. Here&amp;rsquo;s the new DAG:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;happiness_dag2 &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(hap &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; cook &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; blue,
                         cook &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; blue,
                         coords &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(hap &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, cook &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, blue &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;),
                                       y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(hap &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, cook &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, blue &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;)))

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag&lt;/span&gt;(happiness_dag2) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/01-datos_files/figure-html/happiness-dag-confounding-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Now we have two different equations: &lt;code&gt;hap ~ cook + blue&lt;/code&gt; and &lt;code&gt;cook ~ blue&lt;/code&gt;. Conveniently, these both translate to models, and we know the coefficients we want!&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;hap ~ 0.25*cook + 0.75*blue&lt;/code&gt;: This is what we built before—cookies boost happiness by 0.25 and liking blue boosts happiness by 0.75&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cook ~ 0.3*blue&lt;/code&gt;: This is what we just proposed—liking blue boosts cookies by 0.5&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We can follow the same process we did when building the cookie and blue effects into happiness to also build a blue effect into cookies!&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;set.seed&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1234&lt;/span&gt;)

n_people &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1000&lt;/span&gt;
happiness_cookies_blue &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;tibble&lt;/span&gt;(
  id &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;n_people,
  happiness_baseline &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rbeta&lt;/span&gt;(n_people, shape1 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;, shape2 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;),
  cookies &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rpois&lt;/span&gt;(n_people, lambda &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;),
  color_blue &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;sample&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Blue&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Not blue&amp;#34;&lt;/span&gt;), n_people, replace &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;)
) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Adjust some of the columns&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(happiness_baseline &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;round&lt;/span&gt;(happiness_baseline &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;),
         cookies &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; cookies &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,
         color_blue &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;fct_relevel&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;factor&lt;/span&gt;(color_blue), &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Not blue&amp;#34;&lt;/span&gt;)) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Turn the categorical favorite color column into TRUE/FALSE so we can do math with it&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(color_blue_binary &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ifelse&lt;/span&gt;(color_blue &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Blue&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;)) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Make blue have an effect on cookie consumption&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(cookies &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; cookies &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; (&lt;span style=&#34;color:#ae81ff&#34;&gt;0.5&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; color_blue_binary)) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Make a new happiness column that uses coefficients for cookies and favorite color&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(happiness_effect &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; happiness_baseline &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
           (&lt;span style=&#34;color:#ae81ff&#34;&gt;0.31&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; cookies) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Cookie effect&lt;/span&gt;
           (&lt;span style=&#34;color:#ae81ff&#34;&gt;0.91&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; color_blue_binary)) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Blue effect&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Rescale to 3-10, since that&amp;#39;s what the original happiness column looked like&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(happiness &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rescale&lt;/span&gt;(happiness_effect, to &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;)))
&lt;span style=&#34;color:#a6e22e&#34;&gt;head&lt;/span&gt;(happiness_cookies_blue)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 6 x 7&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##      id happiness_baseline cookies color_blue color_blue_binary happiness_effect happiness&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;int&amp;gt;              &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt; &amp;lt;fct&amp;gt;      &amp;lt;lgl&amp;gt;                        &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1     1                8.7     2.5 Blue       TRUE                         10.4       8.84&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2     2                6.5     2   Not blue   FALSE                         7.12      6.14&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3     3                4.8     2.5 Blue       TRUE                          6.48      5.61&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 4     4                9.6     3   Not blue   FALSE                        10.5       8.96&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 5     5                6.2     1   Not blue   FALSE                         6.51      5.63&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 6     6                6.1     2.5 Blue       TRUE                          7.78      6.69&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Notice now that people who like blue eat partial cookies, as expected. We can verify that there&amp;rsquo;s a relationship between liking blue and cookies by running a model:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(cookies &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; color_blue, data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; happiness_cookies_blue) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;()
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 2 x 5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   term           estimate std.error statistic   p.value&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;             &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 (Intercept)       2.07     0.0451     45.9  3.51e-248&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 color_blueBlue    0.460    0.0651      7.07 2.96e- 12&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Yep. Liking blue is associated with 0.46 more cookies on average (it&amp;rsquo;s not quite 0.5, but that&amp;rsquo;s because of randomness).&lt;/p&gt;
&lt;p&gt;Now let&amp;rsquo;s do some neat DAG magic. Let&amp;rsquo;s say we&amp;rsquo;re interested in the causal effect of cookies on happiness. We could run a naive model:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;model_happiness_naive &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(happiness &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; cookies, data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; happiness_cookies_blue)
&lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;(model_happiness_naive)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 2 x 5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   term        estimate std.error statistic  p.value&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 (Intercept)    6.27     0.0894     70.1  0.      &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 cookies        0.325    0.0354      9.18 2.40e-19&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Based on this, eating a cookie causes you to have 0.325 more happiness points. But that&amp;rsquo;s wrong! Liking the color blue is a confounder and opens a path between cookies and happiness. You can see the confounding both in the DAG (since blue points to both the cookie node and the happiness node) and in the math (liking blue boosts happiness + liking blue boosts cookie consumption, which boosts happiness).&lt;/p&gt;
&lt;p&gt;To fix this confounding, we need to statistically adjust for liking blue and close the backdoor path. Ordinarily we&amp;rsquo;d do this with something like &lt;a href=&#34;/example/matching-ipw/&#34;&gt;matching or inverse probability weighting&lt;/a&gt;, but here we can just include liking blue as a control variable (since it&amp;rsquo;s linearly related to both cookies and happiness):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;model_happiness_ate &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(happiness &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; cookies &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; color_blue, data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; happiness_cookies_blue)
&lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;(model_happiness_ate)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 3 x 5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   term           estimate std.error statistic  p.value&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;             &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 (Intercept)       6.09     0.0870     70.0  0.      &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 cookies           0.249    0.0346      7.19 1.25e-12&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3 color_blueBlue    0.739    0.0729     10.1  4.70e-23&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;After adjusting for backdoor confounding, eating one additional cookie &lt;em&gt;causes&lt;/em&gt; a 0.249 point increase in happiness. This is the effect we originally built into the data!&lt;/p&gt;
&lt;p&gt;If you wanted, we could rescale the number of cookies just like we rescaled happiness before, since sometimes adding effects to columns changes their reasonable ranges.&lt;/p&gt;
&lt;p&gt;Now that we have a good working dataset, we can keep the columns we care about and save it as a CSV file for later use:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;happiness &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; happiness_cookies_blue &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;select&lt;/span&gt;(id, happiness, cookies, color_blue)
&lt;span style=&#34;color:#a6e22e&#34;&gt;head&lt;/span&gt;(happiness)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 6 x 4&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##      id happiness cookies color_blue&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;int&amp;gt;     &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt; &amp;lt;fct&amp;gt;     &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1     1      8.84     2.5 Blue      &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2     2      6.14     2   Not blue  &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3     3      5.61     2.5 Blue      &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 4     4      8.96     3   Not blue  &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 5     5      5.63     1   Not blue  &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 6     6      6.69     2.5 Blue&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;write_csv&lt;/span&gt;(happiness, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;data/happiness_fake_data.csv&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;adding-extra-noise&#34;&gt;Adding extra noise&lt;/h3&gt;
&lt;p&gt;We&amp;rsquo;ve got columns that follow specific distributions, and we&amp;rsquo;ve got columns that are statistically related to each other. We can add one more wrinkle to make our fake data even more fun (and even more reflective of real life). We can add some noise.&lt;/p&gt;
&lt;p&gt;Right now, the effects we&amp;rsquo;re finding are &lt;em&gt;too&lt;/em&gt; perfect. When we used &lt;code&gt;mutate()&lt;/code&gt; to add a 0.25 boost in happiness for every cookie people ate, we added &lt;em&gt;exactly&lt;/em&gt; 0.25 happiness points. If someone ate 2 cookies, they got 0.5 more happiness; if they ate 5, they got 1.25 more.&lt;/p&gt;
&lt;p&gt;What if the cookie effect isn&amp;rsquo;t exactly 0.25, but somewhere &lt;em&gt;around&lt;/em&gt; 0.25? For some people it&amp;rsquo;s 0.1, for others it&amp;rsquo;s 0.3, for others it&amp;rsquo;s 0.22. We can use the same ideas we talked about in the &lt;a href=&#34;/example/random-numbers/&#34;&gt;random numbers example&lt;/a&gt; to generate a &lt;em&gt;distribution&lt;/em&gt; of an effect. For instance, let&amp;rsquo;s say that the average cookie effect is 0.25, but it can vary somewhat with a standard deviation of 0.15:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;temp_data &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;tibble&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rnorm&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;10000&lt;/span&gt;, mean &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.25&lt;/span&gt;, sd &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.15&lt;/span&gt;))

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(temp_data, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; x)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_histogram&lt;/span&gt;(binwidth &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.05&lt;/span&gt;, boundary &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;white&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/01-datos_files/figure-html/random-cookie-effect-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Sometimes it can go as low as −0.25; sometimes it can go as high as 0.75; normally it&amp;rsquo;s around 0.25.&lt;/p&gt;
&lt;p&gt;Nothing in the model explains why it&amp;rsquo;s higher or lower for some people—it&amp;rsquo;s just random noise. Remember that the model accounts for that! This random variation is what the &lt;code&gt;\(\varepsilon\)&lt;/code&gt; is for in this model equation:&lt;/p&gt;
&lt;p&gt;$$
\text{Happiness} = \beta_0 + \beta_1 \text{Cookies eaten} + \beta_2 \text{Favorite color is blue} + \varepsilon
$$&lt;/p&gt;
&lt;p&gt;We can build that uncertainty into the fake column! Instead of using &lt;code&gt;0.31 * cookies&lt;/code&gt; when generating &lt;code&gt;happiness&lt;/code&gt; (which is technically 0.25, but shifted up to account for rescaling happiness back down after), we&amp;rsquo;ll make a column for the cookie effect and then multiply &lt;em&gt;that&lt;/em&gt; by the number of cookies.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;set.seed&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1234&lt;/span&gt;)

n_people &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1000&lt;/span&gt;
happiness_cookies_noisier &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;tibble&lt;/span&gt;(
  id &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;n_people,
  happiness_baseline &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rbeta&lt;/span&gt;(n_people, shape1 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;, shape2 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;),
  cookies &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rpois&lt;/span&gt;(n_people, lambda &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;),
  cookie_effect &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rnorm&lt;/span&gt;(n_people, mean &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.31&lt;/span&gt;, sd &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.2&lt;/span&gt;),
  color_blue &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;sample&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Blue&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Not blue&amp;#34;&lt;/span&gt;), n_people, replace &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;)
) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Adjust some of the columns&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(happiness_baseline &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;round&lt;/span&gt;(happiness_baseline &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;),
         cookies &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; cookies &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,
         color_blue &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;fct_relevel&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;factor&lt;/span&gt;(color_blue), &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Not blue&amp;#34;&lt;/span&gt;)) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Turn the categorical favorite color column into TRUE/FALSE so we can do math with it&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(color_blue_binary &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ifelse&lt;/span&gt;(color_blue &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Blue&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;)) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Make blue have an effect on cookie consumption&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(cookies &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; cookies &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; (&lt;span style=&#34;color:#ae81ff&#34;&gt;0.5&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; color_blue_binary)) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Make a new happiness column that uses coefficients for cookies and favorite&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# color. Importantly, instead of using 0.31 * cookies, we&amp;#39;ll use the random&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# cookie effect we generated earlier&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(happiness_effect &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; happiness_baseline &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
           (cookie_effect &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; cookies) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
           (&lt;span style=&#34;color:#ae81ff&#34;&gt;0.91&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; color_blue_binary)) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Rescale to 3-10, since that&amp;#39;s what the original happiness column looked like&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(happiness &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rescale&lt;/span&gt;(happiness_effect, to &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;)))
&lt;span style=&#34;color:#a6e22e&#34;&gt;head&lt;/span&gt;(happiness_cookies_noisier)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 6 x 8&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##      id happiness_baseline cookies cookie_effect color_blue color_blue_binary happiness_effect happiness&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;int&amp;gt;              &amp;lt;dbl&amp;gt;   &amp;lt;dbl&amp;gt;         &amp;lt;dbl&amp;gt; &amp;lt;fct&amp;gt;      &amp;lt;lgl&amp;gt;                        &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1     1                8.7     2.5        0.124  Blue       TRUE                          9.92      8.16&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2     2                6.5     2.5        0.370  Blue       TRUE                          8.34      7.02&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3     3                4.8     2.5        0.326  Blue       TRUE                          6.53      5.72&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 4     4                9.6     3.5        0.559  Blue       TRUE                         12.5       9.98&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 5     5                6.2     1.5        0.0631 Blue       TRUE                          7.20      6.21&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 6     6                6.1     2          0.222  Not blue   FALSE                         6.54      5.73&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Now let&amp;rsquo;s look at the cookie effect in this noisier data:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;model_noisier &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(happiness &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; cookies &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; color_blue, data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; happiness_cookies_noisier)
&lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;(model_noisier)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 3 x 5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   term           estimate std.error statistic  p.value&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;             &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 (Intercept)       6.11     0.0779     78.4  0.      &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 cookies           0.213    0.0314      6.79 1.92e-11&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3 color_blueBlue    0.650    0.0671      9.68 3.01e-21&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The effect is a little smaller now because of the extra noise, so we&amp;rsquo;d need to mess with the 0.31 and 0.91 coefficients more to get those numbers back up to 0.25 and 0.75.&lt;/p&gt;
&lt;p&gt;While this didn&amp;rsquo;t influence the findings too much here, it can have consequences for other variables. For instance, in the previous section we said that the color blue influences cookie consumption. If the blue effect on cookies isn&amp;rsquo;t precisely 0.5 but follows some sort of distribution (sometimes small, sometimes big, sometimes negative, sometimes zero), that will influence cookies differently. That random effect on cookie consumption will then work together with the random effect of cookies on happiness, resulting in multiple varied values.&lt;/p&gt;
&lt;p&gt;For instance, imagine the average effect of liking blue on cookies is 0.5, and the average effect of cookies on happiness is 0.25. For one person, their blue-on-cookie effect might be 0.392, which changes the number of cookies they eat. Their cookie-on-happiness effect is 0.573, which changes their happiness. Both of those random effects work together to generate the final happiness.&lt;/p&gt;
&lt;p&gt;If you want more realistic-looking synthetic data, it&amp;rsquo;s a good idea to add some random noise wherever you can.&lt;/p&gt;
&lt;h2 id=&#34;visualizing-variables-and-relationships&#34;&gt;Visualizing variables and relationships&lt;/h2&gt;
&lt;p&gt;Going through this process requires &lt;em&gt;a ton&lt;/em&gt; of trial and error. You will change all sorts of numbers to make sure the relationships you&amp;rsquo;re building work. This is especially the case if you rescale things, since that rescales your effects. There are a lot of moving parts and this is a complicated process.&lt;/p&gt;
&lt;p&gt;You&amp;rsquo;ll run your data generation chunks lots and lots and lots of times, tinkering with the numbers as you go. This example makes it look easy, since it&amp;rsquo;s the final product, but I ran all these chunks over and over again until I got the causal effect and relationships just right.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s best if you also create plots and models to see what the relationships look like&lt;/p&gt;
&lt;h3 id=&#34;visualizing-one-variable&#34;&gt;Visualizing one variable&lt;/h3&gt;
&lt;p&gt;We covered a bunch of distributions in the &lt;a href=&#34;/example/random-numbers/&#34;&gt;random number generation&lt;/a&gt; example, but it&amp;rsquo;s hard to think about what a standard deviation of 2 vs 10 looks like, or what happens when you mess with the shape parameters in a Beta distribution.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s best to visualize these variables. You could build the variable into your official dataset and then look at it, but I find it&amp;rsquo;s often faster to just look at what a general distribution looks like first. The easiest way to do this is generate a dataset with just one column in it and look at it, either with a histogram or a density plot.&lt;/p&gt;
&lt;p&gt;For instance, what does a Beta distribution with &lt;code&gt;shape1 = 3&lt;/code&gt; and &lt;code&gt;shape2 = 16&lt;/code&gt; look like? The math says it should peak around 0.15ish ($\frac{3}{3 + 16}$), and that looks like the case:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;temp_data &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;tibble&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rbeta&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;10000&lt;/span&gt;, shape1 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, shape2 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt;))

plot1 &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(temp_data, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; x)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_histogram&lt;/span&gt;(binwidth &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.05&lt;/span&gt;, boundary &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;white&amp;#34;&lt;/span&gt;)

plot2 &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(temp_data, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; x)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_density&lt;/span&gt;()

plot1 &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; plot2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/01-datos_files/figure-html/vis-beta-example-1.png&#34; width=&#34;65%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;What if we want a normal distribution centered around 100, with most values range from 50 to 150. That&amp;rsquo;s range of ±50, but that doesn&amp;rsquo;t mean the &lt;code&gt;sd&lt;/code&gt; will be 50—it&amp;rsquo;ll be much smaller than that, like 25ish. Tinker with the numbers until it looks right.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;temp_data &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;tibble&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rnorm&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;10000&lt;/span&gt;, mean &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;100&lt;/span&gt;, sd &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;25&lt;/span&gt;))

plot1 &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(temp_data, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; x)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_histogram&lt;/span&gt;(binwidth &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;, boundary &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;white&amp;#34;&lt;/span&gt;)

plot2 &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(temp_data, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; x)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_density&lt;/span&gt;()

plot1 &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; plot2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/01-datos_files/figure-html/vis-normal-example-1.png&#34; width=&#34;65%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;visualizing-two-continuous-variables&#34;&gt;Visualizing two continuous variables&lt;/h3&gt;
&lt;p&gt;If you have two continuous/numeric columns, it&amp;rsquo;s best to use a scatterplot. For instance, let&amp;rsquo;s make two columns based on the Beta and normal distributions above, and we&amp;rsquo;ll make it so that y goes up by 0.25 for every increase in x, along with some noise:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;set.seed&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1234&lt;/span&gt;)

temp_data &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;tibble&lt;/span&gt;(
  x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rnorm&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1000&lt;/span&gt;, mean &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;100&lt;/span&gt;, sd &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;25&lt;/span&gt;)
) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rbeta&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1000&lt;/span&gt;, shape1 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, shape2 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Baseline distribution&lt;/span&gt;
           (&lt;span style=&#34;color:#ae81ff&#34;&gt;0.25&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; x) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Effect of x&lt;/span&gt;
           &lt;span style=&#34;color:#a6e22e&#34;&gt;rnorm&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1000&lt;/span&gt;, mean &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, sd &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;))  &lt;span style=&#34;color:#75715e&#34;&gt;# Add some noise&lt;/span&gt;

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(temp_data, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; x, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; y)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_point&lt;/span&gt;() &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_smooth&lt;/span&gt;(method &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;lm&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/01-datos_files/figure-html/vis-two-continuous-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We can confirm the effect with a model:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(y &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; x, data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; temp_data) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;()
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 2 x 5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   term        estimate std.error statistic  p.value&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 (Intercept)    1.98     1.28        1.54 1.24e- 1&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 x              0.235    0.0125     18.8  1.49e-67&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;visualizing-a-binary-variable-and-a-continuous-variable&#34;&gt;Visualizing a binary variable and a continuous variable&lt;/h3&gt;
&lt;p&gt;If you have one binary column and one continuous/numeric column, it&amp;rsquo;s generally best to &lt;em&gt;not&lt;/em&gt; use a scatterplot. Instead, either look at the distribution of the continuous variable across the binary variable with a faceted histogram or overlaid density plot, or look at the average of the continuous variable across the different values of the binary variable with a point range.&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s make two columns: a continuous outcome (y) and a binary treatment (x). Being in the treatment group causes an increase of 20 points, on average.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;set.seed&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1234&lt;/span&gt;)

temp_data &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;tibble&lt;/span&gt;(
  treatment &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rbinom&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1000&lt;/span&gt;, size &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, prob &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.5&lt;/span&gt;)  &lt;span style=&#34;color:#75715e&#34;&gt;# Make 1000 0/1 values with 50% chance of each&lt;/span&gt;
) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rbeta&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1000&lt;/span&gt;, shape1 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, shape2 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Baseline distribution&lt;/span&gt;
           (&lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; treatment) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Effect of treatment&lt;/span&gt;
           &lt;span style=&#34;color:#a6e22e&#34;&gt;rnorm&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1000&lt;/span&gt;, mean &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, sd &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;)) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;   &lt;span style=&#34;color:#75715e&#34;&gt;# Add some noise&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(treatment &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;factor&lt;/span&gt;(treatment))  &lt;span style=&#34;color:#75715e&#34;&gt;# Make treatment a factor/categorical variable&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We can check the numbers with a model:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(outcome &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; treatment, data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; temp_data) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;()
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 2 x 5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   term        estimate std.error statistic  p.value&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 (Intercept)    0.244     0.935     0.261 7.94e- 1&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 treatment1    20.9       1.30     16.1   4.70e-52&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Here&amp;rsquo;s what that looks like as a histogram:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(temp_data, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; outcome, fill &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; treatment)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_histogram&lt;/span&gt;(binwidth &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;white&amp;#34;&lt;/span&gt;, boundary &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;guides&lt;/span&gt;(fill &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Turn off the fill legend since it&amp;#39;s redundant&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;facet_wrap&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;vars&lt;/span&gt;(treatment), ncol &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/01-datos_files/figure-html/vis-histogram-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;And as overlapping densities:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(temp_data, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; outcome, fill &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; treatment)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_density&lt;/span&gt;(alpha &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.5&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/01-datos_files/figure-html/vis-density-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;And with a point range:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# hahaha these error bars are tiny&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(temp_data, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; treatment, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; outcome, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; treatment)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;stat_summary&lt;/span&gt;(geom &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;pointrange&amp;#34;&lt;/span&gt;, fun.data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;mean_se&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;guides&lt;/span&gt;(color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;)  &lt;span style=&#34;color:#75715e&#34;&gt;# Turn off the color legend since it&amp;#39;s redundant&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/01-datos_files/figure-html/vis-pointrange-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;specific-examples&#34;&gt;Specific examples&lt;/h2&gt;
&lt;h3 id=&#34;tldr-the-general-process&#34;&gt;tl;dr: The general process&lt;/h3&gt;
&lt;p&gt;Those previous sections go into a lot of detail. In general, here&amp;rsquo;s the process you should follow when building relationships in synthetic data:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Draw a DAG that maps out how all the columns you care about are related.&lt;/li&gt;
&lt;li&gt;Specify how those nodes are measured.&lt;/li&gt;
&lt;li&gt;Specify the relationships between the nodes based on the DAG equations.&lt;/li&gt;
&lt;li&gt;Generate random columns that stand alone. Generate related columns using regression math. Consider adding random noise. This is an entirely trial and error process until you get numbers that look good. Rely &lt;em&gt;heavily&lt;/em&gt; on plots as you try different coefficients and parameters. Optionally rescale any columns that go out of reasonable bounds. If you rescale, you&amp;rsquo;ll need to tinker with the coefficients you used since the final effects will also get rescaled.&lt;/li&gt;
&lt;li&gt;Verify all relationships with plots and models.&lt;/li&gt;
&lt;li&gt;Try it out!&lt;/li&gt;
&lt;li&gt;Save the data.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;creating-an-effect-in-an-observational-dag&#34;&gt;Creating an effect in an observational DAG&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Draw a DAG that maps out how all the columns you care about are related.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s a simple DAG that shows the causal effect of mosquito net usage on malaria risk. Income and health both influence and confound net use and malaria risk, and income also influences health.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;mosquito_dag &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(mal &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; net &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; inc &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; hlth,
                       net &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; inc &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; hlth,
                       hlth &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; inc,
                       coords &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(mal &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, inc &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, hlth &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;),
                                     y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(mal &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, inc &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, hlth &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;)))
&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag&lt;/span&gt;(mosquito_dag) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/01-datos_files/figure-html/observational-dag-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Specify how those nodes are measured.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;For the sake of this example, we&amp;rsquo;ll measure these nodes like so. See &lt;a href=&#34;/example/random-numbers&#34;&gt;the random number example&lt;/a&gt; for more details about the distributions.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Malaria risk&lt;/strong&gt;: scale from 0–100, mostly around 40, but ranging from 10ish to 80ish. Best to use a Beta distribution.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Net use&lt;/strong&gt;: binary 0/1, TRUE/FALSE variable, where 50% of people use nets. Best to use a binomial distribution. However, since we want to use other variables that increase the likelihood of using a net, we&amp;rsquo;ll do some cool tricky stuff, explained later.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Income&lt;/strong&gt;: weekly income, measured in dollars, mostly around 500 ± 300. Best to use a normal distribution.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Health&lt;/strong&gt;: scale from 0–100, mostly around 70, but ranging from 50ish to 100. Best to use a Beta distribution.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Specify the relationships between the nodes based on the DAG equations.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;There are three models in this DAG:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;hlth ~ inc&lt;/code&gt;&lt;/strong&gt;: Income influences health. We&amp;rsquo;ll assume that every 10 dollars/week is associated with a 1 point increase in health (so a 1 dollar incrrease is associated with a 0.02 point increase in health)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;net ~ inc + hlth&lt;/code&gt;&lt;/strong&gt;: Income and health both increase the probability of net usage. This is where we do some cool tricky stuff.&lt;/p&gt;
&lt;p&gt;Both income and health have an effect on the probability of bed net use, but bed net use is measured as a 0/1, TRUE/FALSE variable. If we run a regression with &lt;code&gt;net&lt;/code&gt; as the outcome, we can&amp;rsquo;t really interpret the coefficients like &amp;ldquo;a 1 point increase in health is associated with a 0.42 point increase in bed net being TRUE.&amp;rdquo; That doesn&amp;rsquo;t even make sense.&lt;/p&gt;
&lt;p&gt;Ordinarily, when working with binary outcome variables, you use logistic regression models (see &lt;a href=&#34;/example/matching-ipw/#oversimplified-crash-course-in-logistic-regression&#34;&gt;the crash course we had when talking about propensity scores here&lt;/a&gt;). In this kind of regression, the coefficients in the model represent changes in the &lt;em&gt;log odds&lt;/em&gt; of using a net. As we discuss in &lt;a href=&#34;/example/matching-ipw/#oversimplified-crash-course-in-logistic-regression&#34;&gt;the crash course section&lt;/a&gt;, log odds are typically impossible to interpet. If you exponentiate them, you get odds ratios, which let you say things like &amp;ldquo;a 1 point increase in health is associated with a 15% increase in the likelihood of using a net.&amp;rdquo; Technically we could include coefficients for a logistic regression model and simulate probabilities of using a net or not using log odds and odds ratios (and that&amp;rsquo;s what I do in the rain barrel data from Problem Set 3 (&lt;a href=&#34;https://github.com/andrewheiss/evalf20.classes.andrewheiss.com/blob/master/content/assignment/03-problem-set.Rmd#L225&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;see code here&lt;/a&gt;)), but that&amp;rsquo;s really hard to wrap your head around since you&amp;rsquo;re dealing with strange uninterpretable coefficients. So we won&amp;rsquo;t do that here.&lt;/p&gt;
&lt;p&gt;Instead, we&amp;rsquo;ll do some fun trickery. We&amp;rsquo;ll create something called a &amp;ldquo;bed net score&amp;rdquo; that gets bigger as income and health increase. We&amp;rsquo;ll say that a 1 point increase in health score is associated with a 1.5 point increase in bed net score, and a 1 dollar increase in income is associated with a 0.5 point increase in bed net score. This results in a column that ranges all over the place, from 200 to 500 (in this case; that won&amp;rsquo;t always be true). This column definitely doesn&amp;rsquo;t look like a TRUE/FALSE binary column—it&amp;rsquo;s just a bunch of numbers. That&amp;rsquo;s okay!&lt;/p&gt;
&lt;p&gt;We&amp;rsquo;ll then use the &lt;code&gt;rescale()&lt;/code&gt; function from the &lt;strong&gt;scales&lt;/strong&gt; package to take this bed net score and scale it down so that it goes from 0.05 to 0.95. This represents a person&amp;rsquo;s probability of using a bed net.&lt;/p&gt;
&lt;p&gt;Finally, we&amp;rsquo;ll use that probability in the &lt;code&gt;rbinom()&lt;/code&gt; function to generate a 0 or 1 for each person. Some people will have a high probability because of their income and health, like 0.9, and will most likely use a net. Some people might have a 0.15 probability and will likely not use a net.&lt;/p&gt;
&lt;p&gt;When you generate binary variables like this, it&amp;rsquo;s hard to know the exact effect you&amp;rsquo;ll get, so it&amp;rsquo;s best to tinker with the numbers until you see relationships that you want.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;mal ~ net + inc + hlth&lt;/code&gt;&lt;/strong&gt;: Finally net use, income, and health all have an effect on the risk of malaria. Building this relationship is easy since it&amp;rsquo;s just a regular linear regression model (since malaria risk is not binary). We&amp;rsquo;ll say that a 1 dollar increase in income is associated with a &lt;em&gt;decrease&lt;/em&gt; in risk, a 1 point increase in health is associated with a &lt;em&gt;decrease&lt;/em&gt; in risk, and using a net is associated with a 15 point &lt;em&gt;decrease&lt;/em&gt; in risk. That&amp;rsquo;s the casual effect we&amp;rsquo;re building in to the DAG.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Generate random columns that stand alone. Generate related columns using regression math. Consider adding random noise. This is an entirely trial and error process until you get numbers that look good. Rely &lt;em&gt;heavily&lt;/em&gt; on plots as you try different coefficients and parameters. Optionally rescale any columns that go out of reasonable bounds. If you rescale, you&amp;rsquo;ll need to tinker with the coefficients you used since the final effects will also get rescaled.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Here we go! Let&amp;rsquo;s make some data. I&amp;rsquo;ll comment the code below so you can see what&amp;rsquo;s happening at each step.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Make this randomness consistent&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;set.seed&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1234&lt;/span&gt;)
   
&lt;span style=&#34;color:#75715e&#34;&gt;# Simulate 1138 people (just for fun)&lt;/span&gt;
n_people &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1138&lt;/span&gt;
   
net_data &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;tibble&lt;/span&gt;(
  &lt;span style=&#34;color:#75715e&#34;&gt;# Make an ID column (not necessary, but nice to have)&lt;/span&gt;
  id &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;n_people,
  &lt;span style=&#34;color:#75715e&#34;&gt;# Generate income variable: normal, 500 ± 300&lt;/span&gt;
  income &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rnorm&lt;/span&gt;(n_people, mean &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;500&lt;/span&gt;, sd &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;75&lt;/span&gt;)
) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Generate health variable: beta, centered around 70ish&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(health_base &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rbeta&lt;/span&gt;(n_people, shape1 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;, shape2 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;100&lt;/span&gt;,
         &lt;span style=&#34;color:#75715e&#34;&gt;# Health increases by 0.02 for every dollar in income&lt;/span&gt;
         health_income_effect &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.02&lt;/span&gt;,
         &lt;span style=&#34;color:#75715e&#34;&gt;# Make the final health score and add some noise&lt;/span&gt;
         health &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; health_base &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; health_income_effect &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rnorm&lt;/span&gt;(n_people, mean &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, sd &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;),
         &lt;span style=&#34;color:#75715e&#34;&gt;# Rescale so it doesn&amp;#39;t go above 100&lt;/span&gt;
         health &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rescale&lt;/span&gt;(health, to &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;min&lt;/span&gt;(health), &lt;span style=&#34;color:#ae81ff&#34;&gt;100&lt;/span&gt;))) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Generate net variable based on income, health, and random noise&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(net_score &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#ae81ff&#34;&gt;0.5&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; income) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; (&lt;span style=&#34;color:#ae81ff&#34;&gt;1.5&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; health) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rnorm&lt;/span&gt;(n_people, mean &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, sd &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;15&lt;/span&gt;),
         &lt;span style=&#34;color:#75715e&#34;&gt;# Scale net score down to 0.05 to 0.95 to create a probability of using a net&lt;/span&gt;
         net_probability &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rescale&lt;/span&gt;(net_score, to &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;0.05&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0.95&lt;/span&gt;)),
         &lt;span style=&#34;color:#75715e&#34;&gt;# Randomly generate a 0/1 variable using that probability&lt;/span&gt;
         net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rbinom&lt;/span&gt;(n_people, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, net_probability)) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Finally generate a malaria risk variable based on income, health, net use,&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# and random noise&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(malaria_risk_base &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rbeta&lt;/span&gt;(n_people, shape1 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;, shape2 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;100&lt;/span&gt;,
         &lt;span style=&#34;color:#75715e&#34;&gt;# Risk goes down by 10 when using a net. Because we rescale things,&lt;/span&gt;
         &lt;span style=&#34;color:#75715e&#34;&gt;# though, we have to make the effect a lot bigger here so it scales&lt;/span&gt;
         &lt;span style=&#34;color:#75715e&#34;&gt;# down to -10. Risk also decreases as health and income go up. I played&lt;/span&gt;
         &lt;span style=&#34;color:#75715e&#34;&gt;# with these numbers until they created reasonable coefficients.&lt;/span&gt;
         malaria_effect &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#ae81ff&#34;&gt;-30&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; net) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; (&lt;span style=&#34;color:#ae81ff&#34;&gt;-1.9&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; health) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; (&lt;span style=&#34;color:#ae81ff&#34;&gt;-0.1&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; income),
         &lt;span style=&#34;color:#75715e&#34;&gt;# Make the final malaria risk score and add some noise&lt;/span&gt;
         malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; malaria_risk_base &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; malaria_effect &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rnorm&lt;/span&gt;(n_people, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, sd &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;),
         &lt;span style=&#34;color:#75715e&#34;&gt;# Rescale so it doesn&amp;#39;t go below 0,&lt;/span&gt;
         malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rescale&lt;/span&gt;(malaria_risk, to &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;70&lt;/span&gt;)))
   
&lt;span style=&#34;color:#75715e&#34;&gt;# Look at all these columns!&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;head&lt;/span&gt;(net_data)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 6 x 11&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##      id income health_base health_income_effect health net_score net_probability   net malaria_risk_base malaria_effect malaria_risk&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;int&amp;gt;  &amp;lt;dbl&amp;gt;       &amp;lt;dbl&amp;gt;                &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;           &amp;lt;dbl&amp;gt; &amp;lt;int&amp;gt;             &amp;lt;dbl&amp;gt;          &amp;lt;dbl&amp;gt;        &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1     1   409.        61.2                 8.19   63.1      301.           0.369     0              37.9          -161.         45.1&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2     2   521.        83.9                10.4    83.5      409.           0.684     1              55.0          -241.         23.4&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3     3   581.        64.6                11.6    73.0      426.           0.735     0              53.0          -197.         36.5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 4     4   324.        62.0                 6.48   60.6      255.           0.235     0              68.4          -148.         58.7&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 5     5   532.        69.2                10.6    73.4      373.           0.578     1              63.2          -223.         32.7&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 6     6   538.        36.6                10.8    42.6      295.           0.351     0              38.6          -135.         52.5&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Verify all relationships with plots and models.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s see if we have the relationships we want. Income looks like it&amp;rsquo;s associated with health:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(net_data, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; income, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; health)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_point&lt;/span&gt;() &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_smooth&lt;/span&gt;(method &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;lm&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/01-datos_files/figure-html/check-income-health-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;   
&lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(health &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; income, data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; net_data) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;()
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 2 x 5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   term        estimate std.error statistic  p.value&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 (Intercept)  59.1      2.54        23.3  2.24e-98&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 income        0.0169   0.00504      3.36 8.15e- 4&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;It looks like richer and healthier people are more likely to use nets:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;net_income &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(net_data, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; income, fill &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;as.factor&lt;/span&gt;(net))) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_density&lt;/span&gt;(alpha &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.7&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme&lt;/span&gt;(legend.position &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;bottom&amp;#34;&lt;/span&gt;)
   
net_health &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(net_data, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; health, fill &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;as.factor&lt;/span&gt;(net))) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_density&lt;/span&gt;(alpha &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.7&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme&lt;/span&gt;(legend.position &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;bottom&amp;#34;&lt;/span&gt;)
   
net_income &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; net_health
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/01-datos_files/figure-html/check-income-health-nets-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Income increasing makes it 1% more likely to use a net; health increasing make it 2% more likely to use a net:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;glm&lt;/span&gt;(net &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; health, family &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;binomial&lt;/span&gt;(link &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;logit&amp;#34;&lt;/span&gt;), data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; net_data) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;(exponentiate &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 3 x 5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   term        estimate std.error statistic  p.value&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 (Intercept)   0.0186  0.532        -7.49 6.64e-14&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 income        1.01    0.000864      6.47 9.93e-11&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3 health        1.02    0.00491       3.89 9.92e- 5&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Try it out!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Is the effect in there? Let&amp;rsquo;s try finding it by controlling for our two backdoors: health and income. Ordinarily we should do something like &lt;a href=&#34;/example/matching-ipw/&#34;&gt;matching or inverse probability weighting&lt;/a&gt;, but we&amp;rsquo;ll just do regular regression here (which is okay-ish, since all these variables are indeed linearly related with each other—we made them that way!)&lt;/p&gt;
&lt;p&gt;If we just look at the effect of nets on malaria risk without any statistical adjustment, we see that net cause a decrease of 13 points in malaria risk. This is wrong though becuase there&amp;rsquo;s confounding.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Wrong correlation-is-not-causation effect&lt;/span&gt;
model_net_naive &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; net, data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; net_data)
&lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;(model_net_naive)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 2 x 5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   term        estimate std.error statistic   p.value&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 (Intercept)     41.9     0.413     102.  0.       &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 net            -13.6     0.572     -23.7 2.90e-101&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;If we control for the confounders, we get the 10 point ATE. It works!&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Correctly adjusted ATE effect&lt;/span&gt;
model_net_ate &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; net &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; health &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; income, data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; net_data)
&lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;(model_net_ate)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 4 x 5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   term        estimate std.error statistic   p.value&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 (Intercept)  97.3      1.28         76.1 0.       &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 net         -10.5      0.317       -33.2 1.32e-169&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3 health       -0.608    0.0123      -49.4 1.25e-284&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 4 income       -0.0320   0.00213     -15.0 1.20e- 46&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Save the data.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Since it works, let&amp;rsquo;s save it:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# In the end, all we need is id, income, health, net, and malaria risk:&lt;/span&gt;
net_data_final &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; net_data &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;select&lt;/span&gt;(id, income, health, net, malaria_risk)
&lt;span style=&#34;color:#a6e22e&#34;&gt;head&lt;/span&gt;(net_data_final)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 6 x 5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##      id income health   net malaria_risk&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;int&amp;gt;  &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt; &amp;lt;int&amp;gt;        &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1     1   409.   63.1     0         45.1&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2     2   521.   83.5     1         23.4&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3     3   581.   73.0     0         36.5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 4     4   324.   60.6     0         58.7&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 5     5   532.   73.4     1         32.7&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 6     6   538.   42.6     0         52.5&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Save it as a CSV file&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;write_csv&lt;/span&gt;(net_data_final, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;data/bed_nets.csv&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;brief-pep-talk-intermission&#34;&gt;Brief pep talk intermission&lt;/h3&gt;
&lt;p&gt;Generating data for a full complete observational DAG like the example above is complicated and hard. These other forms of causal inference are &lt;em&gt;design-based&lt;/em&gt; (i.e. tied to specific contexts like before/after treatment/control or arbitrary cutoffs) instead of &lt;em&gt;model-based&lt;/em&gt;, so they&amp;rsquo;re actually a lot easier to simulate! So don&amp;rsquo;t be scared away yet!&lt;/p&gt;
&lt;h3 id=&#34;creating-an-effect-for-rcts&#34;&gt;Creating an effect for RCTs&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Draw a DAG that maps out how all the columns you care about are related.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;RCTs are great because they make DAGs really easy! In a well-randomized RCT, you get to delete all arrows going into the treatment node in a DAG. We&amp;rsquo;ll stick with the same mosquito net situation we just used, but make it randomized:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;rct_dag &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(mal &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; net &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; inc &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; hlth,
                  hlth &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; inc,
                  coords &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(mal &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, inc &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, hlth &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;),
                                y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(mal &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, inc &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, hlth &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;)))
&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag&lt;/span&gt;(rct_dag) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/01-datos_files/figure-html/rct-dag-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Specify how those nodes are measured.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;We&amp;rsquo;ll measure these nodes the same way as before:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Malaria risk&lt;/strong&gt;: scale from 0–100, mostly around 40, but ranging from 10ish to 80ish. Best to use a Beta distribution.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Net use&lt;/strong&gt;: binary 0/1, TRUE/FALSE variable, where 50% of people use nets. Best to use a binomial distribution.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Income&lt;/strong&gt;: weekly income, measured in dollars, mostly around 500 ± 300. Best to use a normal distribution.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Health&lt;/strong&gt;: scale from 0–100, mostly around 70, but ranging from 50ish to 100. Best to use a Beta distribution.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Specify the relationships between the nodes based on the DAG equations.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;This is where RCTs are great. Because we removed all the arrows going into &lt;code&gt;net&lt;/code&gt;, we don&amp;rsquo;t need to build any relationships that influence net use. Net use is randomized! We don&amp;rsquo;t need to make strange &amp;ldquo;bed net scores&amp;rdquo; and give people boosts according to income or health or anything. There are only two models in this DAG:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;hlth ~ inc&lt;/code&gt;&lt;/strong&gt;: Income influences health. We&amp;rsquo;ll assume that every 10 dollars/week is associated with a 1 point increase in health (so a 1 dollar incrrease is associated with a 0.02 point increase in health)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;mal ~ net + inc + hlth&lt;/code&gt;&lt;/strong&gt;: Net use, income, and health all have an effect on the risk of malaria. We&amp;rsquo;ll say that a 1 dollar increase in income is associated with a &lt;em&gt;decrease&lt;/em&gt; in risk, a 1 point increase in health is associated with a &lt;em&gt;decrease&lt;/em&gt; in risk, and using a net is associated with a 15 point &lt;em&gt;decrease&lt;/em&gt; in risk. That&amp;rsquo;s the casual effect we&amp;rsquo;re building in to the DAG.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Generate random columns that stand alone. Generate related columns using regression math. Consider adding random noise. This is an entirely trial and error process until you get numbers that look good. Rely &lt;em&gt;heavily&lt;/em&gt; on plots as you try different coefficients and parameters. Optionally rescale any columns that go out of reasonable bounds. If you rescale, you&amp;rsquo;ll need to tinker with the coefficients you used since the final effects will also get rescaled.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s make this data. It&amp;rsquo;ll be a lot easier than the full DAG we did before. Again, I&amp;rsquo;ll comment the code below so you can see what&amp;rsquo;s happening at each step.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Make this randomness consistent&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;set.seed&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1234&lt;/span&gt;)
   
&lt;span style=&#34;color:#75715e&#34;&gt;# Simulate 793 people (just for fun)&lt;/span&gt;
n_people &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;793&lt;/span&gt;
   
rct_data &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;tibble&lt;/span&gt;(
  &lt;span style=&#34;color:#75715e&#34;&gt;# Make an ID column (not necessary, but nice to have)&lt;/span&gt;
  id &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;n_people,
  &lt;span style=&#34;color:#75715e&#34;&gt;# Generate income variable: normal, 500 ± 300&lt;/span&gt;
  income &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rnorm&lt;/span&gt;(n_people, mean &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;500&lt;/span&gt;, sd &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;75&lt;/span&gt;)
) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Generate health variable: beta, centered around 70ish&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(health_base &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rbeta&lt;/span&gt;(n_people, shape1 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;, shape2 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;100&lt;/span&gt;,
         &lt;span style=&#34;color:#75715e&#34;&gt;# Health increases by 0.02 for every dollar in income&lt;/span&gt;
         health_income_effect &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.02&lt;/span&gt;,
         &lt;span style=&#34;color:#75715e&#34;&gt;# Make the final health score and add some noise&lt;/span&gt;
         health &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; health_base &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; health_income_effect &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rnorm&lt;/span&gt;(n_people, mean &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, sd &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;),
         &lt;span style=&#34;color:#75715e&#34;&gt;# Rescale so it doesn&amp;#39;t go above 100&lt;/span&gt;
         health &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rescale&lt;/span&gt;(health, to &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;min&lt;/span&gt;(health), &lt;span style=&#34;color:#ae81ff&#34;&gt;100&lt;/span&gt;))) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Randomly assign people to use a net (this is nice and easy!)&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rbinom&lt;/span&gt;(n_people, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0.5&lt;/span&gt;)) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Finally generate a malaria risk variable based on income, health, net use,&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# and random noise&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(malaria_risk_base &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rbeta&lt;/span&gt;(n_people, shape1 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;, shape2 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;100&lt;/span&gt;,
         &lt;span style=&#34;color:#75715e&#34;&gt;# Risk goes down by 10 when using a net. Because we rescale things,&lt;/span&gt;
         &lt;span style=&#34;color:#75715e&#34;&gt;# though, we have to make the effect a lot bigger here so it scales&lt;/span&gt;
         &lt;span style=&#34;color:#75715e&#34;&gt;# down to -10. Risk also decreases as health and income go up. I played&lt;/span&gt;
         &lt;span style=&#34;color:#75715e&#34;&gt;# with these numbers until they created reasonable coefficients.&lt;/span&gt;
         malaria_effect &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#ae81ff&#34;&gt;-35&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; net) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; (&lt;span style=&#34;color:#ae81ff&#34;&gt;-1.9&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; health) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; (&lt;span style=&#34;color:#ae81ff&#34;&gt;-0.1&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; income),
         &lt;span style=&#34;color:#75715e&#34;&gt;# Make the final malaria risk score and add some noise&lt;/span&gt;
         malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; malaria_risk_base &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; malaria_effect &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rnorm&lt;/span&gt;(n_people, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, sd &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;),
         &lt;span style=&#34;color:#75715e&#34;&gt;# Rescale so it doesn&amp;#39;t go below 0,&lt;/span&gt;
         malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rescale&lt;/span&gt;(malaria_risk, to &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;70&lt;/span&gt;)))
   
&lt;span style=&#34;color:#75715e&#34;&gt;# Look at all these columns!&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;head&lt;/span&gt;(rct_data)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 6 x 9&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##      id income health_base health_income_effect health   net malaria_risk_base malaria_effect malaria_risk&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;int&amp;gt;  &amp;lt;dbl&amp;gt;       &amp;lt;dbl&amp;gt;                &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt; &amp;lt;int&amp;gt;             &amp;lt;dbl&amp;gt;          &amp;lt;dbl&amp;gt;        &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1     1   409.        57.2                 8.19   61.3     1              37.4          -192.         35.1&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2     2   521.        63.3                10.4    69.4     0              33.0          -184.         37.6&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3     3   581.        61.8                11.6    71.9     1              36.4          -230.         24.4&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 4     4   324.        42.2                 6.48   45.5     1              52.7          -154.         52.8&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 5     5   532.        72.1                10.6    78.5     1              41.9          -237.         23.6&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 6     6   538.        82.0                10.8    89.1     0              46.6          -223.         29.9&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Verify all relationships with plots and models.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Income still looks like it&amp;rsquo;s associated with health (which isn&amp;rsquo;t surprising, since it&amp;rsquo;s the same code we used for the full DAG earlier):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(net_data, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; income, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; health)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_point&lt;/span&gt;() &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_smooth&lt;/span&gt;(method &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;lm&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/01-datos_files/figure-html/check-income-health-rct-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;   
&lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(health &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; income, data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; net_data) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;()
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 2 x 5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   term        estimate std.error statistic  p.value&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 (Intercept)  59.1      2.54        23.3  2.24e-98&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 income        0.0169   0.00504      3.36 8.15e- 4&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Try it out!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Is the effect in there? With an RCT, all we really need to do is compare the outcome across treatment and control groups—because there&amp;rsquo;s no confounding, we don&amp;rsquo;t need to control for anything. Ordinarily we should check for balance across characteristics like health and income (and maybe generate other demographic columns) like &lt;a href=&#34;/example/rcts/&#34;&gt;we did in the RCT example&lt;/a&gt;, but we&amp;rsquo;ll skip all that here since we&amp;rsquo;re just checking to see if the effect is there.&lt;/p&gt;
&lt;p&gt;It looks like using nets &lt;em&gt;causes&lt;/em&gt; an average decrease of 10 risk points. Great!&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Correct RCT-based ATE&lt;/span&gt;
model_rct &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; net, data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; rct_data)
&lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;(model_rct)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 2 x 5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   term        estimate std.error statistic  p.value&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 (Intercept)     40.8     0.463      88.0 0.      &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 net            -10.2     0.653     -15.7 2.22e-48&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Just for fun, if we control for health and income, we&amp;rsquo;ll get basically the same effect, since they don&amp;rsquo;t actualy confound the relationship and don&amp;rsquo;t really explain anything useful.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Controlling for stuff even though we don&amp;#39;t need to&lt;/span&gt;
model_rct_controls &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; net &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; health &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; income, data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; rct_data)
&lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;(model_rct_controls)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 4 x 5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   term        estimate std.error statistic   p.value&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 (Intercept)  97.7      1.45         67.3 0.       &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 net         -10.8      0.344       -31.3 2.27e-140&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3 health       -0.586    0.0140      -41.8 1.67e-202&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 4 income       -0.0310   0.00230     -13.5 1.75e- 37&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Save the data.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The data works, so let&amp;rsquo;s get rid of the intermediate columns we don&amp;rsquo;t need and save it as a CSV file.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# In the end, all we need is id, income, health, net, and malaria risk:&lt;/span&gt;
rct_data_final &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; rct_data &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;select&lt;/span&gt;(id, income, health, net, malaria_risk)
&lt;span style=&#34;color:#a6e22e&#34;&gt;head&lt;/span&gt;(rct_data_final)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 6 x 5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##      id income health   net malaria_risk&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;int&amp;gt;  &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt; &amp;lt;int&amp;gt;        &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1     1   409.   61.3     1         35.1&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2     2   521.   69.4     0         37.6&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3     3   581.   71.9     1         24.4&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 4     4   324.   45.5     1         52.8&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 5     5   532.   78.5     1         23.6&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 6     6   538.   89.1     0         29.9&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Save it as a CSV file&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;write_csv&lt;/span&gt;(rct_data_final, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;data/bed_nets_rct.csv&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;creating-an-effect-for-diff-in-diff&#34;&gt;Creating an effect for diff-in-diff&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Draw a DAG that maps out how all the columns you care about are related.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Difference-in-differences approaches to causal inference are not based on &lt;em&gt;models&lt;/em&gt; but on &lt;em&gt;context&lt;/em&gt; or research design. You need comparable treatment and control groups before and after some policy or program is implemented.&lt;/p&gt;
&lt;p&gt;We&amp;rsquo;ll keep with our mosquito net example and pretend that two cities in some country are dealing with malaria infections. City B rolls out a free net program in 2017; City A does not. Here&amp;rsquo;s what the DAG looks like:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;did_dag &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(mal &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; net &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; year &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; city,
                  net &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; year &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; city,
                  coords &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(mal &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, year &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, city &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;),
                                y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(mal &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, year &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, city &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)))
&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag&lt;/span&gt;(did_dag) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/01-datos_files/figure-html/did-dag-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Specify how those nodes are measured.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s how we&amp;rsquo;ll measure these nodes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Malaria risk&lt;/strong&gt;: scale from 0–100, mostly around 60, but ranging from 30ish to 90ish. Best to use a Beta distribution.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Net use&lt;/strong&gt;: binary 0/1, TRUE/FALSE variable. This is technically binomial, but we don&amp;rsquo;t need to simulate it since it will only happen for people who are in the treatment city after the universal net rollout.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Year&lt;/strong&gt;: year ranging from 2013 to 2020. Best to use a uniform distribution.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;City&lt;/strong&gt;: binary 0/1, City A/City B variable. Best to use a binomial distribution.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Specify the relationships between the nodes based on the DAG equations.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;There are two models in the DAG:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;net ~ year + city&lt;/code&gt;&lt;/strong&gt;: Net use is determined by being in City B &lt;em&gt;and&lt;/em&gt; being after 2017. We&amp;rsquo;ll assume perfect compliance here (but it&amp;rsquo;s fairly easy to simulate non-compliance and have some people in City A use nets after 2017, and some people in both cities use nets before 2017).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;mal ~ net + year + city&lt;/code&gt;&lt;/strong&gt;: Malaria risk is determined by net use, year, and city. It&amp;rsquo;s determined by lots of other things too (like we saw in the previous DAGs), but since we&amp;rsquo;re assuming that the two cities are comparable treatment and control groups, we don&amp;rsquo;t need to worry about things like health, income, age, etc.&lt;/p&gt;
&lt;p&gt;We&amp;rsquo;ll pretend that in general, City B has historicallly had a problem with malaria and people there have had higher risk: being in City B increases malaria risk by 5 points, on average. Over time, both cities have worked on mosquito abatement, so average malaria risk has decreased by 2 points per year (in both cities, because we believe in parallel trends). Using a mosquito net causes a decrease of 10 points on average. That&amp;rsquo;s our causal effect.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Generate random columns that stand alone. Generate related columns using regression math. Consider adding random noise. This is an entirely trial and error process until you get numbers that look good. Rely &lt;em&gt;heavily&lt;/em&gt; on plots as you try different coefficients and parameters. Optionally rescale any columns that go out of reasonable bounds. If you rescale, you&amp;rsquo;ll need to tinker with the coefficients you used since the final effects will also get rescaled.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Generation time! Heavily annotated code below:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Make this randomness consistent&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;set.seed&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1234&lt;/span&gt;)
   
&lt;span style=&#34;color:#75715e&#34;&gt;# Simulate 2567 people (just for fun)&lt;/span&gt;
n_people &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2567&lt;/span&gt;
   
did_data &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;tibble&lt;/span&gt;(
  &lt;span style=&#34;color:#75715e&#34;&gt;# Make an ID column (not necessary, but nice to have)&lt;/span&gt;
  id &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;n_people,
  &lt;span style=&#34;color:#75715e&#34;&gt;# Generate year variable: uniform, between 2013 and 2020. Round so it&amp;#39;s whole.&lt;/span&gt;
  year &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;round&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;runif&lt;/span&gt;(n_people, min &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2013&lt;/span&gt;, max &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2020&lt;/span&gt;), &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;),
  &lt;span style=&#34;color:#75715e&#34;&gt;# Generate city variable: binomial, 50% chance of being in a city. We&amp;#39;ll use&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# sample() instead of rbinom()&lt;/span&gt;
  city &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;sample&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;City A&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;City B&amp;#34;&lt;/span&gt;), n_people, replace &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;)
) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Generate net variable. We&amp;#39;re assuming perfect compliance, so this will only&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# be TRUE for people in City B after 2017&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ifelse&lt;/span&gt;(city &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;City B&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt; year &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2017&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;)) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Generate a malaria risk variable based on year, city, net use, and random noise&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(malaria_risk_base &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rbeta&lt;/span&gt;(n_people, shape1 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;, shape2 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;100&lt;/span&gt;,
         &lt;span style=&#34;color:#75715e&#34;&gt;# Risk goes up if you&amp;#39;re in City B because they have a worse problem.&lt;/span&gt;
         &lt;span style=&#34;color:#75715e&#34;&gt;# We could just say &amp;#34;city_effect = 5&amp;#34; and give everyone in City A an&lt;/span&gt;
         &lt;span style=&#34;color:#75715e&#34;&gt;# exact 5-point boost, but to add some noise, we&amp;#39;ll give people an&lt;/span&gt;
         &lt;span style=&#34;color:#75715e&#34;&gt;# average boost using rnorm(). Some people might go up 7, some might go&lt;/span&gt;
         &lt;span style=&#34;color:#75715e&#34;&gt;# up 1, some might go down 2&lt;/span&gt;
         city_effect &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ifelse&lt;/span&gt;(city &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;City B&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#a6e22e&#34;&gt;rnorm&lt;/span&gt;(n_people, mean &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;, sd &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;), &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;),
         &lt;span style=&#34;color:#75715e&#34;&gt;# Risk goes down by 2 points on average every year. Creating this&lt;/span&gt;
         &lt;span style=&#34;color:#75715e&#34;&gt;# effect with regression would work fine (-2 * year), except the years&lt;/span&gt;
         &lt;span style=&#34;color:#75715e&#34;&gt;# are huge here (-2 * 2013 and -2 * 2020, etc.) So first we create a&lt;/span&gt;
         &lt;span style=&#34;color:#75715e&#34;&gt;# smaller year column where 2013 is year 1, 2014 is year 2, and so on,&lt;/span&gt;
         &lt;span style=&#34;color:#75715e&#34;&gt;# that way we can say -2 * 1 and -2 * 6, or whatever.&lt;/span&gt;
         &lt;span style=&#34;color:#75715e&#34;&gt;# Also, rather than make risk go down by *exactly* 2 every year, we&amp;#39;ll&lt;/span&gt;
         &lt;span style=&#34;color:#75715e&#34;&gt;# add some noise with rnorm(), so for some people it&amp;#39;ll go down by 1 or&lt;/span&gt;
         &lt;span style=&#34;color:#75715e&#34;&gt;# 4 or up by 1, and so on&lt;/span&gt;
         year_smaller &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; year &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2012&lt;/span&gt;,
         year_effect &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rnorm&lt;/span&gt;(n_people, mean &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;-2&lt;/span&gt;, sd &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.1&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; year_smaller,
         &lt;span style=&#34;color:#75715e&#34;&gt;# Using a net causes a decrease of 10 points, on average. Again, rather&lt;/span&gt;
         &lt;span style=&#34;color:#75715e&#34;&gt;# than use exactly 10, we&amp;#39;ll use a distribution around 10. People only&lt;/span&gt;
         &lt;span style=&#34;color:#75715e&#34;&gt;# get a net boost if they&amp;#39;re in City B after 2017.&lt;/span&gt;
         net_effect &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ifelse&lt;/span&gt;(city &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;City B&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt; year &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2017&lt;/span&gt;,
                             &lt;span style=&#34;color:#a6e22e&#34;&gt;rnorm&lt;/span&gt;(n_people, mean &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;-10&lt;/span&gt;, sd &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1.5&lt;/span&gt;),
                             &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;),
         &lt;span style=&#34;color:#75715e&#34;&gt;# Finally combine all these effects to create the malaria risk variable&lt;/span&gt;
         malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; malaria_risk_base &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; city_effect &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; year_effect &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; net_effect,
         &lt;span style=&#34;color:#75715e&#34;&gt;# Rescale so it doesn&amp;#39;t go below 0 or above 100&lt;/span&gt;
         malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rescale&lt;/span&gt;(malaria_risk, to &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;100&lt;/span&gt;))) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Make an indicator variable showing if the row is after 2017&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(after &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; year &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2017&lt;/span&gt;)
   
&lt;span style=&#34;color:#a6e22e&#34;&gt;head&lt;/span&gt;(did_data)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 6 x 11&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##      id  year city   net   malaria_risk_base city_effect year_smaller year_effect net_effect malaria_risk after&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;int&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;  &amp;lt;lgl&amp;gt;             &amp;lt;dbl&amp;gt;       &amp;lt;dbl&amp;gt;        &amp;lt;dbl&amp;gt;       &amp;lt;dbl&amp;gt;      &amp;lt;dbl&amp;gt;        &amp;lt;dbl&amp;gt; &amp;lt;lgl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1     1  2014 City B FALSE              53.0        6.25            2       -3.97          0         54.2 FALSE&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2     2  2017 City B FALSE              89.7        3.32            5       -9.17          0         84.1 FALSE&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3     3  2017 City A FALSE              49.5        0               5      -10.1           0         37.6 FALSE&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 4     4  2017 City B FALSE              37.4        7.11            5       -9.44          0         33.1 FALSE&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 5     5  2019 City A FALSE              76.6        0               7      -14.7           0         61.1 TRUE &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 6     6  2017 City B FALSE              65.7        5.38            5      -10.4           0         59.9 FALSE&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Verify all relationships with plots and models.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Is risk higher in City B? Yep.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(did_data, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; city, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; malaria_risk, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; city)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;stat_summary&lt;/span&gt;(geom &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;pointrange&amp;#34;&lt;/span&gt;, fun.data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;mean_se&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;guides&lt;/span&gt;(color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/01-datos_files/figure-html/check-risk-increase-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Does risk decrease over time? And are the trends parallel? There was a weird random spike in City B in 2017 for whatever reason, but in general, the trends in the two cities are pretty parallel from 2013 to 2017.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;plot_data &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; did_data &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;group_by&lt;/span&gt;(year, city) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;summarize&lt;/span&gt;(mean_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;mean&lt;/span&gt;(malaria_risk),
            se_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;sd&lt;/span&gt;(malaria_risk) &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;sqrt&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;n&lt;/span&gt;()),
            upper &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mean_risk &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; (&lt;span style=&#34;color:#ae81ff&#34;&gt;1.96&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; se_risk),
            lower &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mean_risk &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; (&lt;span style=&#34;color:#ae81ff&#34;&gt;-1.96&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; se_risk))
   
&lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(plot_data, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; year, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mean_risk, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; city)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_vline&lt;/span&gt;(xintercept &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2017.5&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_ribbon&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(ymin &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; lower, ymax &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; upper, fill &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; city), alpha &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.3&lt;/span&gt;, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_line&lt;/span&gt;() &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme&lt;/span&gt;(legend.position &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;bottom&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/01-datos_files/figure-html/check-parallel-trends-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Try it out!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s see if it works! For diff-in-diff we need to use this model:&lt;/p&gt;
&lt;p&gt;$$
\text{Malaria risk} = \alpha + \beta\ \text{City B} + \gamma\ \text{After 2017} + \delta\ (\text{City B} \times \text{After 2017}) + \varepsilon
$$&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;model_did &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; city &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; after &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; city &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; after, data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; did_data)
&lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;(model_did)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 4 x 5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   term                 estimate std.error statistic  p.value&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;                   &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 (Intercept)             59.2      0.549    108.   0.      &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 cityCity B               5.17     0.778      6.64 3.71e-11&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3 afterTRUE               -7.47     0.939     -7.96 2.61e-15&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 4 cityCity B:afterTRUE   -10.2      1.32      -7.79 9.67e-15&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;It works! Being in City B is associated with a 5-point higher risk on average; being after 2017 is associated with a 7.5-point lower risk on average, and being in City B after 2017 causes risk to drop by −10. The number isn&amp;rsquo;t exactly −10 here, since we rescaled the &lt;code&gt;malaria_risk&lt;/code&gt; column a little, but still, it&amp;rsquo;s close. It&amp;rsquo;d probably be a good idea to build in some more noise and noncompliance, since the p-values are really really tiny here, but this is good enough for now.&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s an obligatory diff-in-diff visualization:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;plot_data &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; did_data &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;group_by&lt;/span&gt;(after, city) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;summarize&lt;/span&gt;(mean_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;mean&lt;/span&gt;(malaria_risk),
            se_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;sd&lt;/span&gt;(malaria_risk) &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;sqrt&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;n&lt;/span&gt;()),
            upper &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mean_risk &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; (&lt;span style=&#34;color:#ae81ff&#34;&gt;1.96&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; se_risk),
            lower &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mean_risk &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; (&lt;span style=&#34;color:#ae81ff&#34;&gt;-1.96&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; se_risk))
   
&lt;span style=&#34;color:#75715e&#34;&gt;# Extract parts of the model results for adding annotations&lt;/span&gt;
model_results &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;(model_did)
before_treatment &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(model_results, term &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;(Intercept)&amp;#34;&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;estimate &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(model_results, term &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;cityCity B&amp;#34;&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;estimate
diff_diff &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(model_results, term &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;cityCity B:afterTRUE&amp;#34;&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;estimate
after_treatment &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; before_treatment &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; diff_diff &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(model_results, term &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;afterTRUE&amp;#34;&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;estimate
   
&lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(plot_data, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; after, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mean_risk, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; city, group &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; city)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_pointrange&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(ymin &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; lower, ymax &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; upper)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_line&lt;/span&gt;() &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;annotate&lt;/span&gt;(geom &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;segment&amp;#34;&lt;/span&gt;, x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, xend &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;,
           y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; before_treatment, yend &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; after_treatment &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; diff_diff,
           linetype &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;dashed&amp;#34;&lt;/span&gt;, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;grey50&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;annotate&lt;/span&gt;(geom &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;segment&amp;#34;&lt;/span&gt;, x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2.1&lt;/span&gt;, xend &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2.1&lt;/span&gt;,
           y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; after_treatment, yend &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; after_treatment &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; diff_diff,
           linetype &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;dotted&amp;#34;&lt;/span&gt;, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;blue&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme&lt;/span&gt;(legend.position &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;bottom&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/01-datos_files/figure-html/show-diff-diff-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Save the data.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The data works, so let&amp;rsquo;s get rid of the intermediate columns we don&amp;rsquo;t need and save it as a CSV file.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;did_data_final &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; did_data &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;select&lt;/span&gt;(id, year, city, net, malaria_risk)
&lt;span style=&#34;color:#a6e22e&#34;&gt;head&lt;/span&gt;(did_data_final)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 6 x 5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##      id  year city   net   malaria_risk&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;int&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt;  &amp;lt;lgl&amp;gt;        &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1     1  2014 City B FALSE         54.2&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2     2  2017 City B FALSE         84.1&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3     3  2017 City A FALSE         37.6&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 4     4  2017 City B FALSE         33.1&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 5     5  2019 City A FALSE         61.1&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 6     6  2017 City B FALSE         59.9&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Save data&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;write_csv&lt;/span&gt;(did_data_final, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;data/diff_diff.csv&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;creating-an-effect-for-regression-discontinuity&#34;&gt;Creating an effect for regression discontinuity&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Draw a DAG that maps out how all the columns you care about are related.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Regression discontinuity designs are also based on context instead of models, so the DAG is pretty simple. We&amp;rsquo;ll keep with our mosquito net example and pretend that families that earn less than $450 a week qualify for a free net. Here&amp;rsquo;s the DAG:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;rdd_dag &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(mal &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; net &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; inc,
                  net &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; cut,
                  cut &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; inc,
                  coords &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(mal &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, inc &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, cut &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;),
                                y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(mal &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, inc &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, cut &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1.75&lt;/span&gt;)))
&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag&lt;/span&gt;(rdd_dag) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/01-datos_files/figure-html/rdd-dag-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Specify how those nodes are measured.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s how we&amp;rsquo;ll measure these nodes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Malaria risk&lt;/strong&gt;: scale from 0–100, mostly around 60, but ranging from 30ish to 90ish. Best to use a Beta distribution.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Net use&lt;/strong&gt;: binary 0/1, TRUE/FALSE variable. This is technically binomial, but we don&amp;rsquo;t need to simulate it since it will only happen for people who below the cutoff.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Income&lt;/strong&gt;: weekly income, measured in dollars, mostly around 500 ± 300. Best to use a normal distribution.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Cutoff&lt;/strong&gt;: binary 0/1, below/above $450 variable. This is technically binomial, but we don&amp;rsquo;t need to simulate it since it is entirely based on income.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Specify the relationships between the nodes based on the DAG equations.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;There are three models in the DAG:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;cut ~ inc&lt;/code&gt;&lt;/strong&gt;: Being above or below the cutpoint is determined by income. We know the cutoff is 450, so we just make an indicator showing if people are below that.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;net ~ cut&lt;/code&gt;&lt;/strong&gt;: Net usage is determined by the cutpoint. If people are below the cutpoint, they&amp;rsquo;ll use a net; if not, they won&amp;rsquo;t. We can build in noncompliance here if we want and use fuzzy regression discontinuity. For the sake of this example, we&amp;rsquo;ll do it both ways, just so you can see both sharp and fuzzy synthetic data.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;mal ~ net + inc&lt;/code&gt;&lt;/strong&gt;: Malaria risk is determined by both net usage and income. It&amp;rsquo;s also determined by lots of other things (age, education, city, etc.), but we don&amp;rsquo;t need to include those in the DAG because we&amp;rsquo;re using RDD to say that we have good treatment and control groups right around the cutoff.&lt;/p&gt;
&lt;p&gt;We&amp;rsquo;ll pretend that a 1 dollar increase in income is associated with a drop in risk of 0.01, and that using a mosquito net causes a decrease of 10 points on average. That&amp;rsquo;s our causal effect.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Generate random columns that stand alone. Generate related columns using regression math. Consider adding random noise. This is an entirely trial and error process until you get numbers that look good. Rely &lt;em&gt;heavily&lt;/em&gt; on plots as you try different coefficients and parameters. Optionally rescale any columns that go out of reasonable bounds. If you rescale, you&amp;rsquo;ll need to tinker with the coefficients you used since the final effects will also get rescaled.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s fake some data! Heavily annotated code below:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Make this randomness consistent&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;set.seed&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1234&lt;/span&gt;)
   
&lt;span style=&#34;color:#75715e&#34;&gt;# Simulate 5441 people (we need a lot bc we&amp;#39;re throwing most away)&lt;/span&gt;
n_people &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;5441&lt;/span&gt;
   
rdd_data &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;tibble&lt;/span&gt;(
  &lt;span style=&#34;color:#75715e&#34;&gt;# Make an ID column (not necessary, but nice to have)&lt;/span&gt;
  id &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;n_people,
  &lt;span style=&#34;color:#75715e&#34;&gt;# Generate income variable: normal, 500 ± 300&lt;/span&gt;
  income &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rnorm&lt;/span&gt;(n_people, mean &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;500&lt;/span&gt;, sd &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;75&lt;/span&gt;)
) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Generate cutoff variable&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(below_cutoff &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ifelse&lt;/span&gt;(income &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;450&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;)) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Generate net variable. We&amp;#39;ll make two: one that&amp;#39;s sharp and has perfect&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# compliance, and one that&amp;#39;s fuzzy&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Here&amp;#39;s the sharp one. It&amp;#39;s easy. If you&amp;#39;re below the cutoff you use a net.&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(net_sharp &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ifelse&lt;/span&gt;(below_cutoff &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;)) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Here&amp;#39;s the fuzzy one, which is a little trickier. If you&amp;#39;re far away from&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# the cutoff, you follow what you&amp;#39;re supposed to do (like if your income is&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# 800, you don&amp;#39;t use the program; if your income is 200, you definitely use&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# the program). But if you&amp;#39;re close to the cutoff, we&amp;#39;ll pretend that there&amp;#39;s&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# an 80% chance that you&amp;#39;ll do what you&amp;#39;re supposed to do.&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(net_fuzzy &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;case_when&lt;/span&gt;(
    &lt;span style=&#34;color:#75715e&#34;&gt;# If your income is between 450 and 500, there&amp;#39;s a 20% chance of using the program&lt;/span&gt;
    income &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;450&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;500&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;sample&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;), n_people, replace &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;, prob &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;0.2&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0.8&lt;/span&gt;)),
    &lt;span style=&#34;color:#75715e&#34;&gt;# If your income is above 500, you definitely don&amp;#39;t use the program&lt;/span&gt;
    income &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;500&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;,
    &lt;span style=&#34;color:#75715e&#34;&gt;# If your income is between 400 and 450, there&amp;#39;s an 80% chance of using the program&lt;/span&gt;
    income &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;450&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;400&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;sample&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;, &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;), n_people, replace &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;, prob &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;0.8&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0.2&lt;/span&gt;)),
    &lt;span style=&#34;color:#75715e&#34;&gt;# If your income is below 400, you definitely use the program&lt;/span&gt;
    income &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;400&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;
  )) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Finally we can make the malaria risk score, based on income, net use, and&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# random noise. We&amp;#39;ll make two outcomes: one using the sharp net use and one&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# using the fuzzy net use. They have the same effect built in, we just have to&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# use net_sharp and net_fuzzy separately.&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(malaria_risk_base &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rbeta&lt;/span&gt;(n_people, shape1 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;, shape2 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;100&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Make the sharp version. There&amp;#39;s really a 10 point decrease, but because of&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# rescaling, we use 15. I only chose 15 through lots of trial and error (i.e.&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# I used -11, ran the RDD model, and the effect was too small; I used -20, ran&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# the model, and the effect was too big; I kept changing numbers until landing&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# on -15). Risk also goes down as income increases.&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(malaria_effect_sharp &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#ae81ff&#34;&gt;-15&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; net_sharp) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; (&lt;span style=&#34;color:#ae81ff&#34;&gt;-0.01&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; income),
         malaria_risk_sharp &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; malaria_risk_base &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; malaria_effect_sharp &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rnorm&lt;/span&gt;(n_people, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, sd &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;),
         malaria_risk_sharp &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rescale&lt;/span&gt;(malaria_risk_sharp, to &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;70&lt;/span&gt;))) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Do the same thing, but with net_fuzzy&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(malaria_effect_fuzzy &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#ae81ff&#34;&gt;-15&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; net_fuzzy) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; (&lt;span style=&#34;color:#ae81ff&#34;&gt;-0.01&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; income),
         malaria_risk_fuzzy &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; malaria_risk_base &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; malaria_effect_fuzzy &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rnorm&lt;/span&gt;(n_people, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, sd &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;),
         malaria_risk_fuzzy &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rescale&lt;/span&gt;(malaria_risk_fuzzy, to &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;70&lt;/span&gt;))) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Make a version of income that&amp;#39;s centered at the cutpoint&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(income_centered &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;450&lt;/span&gt;)
   
&lt;span style=&#34;color:#a6e22e&#34;&gt;head&lt;/span&gt;(rdd_data)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 6 x 11&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##      id income below_cutoff net_sharp net_fuzzy malaria_risk_base malaria_effect_sharp malaria_risk_sharp malaria_effect_fuzzy malaria_risk_fuzzy income_centered&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;int&amp;gt;  &amp;lt;dbl&amp;gt; &amp;lt;lgl&amp;gt;        &amp;lt;lgl&amp;gt;     &amp;lt;lgl&amp;gt;                 &amp;lt;dbl&amp;gt;                &amp;lt;dbl&amp;gt;              &amp;lt;dbl&amp;gt;                &amp;lt;dbl&amp;gt;              &amp;lt;dbl&amp;gt;           &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1     1   409. TRUE         TRUE      FALSE                  56.5               -19.1                38.0                -4.09               47.5           -40.5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2     2   521. FALSE        FALSE     FALSE                  26.1                -5.21               28.6                -5.21               27.6            70.8&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3     3   581. FALSE        FALSE     FALSE                  84.4                -5.81               64.7                -5.81               65.5           131. &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 4     4   324. TRUE         TRUE      TRUE                   32.9               -18.2                25.9               -18.2                23.4          -126. &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 5     5   532. FALSE        FALSE     FALSE                  53.1                -5.32               46.5                -5.32               44.3            82.2&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 6     6   538. FALSE        FALSE     FALSE                  45.7                -5.38               43.2                -5.38               40.2            88.0&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Verify all relationships with plots and models.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Is there a cutoff in the running variable when we use the sharp net variable? Yep!&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(rdd_data, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; income, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; net_sharp, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; below_cutoff)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_vline&lt;/span&gt;(xintercept &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;450&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_point&lt;/span&gt;(alpha &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.3&lt;/span&gt;, position &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;position_jitter&lt;/span&gt;(width &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;NULL&lt;/span&gt;, height &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.2&lt;/span&gt;)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;guides&lt;/span&gt;(color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/01-datos_files/figure-html/sharp-running-var-cutoff-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Is there a cutoff in the running variable when we use the fuzzy net variable? Yep! There are some richer people using the program and some poorer people not using it.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(rdd_data, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; income, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; net_fuzzy, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; below_cutoff)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_vline&lt;/span&gt;(xintercept &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;450&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_point&lt;/span&gt;(alpha &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.3&lt;/span&gt;, position &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;position_jitter&lt;/span&gt;(width &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;NULL&lt;/span&gt;, height &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.2&lt;/span&gt;)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;guides&lt;/span&gt;(color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/01-datos_files/figure-html/fuzzy-running-var-cutoff-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Try it out!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s test it! For sharp RDD we need to use this model:&lt;/p&gt;
&lt;p&gt;$$
\text{Malaria risk} = \beta_0 + \beta_1 \text{Income}_\text{centered} + \beta_2 \text{Net} + \varepsilon
$$&lt;/p&gt;
&lt;p&gt;We&amp;rsquo;ll use a bandwidth of ±$50, because why not. In real life you&amp;rsquo;d be more careful about bandwidth selection (or use &lt;code&gt;rdbwselect()&lt;/code&gt; from the &lt;strong&gt;rdrobust&lt;/strong&gt; package to find the optimal bandwidth)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(rdd_data, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; income, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; malaria_risk_sharp, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; net_sharp)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_vline&lt;/span&gt;(xintercept &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;450&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_point&lt;/span&gt;(alpha &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.2&lt;/span&gt;, size &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.5&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Add lines for the full range&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_smooth&lt;/span&gt;(data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(rdd_data, income_centered &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;),
              method &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;lm&amp;#34;&lt;/span&gt;, se &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, size &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, linetype &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;dashed&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_smooth&lt;/span&gt;(data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(rdd_data, income_centered &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;),
              method &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;lm&amp;#34;&lt;/span&gt;, se &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, size &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, linetype &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;dashed&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Add lines for bandwidth = 50&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_smooth&lt;/span&gt;(data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(rdd_data, income_centered &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;-50&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt; income_centered &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;),
              method &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;lm&amp;#34;&lt;/span&gt;, se &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, size &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_smooth&lt;/span&gt;(data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(rdd_data, income_centered &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt; income_centered &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;50&lt;/span&gt;),
              method &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;lm&amp;#34;&lt;/span&gt;, se &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, size &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme&lt;/span&gt;(legend.position &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;bottom&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/01-datos_files/figure-html/sharp-results-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;model_sharp &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(malaria_risk_sharp &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; income_centered &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; net_sharp,
                  data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(rdd_data,
                                income_centered &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;-50&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt; income_centered &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;50&lt;/span&gt;))
&lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;(model_sharp)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 3 x 5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   term            estimate std.error statistic  p.value&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;              &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 (Intercept)      40.7       0.462      88.1  0.      &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 income_centered  -0.0197    0.0144     -1.37 1.72e- 1&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3 net_sharpTRUE   -10.6       0.815     -13.0  1.67e-37&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;There&amp;rsquo;s an effect! For people in the bandwidth, the local average treatment effect of nets is a 10.6 point reduction in malaria risk.&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s check if it works with the fuzzy version where there are noncompliers:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(rdd_data, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; income, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; malaria_risk_fuzzy, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; net_fuzzy)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_vline&lt;/span&gt;(xintercept &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;450&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_point&lt;/span&gt;(alpha &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.2&lt;/span&gt;, size &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.5&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Add lines for the full range&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_smooth&lt;/span&gt;(data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(rdd_data, income_centered &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;),
              method &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;lm&amp;#34;&lt;/span&gt;, se &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, size &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, linetype &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;dashed&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_smooth&lt;/span&gt;(data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(rdd_data, income_centered &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;),
              method &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;lm&amp;#34;&lt;/span&gt;, se &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, size &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, linetype &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;dashed&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Add lines for bandwidth = 50&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_smooth&lt;/span&gt;(data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(rdd_data, income_centered &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;-50&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt; income_centered &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;),
              method &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;lm&amp;#34;&lt;/span&gt;, se &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, size &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_smooth&lt;/span&gt;(data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(rdd_data, income_centered &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt; income_centered &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;50&lt;/span&gt;),
              method &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;lm&amp;#34;&lt;/span&gt;, se &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, size &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme&lt;/span&gt;(legend.position &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;bottom&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/01-datos_files/figure-html/fuzzy-results-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;There&amp;rsquo;s a gap, but it&amp;rsquo;s hard to measure since there are noncompliers on both sides. We can deal with the noncompliance if we use above/below the cutoff as an instrument (see the &lt;a href=&#34;/example/rdd-fuzzy/&#34;&gt;fuzzy regression discontinuity guide&lt;/a&gt; for a complete example). We should run this set of models:&lt;/p&gt;
&lt;p&gt;$$
\begin{aligned}
\widehat{\text{Net}} &amp;amp;= \gamma_0 + \gamma_1 \text{Income}_{\text{centered}} + \gamma_2 \text{Below 450} + \omega \\&lt;br&gt;
\text{Malaria risk} &amp;amp;= \beta_0 + \beta_1 \text{Income}_{\text{centered}} + \beta_2 \widehat{\text{Net}} + \epsilon
\end{aligned}
$$&lt;/p&gt;
&lt;p&gt;Instead of doing these two stages by hand (ugh), we&amp;rsquo;ll do the 2SLS regression with the &lt;code&gt;iv_robust()&lt;/code&gt; function from the &lt;strong&gt;estimatr&lt;/strong&gt; package:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(estimatr)
&lt;span style=&#34;color:#75715e&#34;&gt;## Warning: package &amp;#39;estimatr&amp;#39; was built under R version 4.0.5&lt;/span&gt;
   
model_fuzzy &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;iv_robust&lt;/span&gt;(malaria_risk_fuzzy &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; income_centered &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; net_fuzzy &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;
                           income_centered &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; below_cutoff,
                         data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;filter&lt;/span&gt;(rdd_data,
                                       income_centered &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;-50&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&lt;/span&gt; income_centered &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;50&lt;/span&gt;))
&lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;(model_fuzzy)
&lt;span style=&#34;color:#75715e&#34;&gt;##              term  estimate std.error statistic   p.value  conf.low conf.high   df            outcome&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1     (Intercept)  40.73241   0.69045    58.994 0.000e+00  39.37843 42.086402 2220 malaria_risk_fuzzy&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 income_centered  -0.01921   0.01423    -1.350 1.772e-01  -0.04711  0.008696 2220 malaria_risk_fuzzy&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3   net_fuzzyTRUE -11.21929   1.31033    -8.562 2.034e-17 -13.78889 -8.649700 2220 malaria_risk_fuzzy&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The effect is slightly larger now (−11.2), but that&amp;rsquo;s because we are looking at a doubly local ATE: compliers in the bandwidth. But still, it&amp;rsquo;s close to −10, so that&amp;rsquo;s good. And we could probably get it closer if we did other mathy shenanigans like adding squared and cubed terms or using nonparametric estimation with &lt;code&gt;rdrobust()&lt;/code&gt; in the &lt;strong&gt;rdrobust&lt;/strong&gt; package.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Save the data.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The data works, so let&amp;rsquo;s get rid of the intermediate columns we don&amp;rsquo;t need and save it as a CSV file. We&amp;rsquo;ll make two separate CSV files for fuzzy and sharp, just because.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;rdd_data_final_sharp &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; rdd_data &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;select&lt;/span&gt;(id, income, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; net_sharp, malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; malaria_risk_sharp)
&lt;span style=&#34;color:#a6e22e&#34;&gt;head&lt;/span&gt;(rdd_data_final_sharp)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 6 x 4&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##      id income net   malaria_risk&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;int&amp;gt;  &amp;lt;dbl&amp;gt; &amp;lt;lgl&amp;gt;        &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1     1   409. TRUE          38.0&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2     2   521. FALSE         28.6&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3     3   581. FALSE         64.7&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 4     4   324. TRUE          25.9&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 5     5   532. FALSE         46.5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 6     6   538. FALSE         43.2&lt;/span&gt;
   
rdd_data_final_fuzzy &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; rdd_data &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;select&lt;/span&gt;(id, income, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; net_fuzzy, malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; malaria_risk_fuzzy)
&lt;span style=&#34;color:#a6e22e&#34;&gt;head&lt;/span&gt;(rdd_data_final_fuzzy)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 6 x 4&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##      id income net   malaria_risk&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;int&amp;gt;  &amp;lt;dbl&amp;gt; &amp;lt;lgl&amp;gt;        &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1     1   409. FALSE         47.5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2     2   521. FALSE         27.6&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3     3   581. FALSE         65.5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 4     4   324. TRUE          23.4&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 5     5   532. FALSE         44.3&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 6     6   538. FALSE         40.2&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Save data&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;write_csv&lt;/span&gt;(rdd_data_final_sharp, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;data/rdd_sharp.csv&amp;#34;&lt;/span&gt;)
&lt;span style=&#34;color:#a6e22e&#34;&gt;write_csv&lt;/span&gt;(rdd_data_final_fuzzy, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;data/rdd_fuzzy.csv&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;creating-an-effect-for-instrumental-variables&#34;&gt;Creating an effect for instrumental variables&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Draw a DAG that maps out how all the columns you care about are related.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;As with diff-in-diff and regression discontinuity, instrumental variables are a design-based approach to causal inference and thus don&amp;rsquo;t require complicated models (but you can still add control variables!), so their DAGs are simpler. Once again we&amp;rsquo;ll look at the effect of mosquito nets on malaria risk, but this time we&amp;rsquo;ll say that we cannot possibly measure all the confounding factors between net use and malaria risk, so we&amp;rsquo;ll use an instrument to extract the exogeneity from net use.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;/content/11-content/&#34;&gt;As we talked about in Session 11&lt;/a&gt;, good plausible instruments are hard to find: they have to cause bed net use and &lt;em&gt;not&lt;/em&gt; be related to malaria risk &lt;em&gt;except through&lt;/em&gt; bed net use.&lt;/p&gt;
&lt;p&gt;For this example, we&amp;rsquo;ll pretend that free bed nets are distributed from town halls around the country. We&amp;rsquo;ll use &amp;ldquo;distance to town hall&amp;rdquo; as our instrument, since it could arguably maybe work perhaps. Being closer to a town hall makes you more likely to use a net, but being closer to a town halls doesn&amp;rsquo;t make put you at higher or lower risk for malaria on its own—it does that only because it changes your likelihood of getting a net.&lt;/p&gt;
&lt;p&gt;This is where the story for the instrument falls apart, actually; in real life, if you live far away from a town hall, you probably live further from health services and live in more rural places with worse mosquito abatement policies, so you&amp;rsquo;re probably at higher risk of malaria. It&amp;rsquo;s probably a bad instrument, but just go with it.&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s the DAG:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;iv_dag &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(mal &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; net &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; U,
                 net &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; dist &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; U,
                 coords &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(mal &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, U &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, dist &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;),
                               y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(mal &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, U &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, dist &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1.5&lt;/span&gt;)),
                 latent &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;U&amp;#34;&lt;/span&gt;)
   
&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(iv_dag) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;guides&lt;/span&gt;(color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/01-datos_files/figure-html/iv-dag-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Specify how those nodes are measured.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s how we&amp;rsquo;ll measure these nodes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Malaria risk&lt;/strong&gt;: scale from 0–100, mostly around 60, but ranging from 30ish to 90ish. Best to use a Beta distribution.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Net use&lt;/strong&gt;: binary 0/1, TRUE/FALSE variable. However, since we want to use other variables that increase the likelihood of using a net, we&amp;rsquo;ll do some cool tricky stuff with a bed net score, like we did in the observational DAG example earlier.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Distance&lt;/strong&gt;: distance to nearest town hall, measured in kilometers, mostly around 3, with a left skewed long tail (i.e. most people live fairly close, some people live far away). Best to use a Beta distribution (to get the skewed shape) that we then rescale.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Unobserved&lt;/strong&gt;: who knows?! There are a lot of unknown confounders. We could generate columns like income, age, education, and health, make them mathematically related to malaria risk and net use, and then throw those columns away in the final data so they&amp;rsquo;re unobserved. That would be fairly easy and intuitive.&lt;/p&gt;
&lt;p&gt;For the sake of simplicity here, we&amp;rsquo;ll make a column called &amp;ldquo;risk factors,&amp;rdquo; kind of like we did with the &amp;ldquo;ability&amp;rdquo; column in &lt;a href=&#34;https://evalf20.classes.andrewheiss.com/example/iv/#education-wages-and-fathers-education-fake-data&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;the instrumental variables example&lt;/a&gt;—it&amp;rsquo;s a magical column that is unmeasurable, but it&amp;rsquo;ll open a backdoor path between net use and malaria risk and thus create endogeneity. It&amp;rsquo;ll be normally distributed around 50, with a standard deviation of 25.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Specify the relationships between the nodes based on the DAG equations.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;There are two models in the DAG:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;net ~ dist + U&lt;/code&gt;&lt;/strong&gt;: Net usage is determined by both distance and our magical unobserved risk factor column. Net use is technically binomial, but in order to change the likelihood of net use based on distance to town hall and unobserved stuff, we&amp;rsquo;ll do the fancy tricky stuff we did in the observational DAG section above: we&amp;rsquo;ll create a bed net score, increase or decrease that score based on risk factors and distance, scale that score to a 0-1 scale of probabilities, and then draw a binomial 0/1 outcome using those probabilities.&lt;/p&gt;
&lt;p&gt;We&amp;rsquo;ll say that a one kilometer increase in the distance to a town halls reduces the bed net score and a one point increase in risk factors reduces the bed net score.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;mal ~ net + U&lt;/code&gt;&lt;/strong&gt;: Malaria risk is determined by both net usage and unkown stuff, or the magical column we&amp;rsquo;re calling &amp;ldquo;risk factors.&amp;rdquo; We&amp;rsquo;ll say that a one point increase in risk factors increases malaria risk, and that using a mosquito net causes a decrease of 10 points on average. That&amp;rsquo;s our causal effect.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Generate random columns that stand alone. Generate related columns using regression math. Consider adding random noise. This is an entirely trial and error process until you get numbers that look good. Rely &lt;em&gt;heavily&lt;/em&gt; on plots as you try different coefficients and parameters. Optionally rescale any columns that go out of reasonable bounds. If you rescale, you&amp;rsquo;ll need to tinker with the coefficients you used since the final effects will also get rescaled.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Fake data time! Here&amp;rsquo;s some heavily annotated code:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Make this randomness consistent&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;set.seed&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1234&lt;/span&gt;)
   
&lt;span style=&#34;color:#75715e&#34;&gt;# Simulate 1578 people (just for fun)&lt;/span&gt;
n_people &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1578&lt;/span&gt;
   
iv_data &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;tibble&lt;/span&gt;(
  &lt;span style=&#34;color:#75715e&#34;&gt;# Make an ID column (not necessary, but nice to have)&lt;/span&gt;
  id &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;n_people,
  &lt;span style=&#34;color:#75715e&#34;&gt;# Generate magical unobserved risk factor variable: normal, 500 ± 300&lt;/span&gt;
  risk_factors &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rnorm&lt;/span&gt;(n_people, mean &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;100&lt;/span&gt;, sd &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;25&lt;/span&gt;),
  &lt;span style=&#34;color:#75715e&#34;&gt;# Generate distance to town hall variable&lt;/span&gt;
  distance &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rbeta&lt;/span&gt;(n_people, shape1 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, shape2 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;)
) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Scale up distance to be 0.1-15 instead of 0-1&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(distance &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rescale&lt;/span&gt;(distance, to &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;0.1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;15&lt;/span&gt;))) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Generate net variable based on distance, risk factors, and random noise&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Note: These -40 and -2 effects are entirely made up and I got them through a&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# lot of trial and error and rerunning this stupid chunk dozens of times&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(net_score &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
           (&lt;span style=&#34;color:#ae81ff&#34;&gt;-40&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; distance) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Distance effect&lt;/span&gt;
           (&lt;span style=&#34;color:#ae81ff&#34;&gt;-2&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; risk_factors) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Risk factor effect&lt;/span&gt;
           &lt;span style=&#34;color:#a6e22e&#34;&gt;rnorm&lt;/span&gt;(n_people, mean &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, sd &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;50&lt;/span&gt;),  &lt;span style=&#34;color:#75715e&#34;&gt;# Random noise&lt;/span&gt;
        net_probability &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rescale&lt;/span&gt;(net_score, to &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;0.15&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)),
        &lt;span style=&#34;color:#75715e&#34;&gt;# Randomly generate a 0/1 variable using that probability&lt;/span&gt;
        net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rbinom&lt;/span&gt;(n_people, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, net_probability)) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Generate malaria risk variable based on net use, risk factors, and random noise&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(malaria_risk_base &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rbeta&lt;/span&gt;(n_people, shape1 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;, shape2 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;100&lt;/span&gt;,
         &lt;span style=&#34;color:#75715e&#34;&gt;# We&amp;#39;re aiming for a -10 net effect, but need to boost it because of rescaling&lt;/span&gt;
         malaria_effect &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; (&lt;span style=&#34;color:#ae81ff&#34;&gt;-20&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; net) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; (&lt;span style=&#34;color:#ae81ff&#34;&gt;0.5&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; risk_factors),
         &lt;span style=&#34;color:#75715e&#34;&gt;# Make the final malaria risk score&lt;/span&gt;
         malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; malaria_risk_base &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; malaria_effect,
         &lt;span style=&#34;color:#75715e&#34;&gt;# Rescale so it doesn&amp;#39;t go below 0&lt;/span&gt;
         malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rescale&lt;/span&gt;(malaria_risk, to &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;80&lt;/span&gt;)))
iv_data
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 1,578 x 9&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##       id risk_factors distance net_score net_probability   net malaria_risk_base malaria_effect malaria_risk&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##    &amp;lt;int&amp;gt;        &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;           &amp;lt;dbl&amp;gt; &amp;lt;int&amp;gt;             &amp;lt;dbl&amp;gt;          &amp;lt;dbl&amp;gt;        &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##  1     1         69.8    3.98      -202.           0.766     1              71.1           14.9         36.5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##  2     2        107.     2.14      -284.           0.686     1              75.4           33.5         49.5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##  3     3        127.     5.47      -469.           0.505     0              57.4           63.6         56.4&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##  4     4         41.4    9.61      -414.           0.558     0              37.2           20.7         20.4&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##  5     5        111.     4.66      -376.           0.596     0              38.5           55.4         40.9&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##  6     6        113.     2.29      -284.           0.686     1              75.7           36.3         51.3&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##  7     7         85.6    0.922     -215.           0.753     0              28.7           42.8         28.2&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##  8     8         86.3   12.5       -608.           0.368     1              50.6           23.2         29.4&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##  9     9         85.9    3.11      -267.           0.703     1              38.4           22.9         22.4&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 10    10         77.7    1.35      -157.           0.810     1              69.1           18.9         37.6&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## # ... with 1,568 more rows&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Verify all relationships with plots and models.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Is there a relationship between unobserved risk factors and malaria risk? Yep.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(iv_data, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; risk_factors, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; malaria_risk)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_point&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;as.factor&lt;/span&gt;(net))) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_smooth&lt;/span&gt;(method &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;lm&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/01-datos_files/figure-html/check-risk-malaria-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Is there a relationship between distance to town hall and net use? Yeah, those who live further away are less likely to use a net.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(iv_data, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; distance, fill &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;as.factor&lt;/span&gt;(net))) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_density&lt;/span&gt;(alpha &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.7&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/01-datos_files/figure-html/check-distance-net-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Is there a relationship between net use and malaria risk? Haha, yeah, that&amp;rsquo;s a huge highly significant effect. Probably too perfect. We could increase those error bars if we tinker with some of the numbers in the code, but for the sake of this example, we&amp;rsquo;ll leave them like this.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(iv_data, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;as.factor&lt;/span&gt;(net), y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; malaria_risk, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;as.factor&lt;/span&gt;(net))) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;stat_summary&lt;/span&gt;(geom &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;pointrange&amp;#34;&lt;/span&gt;, fun.data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;mean_se&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/01-datos_files/figure-html/check-net-risk-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Try it out!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Cool, let&amp;rsquo;s see if this works. Remember, we can&amp;rsquo;t actually use the &lt;code&gt;risk_factors&lt;/code&gt; column in real life, but we will here just to make sure the effect we built in exists. Here&amp;rsquo;s the true effect, where using a net causes a decrease of 10.9 malaria risk points&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;model_forbidden &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; net &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; risk_factors, data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; iv_data)
&lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;(model_forbidden)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 3 x 5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   term         estimate std.error statistic   p.value&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;           &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 (Intercept)    20.6     0.873        23.6 6.98e-106&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 net           -10.8     0.400       -27.1 3.93e-133&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3 risk_factors    0.283   0.00788      35.9 1.16e-206&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Since we can&amp;rsquo;t actually use that column, we&amp;rsquo;ll use distance to town hall as an instrument. We should run this set of models:&lt;/p&gt;
&lt;p&gt;$$
\begin{aligned}
\widehat{\text{Net}} &amp;amp;= \gamma_0 + \gamma_1 \text{Distance to town hall} + \omega \\&lt;br&gt;
\text{Malaria risk} &amp;amp;= \beta_0 + \beta_1 \widehat{\text{Net}} + \epsilon
\end{aligned}
$$&lt;/p&gt;
&lt;p&gt;We&amp;rsquo;ll run this 2SLS model with the &lt;code&gt;iv_robust()&lt;/code&gt; function from the &lt;strong&gt;estimatr&lt;/strong&gt; package:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(estimatr)
   
model_iv &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;iv_robust&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; net &lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt; distance, data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; iv_data)
&lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;(model_iv)
&lt;span style=&#34;color:#75715e&#34;&gt;##          term estimate std.error statistic    p.value conf.low conf.high   df      outcome&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 (Intercept)   47.202     1.576     29.95 2.344e-156    44.11    50.294 1576 malaria_risk&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2         net   -8.236     2.474     -3.33  8.889e-04   -13.09    -3.385 1576 malaria_risk&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;…and it&amp;rsquo;s relatively close, I guess, at −8.2. Getting instrumental variables to find exact causal effects is tricky, but I&amp;rsquo;m fine with this for simulated data.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Save the data.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The data works well enough, so we&amp;rsquo;ll get rid of the extra intermediate columns and save it as a CSV file. We&amp;rsquo;ll keep the forbidden &lt;code&gt;risk_factors&lt;/code&gt; column just for fun.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;iv_data_final &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; iv_data &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;select&lt;/span&gt;(id, net, distance, malaria_risk, risk_factors)
   
&lt;span style=&#34;color:#a6e22e&#34;&gt;head&lt;/span&gt;(iv_data_final)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 6 x 5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##      id   net distance malaria_risk risk_factors&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;int&amp;gt; &amp;lt;int&amp;gt;    &amp;lt;dbl&amp;gt;        &amp;lt;dbl&amp;gt;        &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1     1     1     3.98         36.5         69.8&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2     2     1     2.14         49.5        107. &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3     3     0     5.47         56.4        127. &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 4     4     0     9.61         20.4         41.4&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 5     5     0     4.66         40.9        111. &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 6     6     1     2.29         51.3        113.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Save data&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;write_csv&lt;/span&gt;(iv_data_final, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;data/bed_nets_iv.csv&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;use-synthetic-data-packages&#34;&gt;Use synthetic data packages&lt;/h2&gt;
&lt;p&gt;There are several R packages that let you generate synthetic data with built-in relationships in a more automatic way. They all work a little differently, and if you&amp;rsquo;re interested in trying them out, make sure you check the documentation for details.&lt;/p&gt;
&lt;h3 id=&#34;fabricatr&#34;&gt;fabricatr&lt;/h3&gt;
&lt;p&gt;The &lt;a href=&#34;https://declaredesign.org/r/fabricatr/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;fabricatr&lt;/strong&gt; package&lt;/a&gt; is a very powerful package for simulating data. It was invented specifically for using in preregistered studies, so it can handle a ton of different data structures like &lt;a href=&#34;https://declaredesign.org/r/fabricatr/articles/cross_classified.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;panel data&lt;/a&gt; and &lt;a href=&#34;https://declaredesign.org/r/fabricatr/articles/time_series.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;time series data&lt;/a&gt;. You can build in causal effects and force columns to be correlated with each other.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;fabricatr&lt;/strong&gt; has exceptionally well-written documentation with like a billion detailed examples (see &lt;a href=&#34;https://declaredesign.org/r/fabricatr/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;the right sidebar here&lt;/a&gt;). This is a gold standard package and you should most definitely check it out.&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s a simple example of simulating a bunch of voters and making older ones more likely to vote:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(fabricatr)
&lt;span style=&#34;color:#75715e&#34;&gt;## Warning: package &amp;#39;fabricatr&amp;#39; was built under R version 4.0.5&lt;/span&gt;

&lt;span style=&#34;color:#a6e22e&#34;&gt;set.seed&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1234&lt;/span&gt;)

fake_voters &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;fabricate&lt;/span&gt;(
  &lt;span style=&#34;color:#75715e&#34;&gt;# Make 100 people&lt;/span&gt;
  N &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;100&lt;/span&gt;,
  &lt;span style=&#34;color:#75715e&#34;&gt;# Age uniformly distributed between 18 and 85&lt;/span&gt;
  age &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;round&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;runif&lt;/span&gt;(N, &lt;span style=&#34;color:#ae81ff&#34;&gt;18&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;85&lt;/span&gt;)),
  &lt;span style=&#34;color:#75715e&#34;&gt;# Older people more likely to vote&lt;/span&gt;
  turnout &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;draw_binary&lt;/span&gt;(prob &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ifelse&lt;/span&gt;(age &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;40&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0.4&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0.7&lt;/span&gt;), N &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; N)
)

&lt;span style=&#34;color:#a6e22e&#34;&gt;head&lt;/span&gt;(fake_voters)
&lt;span style=&#34;color:#75715e&#34;&gt;##    ID age turnout&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 001  26       0&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 002  60       1&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3 003  59       1&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 4 004  60       1&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 5 005  76       1&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 6 006  61       1&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;And here&amp;rsquo;s an example of country-year panel data where there are country-specific and year-specific effects on GDP:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;set.seed&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1234&lt;/span&gt;)

panel_global_data &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;fabricate&lt;/span&gt;(
  years &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;add_level&lt;/span&gt;(
    N &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;,
    ts_year &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;9&lt;/span&gt;,
    year_shock &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rnorm&lt;/span&gt;(N, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0.3&lt;/span&gt;)
  ),
  countries &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;add_level&lt;/span&gt;(
    N &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;,
    base_gdp &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;runif&lt;/span&gt;(N, &lt;span style=&#34;color:#ae81ff&#34;&gt;15&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;22&lt;/span&gt;),
    growth_units &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;runif&lt;/span&gt;(N, &lt;span style=&#34;color:#ae81ff&#34;&gt;0.25&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0.5&lt;/span&gt;),
    growth_error &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;runif&lt;/span&gt;(N, &lt;span style=&#34;color:#ae81ff&#34;&gt;0.15&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0.5&lt;/span&gt;),
    nest &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;
  ),
  country_years &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;cross_levels&lt;/span&gt;(
    by &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;join&lt;/span&gt;(years, countries),
    gdp_measure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; base_gdp &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; year_shock &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; (ts_year &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; growth_units) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
      &lt;span style=&#34;color:#a6e22e&#34;&gt;rnorm&lt;/span&gt;(N, sd &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; growth_error)
  )
) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Scale up the years to be actual years instead of 1, 2, 3, etc.&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(year &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; ts_year &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2010&lt;/span&gt;)

&lt;span style=&#34;color:#a6e22e&#34;&gt;head&lt;/span&gt;(panel_global_data)
&lt;span style=&#34;color:#75715e&#34;&gt;##   years ts_year year_shock countries base_gdp growth_units growth_error country_years gdp_measure year&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1    01       0   -0.36212         1    17.22       0.4526       0.3096            01       17.07 2010&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2    02       1    0.08323         1    17.22       0.4526       0.3096            02       17.55 2011&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3    03       2    0.32533         1    17.22       0.4526       0.3096            03       18.72 2012&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 4    04       3   -0.70371         1    17.22       0.4526       0.3096            04       17.99 2013&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 5    05       4    0.12874         1    17.22       0.4526       0.3096            05       19.25 2014&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 6    06       5    0.15182         1    17.22       0.4526       0.3096            06       19.63 2015&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(panel_global_data, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; year, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; gdp_measure, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; countries)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_line&lt;/span&gt;() &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;labs&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Year&amp;#34;&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Log GDP&amp;#34;&lt;/span&gt;, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Countries&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/01-datos_files/figure-html/fake-panel-data-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;That all just scratches the surface of what &lt;strong&gt;fabricatr&lt;/strong&gt; can do. Again, check the examples and documentation and play around with it to see what else it can do.&lt;/p&gt;
&lt;h3 id=&#34;wakefield&#34;&gt;wakefield&lt;/h3&gt;
&lt;p&gt;The &lt;a href=&#34;https://github.com/trinker/wakefield&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;wakefield&lt;/strong&gt; package&lt;/a&gt; is jokingly named after &lt;a href=&#34;https://en.wikipedia.org/wiki/Andrew_Wakefield&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Andrew Wakefield&lt;/a&gt;, the British researcher who invented fake data to show that the MMR vaccine causes autism. This package lets you quickly generate random fake datasets. It has a bunch of pre-set column possibilities, like age, color, Likert scales, political parties, religion, and so on, and you can also use standard R functions like &lt;code&gt;rnorm()&lt;/code&gt;, &lt;code&gt;rbinom()&lt;/code&gt;, or &lt;code&gt;rbeta()&lt;/code&gt;. It also lets you create repeated measures (1st grade score, 2nd grade score, 3rd grade score, etc.) and build correlations between variables.&lt;/p&gt;
&lt;p&gt;You should &lt;em&gt;definitely&lt;/em&gt; &lt;a href=&#34;https://github.com/trinker/wakefield&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;look at the documentation&lt;/a&gt; to see a ton of examples of how it all works. Here&amp;rsquo;s a basic example:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(wakefield)

&lt;span style=&#34;color:#a6e22e&#34;&gt;set.seed&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1234&lt;/span&gt;)

wakefield_data &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;r_data_frame&lt;/span&gt;(
  n &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;500&lt;/span&gt;,
  id,
  treatment &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rbinom&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0.3&lt;/span&gt;),  &lt;span style=&#34;color:#75715e&#34;&gt;# 30% chance of being in treatment&lt;/span&gt;
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rnorm&lt;/span&gt;(mean &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;500&lt;/span&gt;, sd &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;100&lt;/span&gt;),
  race,
  age &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;age&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;18&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;45&lt;/span&gt;),
  sex &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;sex_inclusive&lt;/span&gt;(),
  survey_question_1 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;likert&lt;/span&gt;(),
  survey_question_2 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;likert&lt;/span&gt;()
)
&lt;span style=&#34;color:#a6e22e&#34;&gt;head&lt;/span&gt;(wakefield_data)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 6 x 8&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   ID    treatment outcome Race       age sex      survey_question_1 survey_question_2&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;     &amp;lt;int&amp;gt;   &amp;lt;dbl&amp;gt; &amp;lt;fct&amp;gt;    &amp;lt;int&amp;gt; &amp;lt;fct&amp;gt;    &amp;lt;ord&amp;gt;             &amp;lt;ord&amp;gt;            &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 001           0    544. White       35 Intersex Disagree          Agree            &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 002           0    606. White       38 Male     Disagree          Strongly Disagree&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3 003           0    545. White       38 Female   Neutral           Strongly Agree   &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 4 004           0    566. Black       45 Female   Strongly Agree    Disagree         &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 5 005           1    386. Black       41 Male     Disagree          Agree            &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 6 006           0    463. Hispanic    20 Female   Disagree          Agree&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;faux&#34;&gt;faux&lt;/h3&gt;
&lt;p&gt;The &lt;a href=&#34;https://debruine.github.io/faux/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;faux&lt;/strong&gt; package&lt;/a&gt; does some really neat things. We can create data that has built-in correlations without going through all the math. For instance, let&amp;rsquo;s say we have 3 variables A, B, and C that are normally distributed with these parameters:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;A&lt;/strong&gt;: mean = 10, sd = 2&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;B&lt;/strong&gt;: mean = 5, sd = 1&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;C&lt;/strong&gt;: mean = 20, sd = 5&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We want A to correlate with B at r = 0.8 (highly correlated), A to correlate with C at r = 0.3 (less correlated), and B to correlate with C at r = 0.4 (moderately correlated). Here&amp;rsquo;s how to create that data with &lt;strong&gt;faux&lt;/strong&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(faux)

&lt;span style=&#34;color:#a6e22e&#34;&gt;set.seed&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1234&lt;/span&gt;)

faux_data &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rnorm_multi&lt;/span&gt;(n &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;100&lt;/span&gt;,
                         mu &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;),
                         sd &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;),
                         r &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;0.8&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0.3&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0.4&lt;/span&gt;),
                         varnames &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;B&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;C&amp;#34;&lt;/span&gt;),
                         empirical &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;)
&lt;span style=&#34;color:#a6e22e&#34;&gt;head&lt;/span&gt;(faux_data)
&lt;span style=&#34;color:#75715e&#34;&gt;##        A     B     C&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 11.742 5.612 25.89&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2  9.060 4.177 18.79&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3  9.373 4.466 14.57&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 4 10.913 5.341 31.88&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 5  8.221 4.039 18.14&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 6 10.095 4.517 17.43&lt;/span&gt;

&lt;span style=&#34;color:#75715e&#34;&gt;# Check averages and standard deviations&lt;/span&gt;
faux_data &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#75715e&#34;&gt;# Convert to long/tidy so we can group and summarize&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;pivot_longer&lt;/span&gt;(cols &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;everything&lt;/span&gt;(), names_to &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;variable&amp;#34;&lt;/span&gt;, values_to &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;value&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;group_by&lt;/span&gt;(variable) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;summarize&lt;/span&gt;(mean &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;mean&lt;/span&gt;(value),
            sd &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;sd&lt;/span&gt;(value))
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 3 x 3&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   variable  mean    sd&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;    &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 A        10.2   2.08&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 B         5.02  1.00&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3 C        20.8   5.01&lt;/span&gt;

&lt;span style=&#34;color:#75715e&#34;&gt;# Check correlations&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;cor&lt;/span&gt;(faux_data&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;A, faux_data&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;B)
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] 0.808&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;cor&lt;/span&gt;(faux_data&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;A, faux_data&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;C)
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] 0.301&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;cor&lt;/span&gt;(faux_data&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;B, faux_data&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;C)
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] 0.4598&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;faux&lt;/strong&gt; can do a ton of other things too, so make sure you check out &lt;a href=&#34;https://debruine.github.io/faux/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;the documentation and all the articles with examples here&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Importar y explorar datos</title>
      <link>/content/03-content/</link>
      <pubDate>Mon, 23 Aug 2021 00:00:00 +0000</pubDate>
      <guid>/content/03-content/</guid>
      <description>&lt;h2 id=&#34;readings&#34;&gt;Readings&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-book&#34;&gt;&lt;/i&gt; Chapter 2 in &lt;em&gt;Impact Evaluation in Practice&lt;/em&gt;&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-book&#34;&gt;&lt;/i&gt; Chapter 2 in &lt;em&gt;Evaluation: A Systematic Approach&lt;/em&gt;.&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt; This is available on iCollege.&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-book&#34;&gt;&lt;/i&gt; Chapter 3 in &lt;em&gt;Evaluation: A Systematic Approach&lt;/em&gt;.&lt;sup id=&#34;fnref:3&#34;&gt;&lt;a href=&#34;#fn:3&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;3&lt;/a&gt;&lt;/sup&gt; This is available on iCollege.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;slides&#34;&gt;Slides&lt;/h2&gt;
&lt;p&gt;The slides for today’s lesson are available online as an HTML file. Use the buttons below to open the slides either as an interactive website or as a static PDF (for printing or storing for later). You can also click in the slides below and navigate through them with your left and right arrow keys.&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;btn btn-primary btn-lg&#34; target=&#34;_blank&#34; href=&#34;/slides/03-slides.html&#34;&gt;&lt;i class=&#34;fas fa-external-link-alt&#34;&gt;&lt;/i&gt; View all slides in new window&lt;/a&gt; &lt;a class=&#34;btn btn-primary btn-lg&#34; target=&#34;_blank&#34; href=&#34;/slides/03-slides.pdf&#34; role=&#34;button&#34;&gt;&lt;i class=&#34;far fa-file-pdf&#34;&gt;&lt;/i&gt; Download PDF of all slides&lt;/a&gt;&lt;/p&gt;
&lt;ul class=&#34;nav nav-tabs&#34; id=&#34;slide-tabs&#34; role=&#34;tablist&#34;&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link active&#34; id=&#34;introduction-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#introduction&#34; role=&#34;tab&#34; aria-controls=&#34;introduction&#34; aria-selected=&#34;true&#34;&gt;Introduction&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link&#34; id=&#34;reproducibility-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#reproducibility&#34; role=&#34;tab&#34; aria-controls=&#34;reproducibility&#34; aria-selected=&#34;false&#34;&gt;Reproducibility&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link&#34; id=&#34;program-theories-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#program-theories&#34; role=&#34;tab&#34; aria-controls=&#34;program-theories&#34; aria-selected=&#34;false&#34;&gt;Program theories&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link&#34; id=&#34;logic-models--results-chains-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#logic-models--results-chains&#34; role=&#34;tab&#34; aria-controls=&#34;logic-models--results-chains&#34; aria-selected=&#34;false&#34;&gt;Logic models &amp; results chains&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;slide-tabs&#34; class=&#34;tab-content&#34;&gt;
&lt;div id=&#34;introduction&#34; class=&#34;tab-pane fade show active&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;introduction-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/03-slides.html#1&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;reproducibility&#34; class=&#34;tab-pane fade&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;reproducibility-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/03-slides.html#reproducibility&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;program-theories&#34; class=&#34;tab-pane fade&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;program-theories-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/03-slides.html#program-theories&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;logic-models--results-chains&#34; class=&#34;tab-pane fade&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;logic-models--results-chains-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/03-slides.html#logic-models&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;fyi&#34;&gt;
&lt;strong&gt;Fun fact&lt;/strong&gt;: If you type &lt;kbd&gt;?&lt;/kbd&gt; (or &lt;kbd&gt;shift&lt;/kbd&gt; + &lt;kbd&gt;/&lt;/kbd&gt;) while going through the slides, you can see a list of special slide-specific commands.
&lt;/div&gt;
&lt;h2 id=&#34;videos&#34;&gt;Videos&lt;/h2&gt;
&lt;p&gt;Videos for each section of the lecture are &lt;a href=&#34;https://www.youtube.com/playlist?list=PLS6tnpTr39sHjKJRcD-ebQUbcaFhc0cQH&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;available at this YouTube playlist&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=dwsCSqczNng&amp;amp;list=PLS6tnpTr39sHjKJRcD-ebQUbcaFhc0cQH&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Introduction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=XkHUQJp5fh0&amp;amp;list=PLS6tnpTr39sHjKJRcD-ebQUbcaFhc0cQH&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Reproducibility&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=Uos8RumBrzE&amp;amp;list=PLS6tnpTr39sHjKJRcD-ebQUbcaFhc0cQH&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Program theories&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=8CJ7M2dTmF4&amp;amp;list=PLS6tnpTr39sHjKJRcD-ebQUbcaFhc0cQH&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Logic models &amp;amp; results chains&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can also watch the playlist (and skip around to different sections) here:&lt;/p&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;https://www.youtube.com/embed/playlist?list=PLS6tnpTr39sHjKJRcD-ebQUbcaFhc0cQH&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;h2 id=&#34;optional-lab&#34;&gt;Optional lab&lt;/h2&gt;
&lt;p&gt;Here are all the materials we used in the lab:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://rstudio.cloud/spaces/112607/project/2107489&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;RStudio.cloud project&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://evalsp21.classes.andrewheiss.com/projects/01_lab/slides/01_lab.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Slides&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://evalsp21.classes.andrewheiss.com/projects/01_lab.zip&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Project &lt;code&gt;.zip&lt;/code&gt; file&lt;/a&gt; (the slides are in here too)&lt;/li&gt;
&lt;/ul&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Paul J. Gertler et al., &lt;em&gt;Impact Evaluation in Practice&lt;/em&gt;, 2nd ed. (Inter-American Development Bank; World Bank, 2016), &lt;a href=&#34;https://openknowledge.worldbank.org/handle/10986/25030&#34;&gt;https://openknowledge.worldbank.org/handle/10986/25030&lt;/a&gt;. &lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Peter H. Rossi, Mark W. Lipsey, and Gary T. Henry, &lt;em&gt;Evaluation: A Systematic Approach&lt;/em&gt;, 8th ed. (Los Angeles: Sage, 2019). &lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:3&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Ibid. &lt;a href=&#34;#fnref:3&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
    </item>
    
    <item>
      <title>Importar, explorar y limpiar datos</title>
      <link>/example/03-practico/</link>
      <pubDate>Mon, 23 Aug 2021 00:00:00 +0000</pubDate>
      <guid>/example/03-practico/</guid>
      <description>&lt;h2 id=&#34;dags-with-dagittynet&#34;&gt;DAGs with dagitty.net&lt;/h2&gt;
&lt;p&gt;The easiest way to quickly build DAGs and find adjustment sets and testable implications is to use &lt;a href=&#34;http://dagitty.net/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;dagitty.net&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This video shows how to use it:&lt;/p&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;https://www.youtube.com/embed/3euqrnD9w7c&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;h2 id=&#34;dags-with-r-ggdag-and-dagitty&#34;&gt;DAGs with R, ggdag, and dagitty&lt;/h2&gt;
&lt;p&gt;You can use the &lt;a href=&#34;https://ggdag.malco.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;ggdag&lt;/strong&gt;&lt;/a&gt; and &lt;a href=&#34;http://dagitty.net/primer/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;dagitty&lt;/strong&gt;&lt;/a&gt; packages in R to build and work with DAGs too. I typically draw an initial DAG in my browser with dagitty.net and then I rewrite it in code in R so that it&amp;rsquo;s more official and formal and reproducible.&lt;/p&gt;
&lt;h3 id=&#34;live-coding-example&#34;&gt;Live coding example&lt;/h3&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;https://www.youtube.com/embed/uoAjyyToUTE&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;h3 id=&#34;basic-dags&#34;&gt;Basic DAGs&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;(This is a heavily cleaned up and annotated version of the code from the video.)&lt;/em&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Load packages&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(tidyverse)  &lt;span style=&#34;color:#75715e&#34;&gt;# For dplyr, ggplot, and friends&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(ggdag)      &lt;span style=&#34;color:#75715e&#34;&gt;# For plotting DAGs&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(dagitty)    &lt;span style=&#34;color:#75715e&#34;&gt;# For working with DAG logic&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The general process for making and working with DAGs in R is to create a DAG object with &lt;code&gt;dagify()&lt;/code&gt; and then plot it with &lt;code&gt;ggdag()&lt;/code&gt;. The documentation for &lt;strong&gt;ggdag&lt;/strong&gt; is really good and helpful and full of examples. Check these pages for all sorts of additional details:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://ggdag.malco.io/articles/intro-to-ggdag.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&amp;ldquo;An introduction to ggdag&amp;rdquo;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://ggdag.malco.io/articles/intro-to-dags.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&amp;ldquo;An introduction to directed acyclic graphs&amp;rdquo;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://ggdag.malco.io/reference/index.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;List of all ggdag-related functions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The syntax for &lt;code&gt;dagify()&lt;/code&gt; is similar to the formula syntax you&amp;rsquo;ve been using for building regression models with &lt;code&gt;lm()&lt;/code&gt;. The formulas you use in &lt;code&gt;dagify()&lt;/code&gt; indicate the relationships between nodes.&lt;/p&gt;
&lt;p&gt;For instance, in this DAG, &lt;code&gt;y&lt;/code&gt; is caused by &lt;code&gt;x&lt;/code&gt;, &lt;code&gt;a&lt;/code&gt;, and &lt;code&gt;b&lt;/code&gt; (&lt;code&gt;y ~ x + a + b&lt;/code&gt;), and &lt;code&gt;x&lt;/code&gt; is caused by &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; (&lt;code&gt;x ~ a + b&lt;/code&gt;). This means that &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; are confounders. Use the &lt;code&gt;exposure&lt;/code&gt; and &lt;code&gt;outcome&lt;/code&gt; arguments to specify which nodes are the exposure (or treatment/intervention/program) and the outcome.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Create super basic DAG&lt;/span&gt;
simple_dag &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  y &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  x &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;x&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;y&amp;#34;&lt;/span&gt;
)

&lt;span style=&#34;color:#75715e&#34;&gt;# Adding a theme_dag() layer to the plot makes it have a white background with no axis labels&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag&lt;/span&gt;(simple_dag) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/03-practico_files/figure-html/super-basic-dag-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;If you want to plot which nodes are the exposure and outcome, use &lt;code&gt;ggdag_status()&lt;/code&gt; instead:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(simple_dag) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/03-practico_files/figure-html/simple-status-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;layouts-and-manual-coordinates&#34;&gt;Layouts and manual coordinates&lt;/h3&gt;
&lt;p&gt;Notice how the layout is different in both of those graphs. By default, &lt;code&gt;ggdag()&lt;/code&gt; positions the nodes randomly every time using a network algorithm. You can change the algorithm by using the &lt;code&gt;layout&lt;/code&gt; argument: &lt;code&gt;ggdag(simple_dag, layout = &amp;quot;nicely&amp;quot;)&lt;/code&gt;. You can see a full list of possible algorithms by running &lt;code&gt;?layout_tbl_graph_igraph&lt;/code&gt; in the console.&lt;/p&gt;
&lt;p&gt;Alternatively, you can specify your own coordinates so that the nodes are positioned in the same place every time. Do this with the &lt;code&gt;coords&lt;/code&gt; argument in &lt;code&gt;dagify()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The best way to figure out what these numbers should be is to draw the DAG on paper or on a whiteboard and add a grid to it and then figure out the coordinates. For instance, in this DAG there are three rows and three columns: &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt; go in the middle row (row 2) while &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; go in the middle column (column 2). It can also be helpful to not include &lt;code&gt;theme_dag()&lt;/code&gt; at first so you can see the numbers for the underlying grid. Once you have everything positioned correctly, add &lt;code&gt;theme_dag()&lt;/code&gt; to clean it up.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;simple_dag_with_coords &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  y &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  x &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;x&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;y&amp;#34;&lt;/span&gt;,
  coords &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;),
                y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;))
)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(simple_dag_with_coords) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/03-practico_files/figure-html/dag-with-coords-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;node-names-and-labels&#34;&gt;Node names and labels&lt;/h3&gt;
&lt;p&gt;The variable names you use do not have to be limited to just &lt;code&gt;x&lt;/code&gt;, &lt;code&gt;y&lt;/code&gt;, and other lowercase letters. You can any names you want, as long as there are no spaces.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;dag_with_var_names &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; treatment &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; confounder1 &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; confounder2,
  treatment &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; confounder1 &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; confounder2,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;treatment&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;outcome&amp;#34;&lt;/span&gt;
)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(dag_with_var_names) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/03-practico_files/figure-html/dag-with-names-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;However, unless you use very short names, it is likely that the text will not fit inside the nodes. To get around this, you can add labels to the nodes using the &lt;code&gt;labels&lt;/code&gt; argument in &lt;code&gt;dagify()&lt;/code&gt;. Plot the labels by setting &lt;code&gt;use_labels = &amp;quot;label&amp;quot;&lt;/code&gt; in &lt;code&gt;ggdag()&lt;/code&gt;. You can turn off the text in the nodes with &lt;code&gt;text = FALSE&lt;/code&gt; in &lt;code&gt;ggdag()&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;simple_dag_with_coords_and_labels &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  y &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  x &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; a &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; b,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;x&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;y&amp;#34;&lt;/span&gt;,
  labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Outcome&amp;#34;&lt;/span&gt;, x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Treatment&amp;#34;&lt;/span&gt;,
             a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Confounder 1&amp;#34;&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Confounder 2&amp;#34;&lt;/span&gt;),
  coords &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;),
                y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, a &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, b &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;))
)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(simple_dag_with_coords_and_labels,
             use_labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;, text &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;guides&lt;/span&gt;(fill &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Disable the legend&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/03-practico_files/figure-html/dag-with-labels-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;paths-and-adjustment-sets&#34;&gt;Paths and adjustment sets&lt;/h3&gt;
&lt;p&gt;R can also perform analysis on DAG objects. For example, we can find all the testable implications from the DAG using the &lt;code&gt;impliedConditionalIndependencies()&lt;/code&gt; function from the &lt;strong&gt;dagitty&lt;/strong&gt; package. For this simple DAG, there is only one: &lt;code&gt;a&lt;/code&gt; should be independent of &lt;code&gt;b&lt;/code&gt;. If we had a dataset with columns for each of these variables, we could check if this is true by running &lt;code&gt;cor(a, b)&lt;/code&gt; to see if the two are related.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;impliedConditionalIndependencies&lt;/span&gt;(simple_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## a _||_ b&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We can also find all the paths between &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt; using the &lt;code&gt;paths()&lt;/code&gt; function from the &lt;strong&gt;dagitty&lt;/strong&gt; package. We can see that there are three open paths between &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;paths&lt;/span&gt;(simple_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## $paths&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] &amp;#34;x -&amp;gt; y&amp;#34;      &amp;#34;x &amp;lt;- a -&amp;gt; y&amp;#34; &amp;#34;x &amp;lt;- b -&amp;gt; y&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## $open&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] TRUE TRUE TRUE&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The first open path is fine—we want a single &lt;em&gt;d&lt;/em&gt;-connected relationship between treatment and outcome—but the other two indicate that there is confounding from &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt;. We can see what each of these paths are with the &lt;code&gt;ggdag_paths()&lt;/code&gt; function from the &lt;strong&gt;ggdag&lt;/strong&gt; package:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_paths&lt;/span&gt;(simple_dag_with_coords) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/03-practico_files/figure-html/plot-dag-paths-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Instead of listing out all the possible paths and identifying backdoors by hand, you can use the &lt;code&gt;adjustmentSets()&lt;/code&gt; function in the &lt;strong&gt;dagitty&lt;/strong&gt; package to programmatically find all the nodes that need to be adjusted. Here we see that both &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; need to be controlled for to isolate the &lt;code&gt;x -&amp;gt; y&lt;/code&gt; relationship.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;adjustmentSets&lt;/span&gt;(simple_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## { a, b }&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You can also visualize the adjustment sets with &lt;code&gt;ggdag_adjustment_set()&lt;/code&gt; in the &lt;strong&gt;ggdag&lt;/strong&gt; package. Make sure you set &lt;code&gt;shadow = TRUE&lt;/code&gt; to draw the arrows coming out of the adjusted nodes—by default, those are not included.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_adjustment_set&lt;/span&gt;(simple_dag_with_coords, shadow &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/03-practico_files/figure-html/plot-adjustment-sets-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;R will find minimally sufficient adjustment sets, which includes the fewest number of adjustments needed to close all backdoors between &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt;. In this example DAG there was only one set of variables (&lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt;), but in other situations there could be many possible sets, or none if the causal effect is not identifiable.&lt;/p&gt;
&lt;h3 id=&#34;plot-dag-from-dagittynet-with-ggdag&#34;&gt;Plot DAG from dagitty.net with &lt;code&gt;ggdag()&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;If you use &lt;a href=&#34;http://dagitty.net/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;dagitty.net&lt;/a&gt; to draw a DAG, you&amp;rsquo;ll notice that it generates some code for you in the model code section:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/example/dagitty-code.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;You can copy that &lt;code&gt;dag{ ... }&lt;/code&gt; code and paste it into R to define a DAG object rather than use the &lt;code&gt;dagify()&lt;/code&gt; function. To do this, use the &lt;code&gt;dagitty()&lt;/code&gt; function from the &lt;strong&gt;dagitty&lt;/strong&gt; library and include the whole generated model code in single quotes (&lt;code&gt;&#39;&#39;&lt;/code&gt;):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;model_from_dagitty &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagitty&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;dag {
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;bb=&amp;#34;0,0,1,1&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; [pos=&amp;#34;0.809,0.306&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; [pos=&amp;#34;0.810,0.529&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some outcome&amp;#34; [outcome,pos=&amp;#34;0.918,0.432&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some treatment&amp;#34; [exposure,pos=&amp;#34;0.681,0.426&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; -&amp;gt; &amp;#34;Some treatment&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; -&amp;gt; &amp;#34;Some treatment&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some treatment&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;}
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&lt;/span&gt;)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag&lt;/span&gt;(model_from_dagitty) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/03-practico_files/figure-html/code-from-dagitty-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;By default it&amp;rsquo;s going to look ugly because (1) the node labels don&amp;rsquo;t fit, and (2) slight differences in the coordinates make it so the nodes don&amp;rsquo;t perfectly align with each other. To fix coordinate alignment, you can modify the numbers in the generated DAG code. Here I rounded the numbers so that they&amp;rsquo;re all 0.3, 0.8, etc.&lt;/p&gt;
&lt;p&gt;To fix the label issue, you can add the &lt;code&gt;use_labels&lt;/code&gt; argument like normally. Only here, you can&amp;rsquo;t specify &lt;code&gt;use_labels = &amp;quot;label&amp;quot;&lt;/code&gt;. Instead, when you specify a DAG using dagitty&amp;rsquo;s code like this, the column in the underlying dataset that contains the labels is named &lt;code&gt;name&lt;/code&gt;, so you need to use &lt;code&gt;use_labels = &amp;quot;name&amp;quot;&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Other &lt;code&gt;ggdag()&lt;/code&gt; variations like &lt;code&gt;ggdag_status()&lt;/code&gt; will still work fine.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;model_from_dagitty_rounded &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagitty&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;dag {
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;bb=&amp;#34;0,0,1,1&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; [pos=&amp;#34;0.8,0.3&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; [pos=&amp;#34;0.8,0.5&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some outcome&amp;#34; [outcome,pos=&amp;#34;0.9,0.4&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some treatment&amp;#34; [exposure,pos=&amp;#34;0.7,0.4&amp;#34;]
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;A confounder&amp;#34; -&amp;gt; &amp;#34;Some treatment&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Another confounder&amp;#34; -&amp;gt; &amp;#34;Some treatment&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Some treatment&amp;#34; -&amp;gt; &amp;#34;Some outcome&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;}
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&lt;/span&gt;)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(model_from_dagitty_rounded, text &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, use_labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;guides&lt;/span&gt;(color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Turn off legend&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/03-practico_files/figure-html/code-from-dagitty-better-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;mosquito-net-example&#34;&gt;Mosquito net example&lt;/h2&gt;
&lt;h3 id=&#34;conditional-independencies&#34;&gt;Conditional independencies&lt;/h3&gt;
&lt;p&gt;You can test if your stated relationships are correct by looking at the conditional independencies that are implied by the DAG. In dagitty.net, these appear in the sidebar in the &amp;ldquo;Testable implications&amp;rdquo; section. To show how this works, we&amp;rsquo;ll use a simulated dataset that I generated about a fictional mosquito net program. Download the data here if you want to follow along:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/data/mosquito_nets.csv&#34;&gt;&lt;i class=&#34;fas fa-table&#34;&gt;&lt;/i&gt; &lt;code&gt;mosquito_nets.csv&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Researchers are interested in whether using mosquito nets decreases an individual&amp;rsquo;s risk of contracting malaria. They have collected data from 1,752 households in an unnamed country and have variables related to environmental factors, individual health, and household characteristics. Additionally, this country has a special government program that provides free mosquito nets to households that meet specific requirements: to qualify for the program, there must be more than 4 members of the household, and the household&amp;rsquo;s monthly income must be lower than $700 a month. Households are not automatically enrolled in the program, and many do not use it. The data is not experimental—researchers have no control over who uses mosquito nets, and individual households make their own choices over whether to apply for free nets or buy their own nets, as well as whether they use the nets if they have them.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;mosquito_dag &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(
  malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; net &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; health &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; temperature &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; resistance,
  net &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; health &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; temperature &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; eligible &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; household,
  eligible &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; household,
  health &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; income,
  exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;net&amp;#34;&lt;/span&gt;,
  outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;malaria_risk&amp;#34;&lt;/span&gt;,
  coords &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;7&lt;/span&gt;, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, income &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;, health &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;,
                      temperature &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;, resistance &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;8.5&lt;/span&gt;, eligible &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, household &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;),
                y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, income &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, health &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,
                      temperature &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, resistance &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, eligible &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, household &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;)),
  labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Risk of malaria&amp;#34;&lt;/span&gt;, net &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Mosquito net&amp;#34;&lt;/span&gt;, income &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Income&amp;#34;&lt;/span&gt;,
             health &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Health&amp;#34;&lt;/span&gt;, temperature &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Nighttime temperatures&amp;#34;&lt;/span&gt;,
             resistance &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Insecticide resistance&amp;#34;&lt;/span&gt;,
             eligible &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Eligible for program&amp;#34;&lt;/span&gt;, household &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Number in household&amp;#34;&lt;/span&gt;)
)

&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(mosquito_dag, use_labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;, text &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;guides&lt;/span&gt;(fill &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Disable the legend&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/03-practico_files/figure-html/build-mosquito-dag-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The causal graph above  outlines the complete relationship between mosquito net use and risk of malaria. Each node in the DAG is a column in the dataset collected by the researchers, and includes the following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Malaria risk (&lt;code&gt;malaria_risk&lt;/code&gt;): The likelihood that someone in the household will be infected with malaria. Measured on a scale of 0–100, with higher values indicating higher risk.&lt;/li&gt;
&lt;li&gt;Mosquito net (&lt;code&gt;net&lt;/code&gt; and &lt;code&gt;net_num&lt;/code&gt;): A binary variable indicating if the household used mosquito nets.&lt;/li&gt;
&lt;li&gt;Eligible for program (&lt;code&gt;eligible&lt;/code&gt;): A binary variable indicating if the household is eligible for the free net program.&lt;/li&gt;
&lt;li&gt;Income (&lt;code&gt;income&lt;/code&gt;): The household&amp;rsquo;s monthly income, in US dollars.&lt;/li&gt;
&lt;li&gt;Nighttime temperatures (&lt;code&gt;temperature&lt;/code&gt;): The average temperature at night, in Celsius.&lt;/li&gt;
&lt;li&gt;Health (&lt;code&gt;health&lt;/code&gt;): Self-reported healthiness in the household. Measured on a scale of 0–100, with higher values indicating better health.&lt;/li&gt;
&lt;li&gt;Number in household (&lt;code&gt;household&lt;/code&gt;): Number of people living in the household.&lt;/li&gt;
&lt;li&gt;Insecticide resistance (&lt;code&gt;resistance&lt;/code&gt;): Some strains of mosquitoes are more resistant to insecticide and thus pose a higher risk of infecting people with malaria. This is measured on a scale of 0–100, with higher values indicating higher resistance.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;According to the DAG, malaria risk is caused by income, temperatures, health, insecticide resistance, and mosquito net use. People who live in hotter regions, have lower incomes, have worse health, are surrounded by mosquitoes with high resistance to insecticide, and who do not use mosquito nets are at higher risk of contracting malaria than those who do not. Mosquito net use is caused by income, nighttime temperatures, health, the number of people living in the house, and eligibility for the free net program. People who live in areas that are cooler at night, have higher incomes, have better health, have more people in the home, and are eligible for free government nets are more likely to regularly use nets than those who do not. The DAG also shows that eligibility for the free net program is caused by income and household size, since households must meet specific thresholds to qualify.&lt;/p&gt;
&lt;p&gt;First, let&amp;rsquo;s download the dataset, put in a folder named &lt;code&gt;data&lt;/code&gt;, and load it:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/data/mosquito_nets.csv&#34;&gt;&lt;i class=&#34;fas fa-table&#34;&gt;&lt;/i&gt; &lt;code&gt;mosquito_nets.csv&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Load the data.&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# It&amp;#39;d be a good idea to click on the &amp;#34;mosquito_nets.csv&amp;#34; object in the&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# Environment panel in RStudio to see what the data looks like after you load it&lt;/span&gt;
mosquito_nets &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;read_csv&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;data/mosquito_nets.csv&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We can use this data to check if the relationships defined by our DAG reflect reality. Recall that &lt;em&gt;d&lt;/em&gt;-separation implies that nodes are statistically independent of each other and do not transfer associational information. If you draw the mosquito net DAG with dagitty.net, or if you run &lt;code&gt;impliedConditionalIndependencies()&lt;/code&gt; in R, you can see a list of all the implied conditional independencies.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;impliedConditionalIndependencies&lt;/span&gt;(mosquito_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## elgb _||_ hlth | incm&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## elgb _||_ mlr_ | hlth, incm, net, tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## elgb _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## elgb _||_ tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hlth _||_ hshl&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hlth _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hlth _||_ tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hshl _||_ incm&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hshl _||_ mlr_ | hlth, incm, net, tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hshl _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## hshl _||_ tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## incm _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## incm _||_ tmpr&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## net _||_ rsst&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## rsst _||_ tmpr&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The &lt;code&gt;_||_&lt;/code&gt; symbol in the output here is the &lt;code&gt;\(\perp\)&lt;/code&gt; symbol, which means &amp;ldquo;independent of&amp;rdquo;. The &lt;code&gt;|&lt;/code&gt; in the output means &amp;ldquo;given&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;In the interest of space, we will not verify all these implied independencies, but we can test a few of them:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;\(\text{Health} \perp \text{Household members}\)&lt;/code&gt;: (Read as &lt;em&gt;&amp;ldquo;Health is independent of household member count&amp;rdquo;&lt;/em&gt;.) Health should be independent of the number of people in each household. In the data, the two variables should not be correlated. This is indeed the case:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cor&lt;/span&gt;(mosquito_nets&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;health, mosquito_nets&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;household)
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] 9.8e-05&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;\(\text{Income} \perp \text{Insecticide resistance}\)&lt;/code&gt;: (Read as &lt;em&gt;&amp;ldquo;Income is independent of insecticide resistance&amp;rdquo;&lt;/em&gt;.) Income should be independent of insecticide resistance. This is again true:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cor&lt;/span&gt;(mosquito_nets&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;income, mosquito_nets&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;resistance)
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] 0.014&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;\(\text{Malaria risk} \perp \text{Household members}\ |\ \text{Health, Income, Bed net use, Temperature}\)&lt;/code&gt;: (Read as &lt;em&gt;&amp;ldquo;Malaria risk is independent of house member count given health, income, bed net use, and temperature&amp;rdquo;&lt;/em&gt;.) Malaria risk should be independent of the number of household members given similar levels of health, income, mosquito net use, and nighttime temperatures. We cannot use &lt;code&gt;cor()&lt;/code&gt; to test this implication, since there are many variables involved, but we can use a regression model to check if the number of household members is significantly related to malaria risk. It is not significant ($t = -0.17$, &lt;code&gt;\(p = 0.863\)&lt;/code&gt;), which means the two are independent, as expected.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(malaria_risk &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; household &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; health &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; income &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; net &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; temperature,
   data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mosquito_nets) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  broom&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;()
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 6 x 5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   term        estimate std.error statistic   p.value&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 (Intercept)  76.2      0.966      78.9   0.       &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 household    -0.0155   0.0893     -0.173 8.63e-  1&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3 health        0.148    0.0107     13.9   9.75e- 42&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 4 income       -0.0751   0.00104   -72.6   0.       &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 5 netTRUE     -10.4      0.266     -39.2   2.63e-241&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 6 temperature   1.01     0.0310     32.5   1.88e-181&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We can check all the other conditional independencies to see if the DAG captures the reality of the full system of factors that influence mosquito net use and malaria risk. If there are substantial and significant correlations between nodes that should be independent, there is likely an issue with the specification of the DAG. Return to the theory of how the phenomena are generated and refine the DAG more.&lt;/p&gt;
&lt;h3 id=&#34;mosquito-net-adjustment-sets&#34;&gt;Mosquito net adjustment sets&lt;/h3&gt;
&lt;p&gt;There is a direct path between mosquito net use and the risk of malaria, but the effect is not causally identified due to several other open paths. We can either list out all the paths and find which open paths have arrows pointing backwards into the mosquito net node (run &lt;code&gt;paths(mosquito_dag)&lt;/code&gt; to see these results), or we can let R find the appropriate adjustment sets automatically:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;adjustmentSets&lt;/span&gt;(mosquito_dag)
&lt;span style=&#34;color:#75715e&#34;&gt;## { health, income, temperature }&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Based on the relationships between all the nodes in the DAG, adjusting for health, income, and temperature is enough to close all backdoors and identify the relationship between net use and malaria risk. Importantly, we do not need to worry about any of the nodes related to the government program for free nets, since those nodes are not &lt;em&gt;d&lt;/em&gt;-connected to malaria risk. We only need to worry about confounding relationships.&lt;/p&gt;
&lt;p&gt;We can confirm this graphically with &lt;code&gt;ggdag_adjustment_set()&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_adjustment_set&lt;/span&gt;(mosquito_dag, shadow &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;,
                     use_labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;, text &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/03-practico_files/figure-html/plot-mosquito-adjustment-fake-1.png&#34; width=&#34;75%&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Bienvenido/a a R, RStudio y tidyverse</title>
      <link>/example/02-practico/</link>
      <pubDate>Mon, 16 Aug 2021 00:00:00 +0000</pubDate>
      <guid>/example/02-practico/</guid>
      <description>&lt;script src=&#34;/rmarkdown-libs/kePrint/kePrint.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;/rmarkdown-libs/lightable/lightable.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;p&gt;If you want to follow along with this example, you can download the data below:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/projects/regression-example/data/sat_gpa.csv&#34;&gt;&lt;i class=&#34;fas fa-table&#34;&gt;&lt;/i&gt; &lt;code&gt;sat_gpa.csv&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can also download a complete &lt;code&gt;.zip&lt;/code&gt; file with a finished R Markdown file that you can knit and play with on your own:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/projects/regression-example.zip&#34;&gt;&lt;i class=&#34;fas fa-file-archive&#34;&gt;&lt;/i&gt; &lt;code&gt;regression-example.zip&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;live-coding-example&#34;&gt;Live coding example&lt;/h2&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;https://www.youtube.com/embed/E-Zz5S5NOUo&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;h2 id=&#34;complete-code&#34;&gt;Complete code&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;(This is a heavily cleaned up and annotated version of the code from the video.)&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&#34;introduction&#34;&gt;Introduction&lt;/h3&gt;
&lt;p&gt;SAT scores have long been a major factor in college admissions, under the assumption that students with higher test scores will perform better in college and receive a higher GPA. The SAT&amp;rsquo;s popularity &lt;a href=&#34;https://www.washingtonpost.com/news/answer-sheet/wp/2017/04/12/the-list-of-test-optional-colleges-and-universities-keeps-growing-despite-college-boards-latest-jab/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;has dropped in recent years&lt;/a&gt;, though, and this summer, the &lt;a href=&#34;http://www.chicagotribune.com/news/local/breaking/ct-university-chicago-sat-act-20180614-story.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;University of Chicago announced that it would stop requiring SAT scores for all prospective undergraduates&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Educational Testing Service (ETS), the creator of the SAT, collected SAT scores, high school GPAs, and freshman-year-college GPAs for 1,000 students at an unnamed university.&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;You are a university admissions officer and you are curious if SAT scores really do predict college performance. You&amp;rsquo;re also interested in other factors that could influence student performance.&lt;/p&gt;
&lt;p&gt;The data contains 6 variables:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;sex&lt;/code&gt;: The sex of the student (male or female; female is the base case)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sat_verbal&lt;/code&gt;: The student&amp;rsquo;s &lt;em&gt;percentile&lt;/em&gt; score in the verbal section of the SAT&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sat_math&lt;/code&gt;: The student&amp;rsquo;s &lt;em&gt;percentile&lt;/em&gt; score in the math section of the SAT&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sat_total&lt;/code&gt;: &lt;code&gt;sat_verbal&lt;/code&gt; + &lt;code&gt;sat_math&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gpa_hs&lt;/code&gt;: The student&amp;rsquo;s GPA in high school at graduation&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gpa_fy&lt;/code&gt;: The student&amp;rsquo;s GPA at the end of their freshman year&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# First we load the libraries and data&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(tidyverse)     &lt;span style=&#34;color:#75715e&#34;&gt;# This lets you create plots with ggplot, manipulate data, etc.&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(broom)         &lt;span style=&#34;color:#75715e&#34;&gt;# This lets you convert regression models into nice tables&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(modelsummary)  &lt;span style=&#34;color:#75715e&#34;&gt;# This lets you combine multiple regression models into a single table&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Load the data.&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# It&amp;#39;d be a good idea to click on the &amp;#34;sat_gpa&amp;#34; object in the Environment panel&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# in RStudio to see what the data looks like after you load it.&lt;/span&gt;
sat_gpa &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;read_csv&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;data/sat_gpa.csv&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;exploratory-questions&#34;&gt;Exploratory questions&lt;/h3&gt;
&lt;h4 id=&#34;how-well-do-sat-scores-correlate-with-freshman-gpa&#34;&gt;How well do SAT scores correlate with freshman GPA?&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# Note the syntax here with the $. That lets you access columns. The general&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# pattern is name_of_data_set$name_of_column&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;cor&lt;/span&gt;(sat_gpa&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;gpa_fy, sat_gpa&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;sat_total)
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] 0.46&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;SAT scores and first-year college GPA are moderately positively correlated (r = 0.46). As one goes up, the other also tends to go up.&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s what that relationship looks like:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(sat_gpa, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; sat_total, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; gpa_fy)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_point&lt;/span&gt;(size &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.5&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_smooth&lt;/span&gt;(method &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;lm&amp;#34;&lt;/span&gt;, se &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;labs&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Total SAT score&amp;#34;&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Freshman GPA&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/02-practico_files/figure-html/plot-sat-gpa-correlation-1.png&#34; width=&#34;576&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;how-well-does-high-school-gpa-correlate-with-freshman-gpa&#34;&gt;How well does high school GPA correlate with freshman GPA?&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;cor&lt;/span&gt;(sat_gpa&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;gpa_fy, sat_gpa&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;gpa_hs)
&lt;span style=&#34;color:#75715e&#34;&gt;## [1] 0.54&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;High school and freshman GPAs are also moderately correlated (r = 0.54), but with a slightly stronger relationship.&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s what that relationship looks like:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(sat_gpa, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; gpa_hs, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; gpa_fy)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_point&lt;/span&gt;(size &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.5&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_smooth&lt;/span&gt;(method &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;lm&amp;#34;&lt;/span&gt;, se &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;labs&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;High school GPA&amp;#34;&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Freshman GPA&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/02-practico_files/figure-html/plot-hs-gpa-correlation-1.png&#34; width=&#34;576&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;is-the-correlation-between-sat-scores-and-freshman-gpa-stronger-for-men-or-for-women&#34;&gt;Is the correlation between SAT scores and freshman GPA stronger for men or for women?&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# We can calculate the correlation for subgroups within the data with slightly&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# different syntax. Notice how this uses the pipe (%&amp;gt;%), which makes it read&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# like English. We can say &amp;#34;Take the sat_gpa data set, split it into groups&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# based on sex, and calculate the correlation between sat_total and gpa_fy in&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# each of the groups&lt;/span&gt;
sat_gpa &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;group_by&lt;/span&gt;(sex) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;summarize&lt;/span&gt;(correlation &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;cor&lt;/span&gt;(sat_total, gpa_fy))
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 2 x 2&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   sex    correlation&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;        &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 Female       0.493&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 Male         0.481&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We can calculate the correlation between SAT scores and freshman GPA for both sexes to see if there are any differences. The correlation is slightly stronger for women, but it&amp;rsquo;s hardly noticeable (r = 0.49 for females, r = 0.48 for males)&lt;/p&gt;
&lt;p&gt;This is apparent visually if we include a trendline for each sex. The lines are essentially parallel:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# The only difference between this graph and the earlier two is that it is&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# coloring by sex&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(sat_gpa, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; gpa_hs, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; gpa_fy, color &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; sex)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_point&lt;/span&gt;(size &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.5&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_smooth&lt;/span&gt;(method &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;lm&amp;#34;&lt;/span&gt;, se &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;labs&lt;/span&gt;(x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;High school GPA&amp;#34;&lt;/span&gt;, y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Freshman GPA&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;/example/02-practico_files/figure-html/plot-sat-gpa-correlation-sex-1.png&#34; width=&#34;576&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;is-the-correlation-between-high-school-gpa-and-freshman-gpa-stronger-for-men-or-for-women&#34;&gt;Is the correlation between high school GPA and freshman GPA stronger for men or for women?&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;sat_gpa &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;group_by&lt;/span&gt;(sex) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;summarize&lt;/span&gt;(correlation &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;cor&lt;/span&gt;(gpa_hs, gpa_fy))
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 2 x 2&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   sex    correlation&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;        &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 Female       0.597&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 Male         0.483&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;There is a noticeable difference between men and women in the correlation between high school and college GPA. For men, the two are moderately correlated (r = 0.48), while for women the relationship is much stronger (r = 0.60). High school grades might be a better predictor of college grades for women than for men.&lt;/p&gt;
&lt;h3 id=&#34;models&#34;&gt;Models&lt;/h3&gt;
&lt;h4 id=&#34;do-sat-scores-predict-freshman-gpas&#34;&gt;Do SAT scores predict freshman GPAs?&lt;/h4&gt;
&lt;p&gt;We can build a model that predicts college GPAs (our outcome variable, or dependent variable) using SAT scores (our main explanatory variable):&lt;/p&gt;
&lt;p&gt;$$
\text{freshman GPA} = \beta_0 + \beta_1 \text{SAT total} + \epsilon
$$&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;model_sat_gpa &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(gpa_fy &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; sat_total, data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; sat_gpa)

&lt;span style=&#34;color:#75715e&#34;&gt;# Look at the model results and include confidence intervals for the coefficients&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;(model_sat_gpa, conf.int &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 2 x 7&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   term        estimate std.error statistic  p.value conf.low conf.high&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 (Intercept)  0.00193   0.152      0.0127 9.90e- 1  -0.296     0.300 &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 sat_total    0.0239    0.00146   16.4    1.39e-53   0.0210    0.0267&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Here&amp;rsquo;s what these coefficients mean:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The intercept (or &lt;code&gt;\(\beta_0\)&lt;/code&gt;) is 0.002, which means that the average freshman GPA will be 0.002 when the total SAT percentile score is 0. This is a pretty nonsensical number (nobody has a score that low), so we can ignore it.&lt;/li&gt;
&lt;li&gt;The slope of &lt;code&gt;sat_total&lt;/code&gt; (or &lt;code&gt;\(\beta_1\)&lt;/code&gt;) is 0.024, which means that a 1 percentile increase in SAT score is associated with a 0.024 point increase in GPA, on average.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We can look at the summary table of the regression to check the &lt;code&gt;\(R^2\)&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;glance&lt;/span&gt;(model_sat_gpa)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 1 x 12&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   r.squared adj.r.squared sigma statistic  p.value    df logLik   AIC   BIC deviance df.residual  nobs&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##       &amp;lt;dbl&amp;gt;         &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;       &amp;lt;int&amp;gt; &amp;lt;int&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1     0.212         0.211 0.658      268. 1.39e-53     1  -999. 2005. 2019.     432.         998  1000&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The &lt;code&gt;\(R^2\)&lt;/code&gt; here is 0.212, which means that SAT scores explain 21% of the variation in freshman GPA. It&amp;rsquo;s not a fantastic model, but it explains some stuff.&lt;/p&gt;
&lt;h4 id=&#34;does-a-certain-type-of-sat-score-have-a-larger-effect-on-freshman-gpas&#34;&gt;Does a certain type of SAT score have a larger effect on freshman GPAs?&lt;/h4&gt;
&lt;p&gt;The &lt;code&gt;sat_total&lt;/code&gt; variable combines both &lt;code&gt;sat_math&lt;/code&gt; and &lt;code&gt;sat_verbal&lt;/code&gt;. We can disaggregate the total score to see the effect of each portion of the test on freshman GPA, using the following model:&lt;/p&gt;
&lt;p&gt;$$
\text{freshman GPA} = \beta_0 + \beta_1 \text{SAT verbal} + \beta_2 \text{SAT math} + \epsilon
$$&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;model_sat_gpa_types &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(gpa_fy &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; sat_verbal &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; sat_math, data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; sat_gpa)

&lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;(model_sat_gpa_types, conf.int &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 3 x 7&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   term        estimate std.error statistic  p.value conf.low conf.high&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 (Intercept)  0.00737   0.152      0.0484 9.61e- 1  -0.291     0.306 &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 sat_verbal   0.0254    0.00286    8.88   3.07e-18   0.0198    0.0310&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3 sat_math     0.0224    0.00279    8.04   2.58e-15   0.0169    0.0279&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Again, the intercept is meaningless since no student has a zero on both the verbal and the math test. The slope for &lt;code&gt;sat_verbal&lt;/code&gt; (or &lt;code&gt;\(\beta_1\)&lt;/code&gt;) is 0.025, so a one percentile point increase in the verbal SAT is associated with a 0.025 point increase in GPA, on average, controlling for math scores. Meanwhile, a one percentile point increase in the math SAT ($\beta_2$) is associated with a 0.022 point increase in GPA, on average, controlling for verbal scores. These are essentially the same, so at first glance, it doesn&amp;rsquo;t seem like the type of test has substantial bearing on college GPAs.&lt;/p&gt;
&lt;p&gt;The adjusted &lt;code&gt;\(R^2\)&lt;/code&gt; (which we need to look at because we&amp;rsquo;re using more than one explanatory variable) is 0.211, which means that this model explains 21% of the variation in college GPA. Like before, this isn&amp;rsquo;t great, but it tells us a little bit about the importance of SAT scores.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;glance&lt;/span&gt;(model_sat_gpa_types)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 1 x 12&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   r.squared adj.r.squared sigma statistic  p.value    df logLik   AIC   BIC deviance df.residual  nobs&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##       &amp;lt;dbl&amp;gt;         &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;       &amp;lt;int&amp;gt; &amp;lt;int&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1     0.212         0.211 0.658      134. 2.36e-52     2  -999. 2006. 2026.     432.         997  1000&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;do-high-school-gpas-predict-freshman-gpas&#34;&gt;Do high school GPAs predict freshman GPAs?&lt;/h4&gt;
&lt;p&gt;We can also use high school GPA to predict freshman GPA, using the following model:&lt;/p&gt;
&lt;p&gt;$$
\text{freshman GPA} = \beta_0 + \beta_1 \text{high school GPA} + \epsilon
$$&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;model_sat_gpa_hs &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(gpa_fy &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; gpa_hs, data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; sat_gpa)

&lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;(model_sat_gpa_hs)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 2 x 5&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   term        estimate std.error statistic  p.value&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 (Intercept)   0.0913    0.118      0.775 4.39e- 1&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 gpa_hs        0.743     0.0363    20.4   6.93e-78&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The intercept here ($\beta_0$) is 0.091, which means that a student with a high school GPA of zero would have a predicted freshman GPA of 0.091, on average. This is nonsensical, so we can ignore it. The slope for &lt;code&gt;gpa_hs&lt;/code&gt; ($\beta_1$), on the other hand, is helpful. For every 1 point increase in GPA (i.e. moving from 2.0 to 3.0, or 3.0 to 4.0), there&amp;rsquo;s an associated increase in college GPA of 0.743 points, on average.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;\(R^2\)&lt;/code&gt; value is 0.295, which means that nearly 30% of the variation in college GPA can be explained by high school GPA. Neat.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;glance&lt;/span&gt;(model_sat_gpa_hs)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 1 x 12&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   r.squared adj.r.squared sigma statistic  p.value    df logLik   AIC   BIC deviance df.residual  nobs&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##       &amp;lt;dbl&amp;gt;         &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;       &amp;lt;int&amp;gt; &amp;lt;int&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1     0.295         0.295 0.622      418. 6.93e-78     1  -943. 1893. 1908.     386.         998  1000&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;college-gpa--sat--sex&#34;&gt;College GPA ~ SAT + sex&lt;/h4&gt;
&lt;p&gt;Next, we can see how both SAT scores and sex affect variation in college GPA with the following model:&lt;/p&gt;
&lt;p&gt;$$
\text{freshman GPA} = \beta_0 + \beta_1 \text{SAT total} + \beta_2 \text{sex} + \epsilon
$$&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;model_sat_sex &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(gpa_fy &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; sat_total &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; sex, data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; sat_gpa)

&lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;(model_sat_sex, conf.int &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 3 x 7&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   term        estimate std.error statistic  p.value conf.low conf.high&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 (Intercept)  -0.0269   0.149      -0.181 8.57e- 1  -0.319     0.265 &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 sat_total     0.0255   0.00145    17.6   1.14e-60   0.0227    0.0284&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3 sexMale      -0.274    0.0414     -6.62  6.05e-11  -0.355    -0.193&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Here, stuff gets interesting. The intercept ($\beta_0$) is once again nonsensical—females with a 0 score on their SAT would have a -0.027 college GPA on average. There&amp;rsquo;s a positive effect with our &lt;code&gt;\(\beta_1\)&lt;/code&gt; (or &lt;code&gt;sat_total&lt;/code&gt;), since controlling for sex, a one percentile point increase in SAT scores is associated with a 0.026 point increase in freshman GPA, on average. If we control for SAT scores, males see an average drop of 0.274 points ($\beta_2$) in their college GPAs.&lt;/p&gt;
&lt;p&gt;The combination of these two variables, however, doesn&amp;rsquo;t boost the model&amp;rsquo;s explanatory power that much. The adjusted &lt;code&gt;\(R^2\)&lt;/code&gt; (which we must look at because we&amp;rsquo;re using more than one explanatory variable) is 0.243, meaning that the model explains a little over 24% of the variation in college GPAs.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;glance&lt;/span&gt;(model_sat_sex)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 1 x 12&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   r.squared adj.r.squared sigma statistic  p.value    df logLik   AIC   BIC deviance df.residual  nobs&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##       &amp;lt;dbl&amp;gt;         &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;       &amp;lt;int&amp;gt; &amp;lt;int&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1     0.245         0.243 0.644      162. 1.44e-61     2  -978. 1964. 1983.     414.         997  1000&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;college-gpa--sat--high-school-gpa--sex&#34;&gt;College GPA ~ SAT + high school GPA + sex&lt;/h4&gt;
&lt;p&gt;Finally we can see what the effect of SAT scores, high school GPA, and sex is on college GPAs all at the same time, using the following model:&lt;/p&gt;
&lt;p&gt;$$
\text{freshman GPA} = \beta_0 + \beta_1 \text{SAT total} + \beta_2 \text{high school GPA} + \beta_3 \text{sex} + \epsilon
$$&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;model_sat_hs_sex &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;lm&lt;/span&gt;(gpa_fy &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; sat_total &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; gpa_hs &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; sex, data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; sat_gpa)

&lt;span style=&#34;color:#a6e22e&#34;&gt;tidy&lt;/span&gt;(model_sat_hs_sex, conf.int &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 4 x 7&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   term        estimate std.error statistic  p.value conf.low conf.high&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   &amp;lt;chr&amp;gt;          &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1 (Intercept)  -0.836    0.148       -5.63 2.35e- 8  -1.13     -0.544 &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 2 sat_total     0.0158   0.00150     10.5  9.72e-25   0.0129    0.0188&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 3 gpa_hs        0.545    0.0394      13.8  6.61e-40   0.467     0.622 &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 4 sexMale      -0.143    0.0391      -3.66 2.66e- 4  -0.220    -0.0664&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We can say the following things about these results:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Yet again, the intercept ($\beta_0$) can be safely ignored. Here it means that a female with a 0.0 high school GPA and an SAT score of 0 would have a college GPA of -0.84, on average. That&amp;rsquo;s pretty impossible.&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;\(\beta_1\)&lt;/code&gt; coefficient for &lt;code&gt;sat_total&lt;/code&gt; indicates that taking into account high school GPA and sex, a one percentile point increase in a student&amp;rsquo;s SAT score is associated with a 0.016 point increase in their college GPA, on average.&lt;/li&gt;
&lt;li&gt;Controlling for SAT scores and sex, a one point increase in high school GPA is associated with a 0.545 point (this is &lt;code&gt;\(\beta_2\)&lt;/code&gt;) increase in college GPA, on average. This coefficient is lower than the 0.74 point coefficient we found previously. That&amp;rsquo;s because SAT scores and sex soaked up some of high school GPA&amp;rsquo;s explanatory power.&lt;/li&gt;
&lt;li&gt;Taking SAT scores and high school GPAs into account, males have a 0.143 point lower GPA in college, on average (this is &lt;code&gt;\(\beta_3\)&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;As always, the adjusted &lt;code&gt;\(R^2\)&lt;/code&gt; shows us how well the model fits overall (again, we have to look at the adjusted &lt;code&gt;\(R^2\)&lt;/code&gt; because we have more than one explanatory variable). In this case, the model explains 36.5% of the variation in college GPA, which is higher than any of the previous models (but not phenomenal, in the end).&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;glance&lt;/span&gt;(model_sat_hs_sex)
&lt;span style=&#34;color:#75715e&#34;&gt;## # A tibble: 1 x 12&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##   r.squared adj.r.squared sigma statistic  p.value    df logLik   AIC   BIC deviance df.residual  nobs&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;##       &amp;lt;dbl&amp;gt;         &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;     &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;  &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt; &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;       &amp;lt;int&amp;gt; &amp;lt;int&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;## 1     0.367         0.365 0.590      192. 2.67e-98     3  -890. 1790. 1815.     347.         996  1000&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;which-model-best-predicts-freshman-gpa-how-do-you-know&#34;&gt;Which model best predicts freshman GPA? How do you know?&lt;/h4&gt;
&lt;p&gt;As you&amp;rsquo;ve learned in previous stats classes, adjusted &lt;code&gt;\(R^2\)&lt;/code&gt; generally shows the strength of a model&amp;rsquo;s fit, or how well the model will predict future values of the outcome variable. If we compare the adjusted &lt;code&gt;\(R^2\)&lt;/code&gt; for each of the models, we see that the &amp;ldquo;best&amp;rdquo; model is the last one.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# The modelsummary() function takes a bunch of different regression models and&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# puts them in a neat side-by-side table. In a normal report or analysis, you&amp;#39;d&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# include all of these once instead of going one by one like we did above.&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;modelsummary&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(model_sat_gpa, model_sat_gpa_types, model_sat_gpa_hs,
                  model_sat_sex, model_sat_hs_sex))
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;table class=&#34;table&#34; style=&#34;width: auto !important; margin-left: auto; margin-right: auto;&#34;&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style=&#34;text-align:left;&#34;&gt;   &lt;/th&gt;
   &lt;th style=&#34;text-align:center;&#34;&gt; Model 1 &lt;/th&gt;
   &lt;th style=&#34;text-align:center;&#34;&gt; Model 2 &lt;/th&gt;
   &lt;th style=&#34;text-align:center;&#34;&gt; Model 3 &lt;/th&gt;
   &lt;th style=&#34;text-align:center;&#34;&gt; Model 4 &lt;/th&gt;
   &lt;th style=&#34;text-align:center;&#34;&gt; Model 5 &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; (Intercept) &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 0.002 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 0.007 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 0.091 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; -0.027 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; -0.836 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; (0.152) &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; (0.152) &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; (0.118) &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; (0.149) &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; (0.148) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; sat_total &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 0.024 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 0.026 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 0.016 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; (0.001) &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; (0.001) &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; (0.002) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; sat_verbal &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 0.025 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt;  &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; (0.003) &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt;  &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; sat_math &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 0.022 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt;  &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; (0.003) &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt;  &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; gpa_hs &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 0.743 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 0.545 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; (0.036) &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; (0.039) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; sexMale &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; -0.274 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; -0.143 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;box-shadow: 0px 1px&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;box-shadow: 0px 1px&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;box-shadow: 0px 1px&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;box-shadow: 0px 1px&#34;&gt;  &lt;/td&gt;
   &lt;td style=&#34;text-align:center;box-shadow: 0px 1px&#34;&gt; (0.041) &lt;/td&gt;
   &lt;td style=&#34;text-align:center;box-shadow: 0px 1px&#34;&gt; (0.039) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; Num.Obs. &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 1000 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 1000 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 1000 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 1000 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 1000 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; R2 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 0.212 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 0.212 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 0.295 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 0.245 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 0.367 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; R2 Adj. &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 0.211 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 0.211 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 0.295 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 0.243 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 0.365 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; AIC &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 2004.8 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 2006.4 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 1893.0 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 1963.8 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 1790.2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; BIC &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 2019.5 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 2026.0 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 1907.7 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 1983.4 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 1814.8 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; Log.Lik. &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; -999.382 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; -999.189 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; -943.477 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; -977.904 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; -890.108 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; F &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 268.270 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 134.244 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 418.071 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 161.762 &lt;/td&gt;
   &lt;td style=&#34;text-align:center;&#34;&gt; 192.141 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;This is real data about real students, &lt;a href=&#34;https://www.dartmouth.edu/~chance/course/Syllabi/Princeton96/Class12.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;compiled and cleaned by a professor at Dartmouth.&lt;/a&gt; &lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
    </item>
    
    <item>
      <title>Herramientas para el uso de R</title>
      <link>/content/01-content/</link>
      <pubDate>Mon, 09 Aug 2021 00:00:00 +0000</pubDate>
      <guid>/content/01-content/</guid>
      <description>&lt;h2 id=&#34;readings&#34;&gt;Readings&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;The &lt;a href=&#34;/syllabus/&#34;&gt;syllabus&lt;/a&gt;, &lt;a href=&#34;/content/&#34;&gt;content&lt;/a&gt;, &lt;a href=&#34;/example/&#34;&gt;examples&lt;/a&gt;, and &lt;a href=&#34;/assigment/&#34;&gt;assignments&lt;/a&gt; pages for this class&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-book&#34;&gt;&lt;/i&gt; Chapter 1 in &lt;em&gt;Impact Evaluation in Practice&lt;/em&gt;&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fab fa-youtube&#34;&gt;&lt;/i&gt; DJ Patil, &lt;a href=&#34;https://www.youtube.com/watch?v=UOoMzaWOQJA&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;“What Makes a Radical and Revolutionary Technology?”&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;small&gt;(DJ Patil is the former Chief Data Scientist of the United States under President Obama. He gave this forum address at Brigham Young University on February 13, 2018.)&lt;/small&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-external-link-square-alt&#34;&gt;&lt;/i&gt; Stephen Goldsmith, &lt;a href=&#34;http://www.govtech.com/opinion/Next-Generation-Public-Employees-Must-Understand-Data-Policy.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;“Next Generation of Public Employees Must Understand Data and Policy”&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-external-link-square-alt&#34;&gt;&lt;/i&gt; Hadley Wickham, &lt;a href=&#34;http://bulletin.imstat.org/2014/09/data-science-how-is-it-different-to-statistics%E2%80%89/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;“Data Science: How is it Different To Statistics?”&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;slides&#34;&gt;Slides&lt;/h2&gt;
&lt;p&gt;The slides for today’s lesson are available online as an HTML file. Use the buttons below to open the slides either as an interactive website or as a static PDF (for printing or storing for later). You can also click in the slides below and navigate through them with your left and right arrow keys.&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;btn btn-primary btn-lg&#34; target=&#34;_blank&#34; href=&#34;/slides/01-slides.html&#34;&gt;&lt;i class=&#34;fas fa-external-link-alt&#34;&gt;&lt;/i&gt; View all slides in new window&lt;/a&gt; &lt;a class=&#34;btn btn-primary btn-lg&#34; target=&#34;_blank&#34; href=&#34;/slides/01-slides.pdf&#34; role=&#34;button&#34;&gt;&lt;i class=&#34;far fa-file-pdf&#34;&gt;&lt;/i&gt; Download PDF of all slides&lt;/a&gt;&lt;/p&gt;
&lt;ul class=&#34;nav nav-tabs&#34; id=&#34;slide-tabs&#34; role=&#34;tablist&#34;&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link active&#34; id=&#34;introduction-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#introduction&#34; role=&#34;tab&#34; aria-controls=&#34;introduction&#34; aria-selected=&#34;true&#34;&gt;Introduction&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link&#34; id=&#34;data-science-and-public-service-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#data-science-and-public-service&#34; role=&#34;tab&#34; aria-controls=&#34;data-science-and-public-service&#34; aria-selected=&#34;false&#34;&gt;Data science and public service&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link&#34; id=&#34;evidence-evaluation-and-causation-1-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#evidence-evaluation-and-causation-1&#34; role=&#34;tab&#34; aria-controls=&#34;evidence-evaluation-and-causation-1&#34; aria-selected=&#34;false&#34;&gt;Evidence, evaluation, and causation (1)&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link&#34; id=&#34;evidence-evaluation-and-causation-2-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#evidence-evaluation-and-causation-2&#34; role=&#34;tab&#34; aria-controls=&#34;evidence-evaluation-and-causation-2&#34; aria-selected=&#34;false&#34;&gt;Evidence, evaluation, and causation (2)&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link&#34; id=&#34;class-details-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#class-details&#34; role=&#34;tab&#34; aria-controls=&#34;class-details&#34; aria-selected=&#34;false&#34;&gt;Class details&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;slide-tabs&#34; class=&#34;tab-content&#34;&gt;
&lt;div id=&#34;introduction&#34; class=&#34;tab-pane fade show active&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;introduction-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/01-slides.html#1&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;data-science-and-public-service&#34; class=&#34;tab-pane fade&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;data-science-and-public-service-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/01-slides.html#ds-ps&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;evidence-evaluation-and-causation-1&#34; class=&#34;tab-pane fade&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;evidence-evaluation-and-causation-1-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/01-slides.html#evidence-evaluation-causation&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;evidence-evaluation-and-causation-2&#34; class=&#34;tab-pane fade&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;evidence-evaluation-and-causation-2-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/01-slides.html#evidence-evaluation-causation1&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;class-details&#34; class=&#34;tab-pane fade&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;class-details-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/01-slides.html#class-details&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;fyi&#34;&gt;
&lt;strong&gt;Fun fact&lt;/strong&gt;: If you type &lt;kbd&gt;?&lt;/kbd&gt; (or &lt;kbd&gt;shift&lt;/kbd&gt; + &lt;kbd&gt;/&lt;/kbd&gt;) while going through the slides, you can see a list of special slide-specific commands.
&lt;/div&gt;
&lt;h2 id=&#34;videos&#34;&gt;Videos&lt;/h2&gt;
&lt;p&gt;Videos for each section of the lecture are &lt;a href=&#34;https://www.youtube.com/playlist?list=PLS6tnpTr39sHcnk9KcoQVzDywxWRzVWHC&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;available at this YouTube playlist&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=BIhz1dz5Vws&amp;amp;list=PLS6tnpTr39sHcnk9KcoQVzDywxWRzVWHC&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Introduction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=f-sOSXyeeJE&amp;amp;list=PLS6tnpTr39sHcnk9KcoQVzDywxWRzVWHC&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Data science and public service&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=Z2foqSMWnGU&amp;amp;list=PLS6tnpTr39sHcnk9KcoQVzDywxWRzVWHC&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Evidence, evaluation, and causation (1)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=W5ChuEhAzrs&amp;amp;list=PLS6tnpTr39sHcnk9KcoQVzDywxWRzVWHC&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Evidence, evaluation, and causation (2)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=D4LoEctZxHE&amp;amp;list=PLS6tnpTr39sHcnk9KcoQVzDywxWRzVWHC&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Class details&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can also watch the playlist (and skip around to different sections) here:&lt;/p&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;https://www.youtube.com/embed/playlist?list=PLS6tnpTr39sHcnk9KcoQVzDywxWRzVWHC&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Paul J. Gertler et al., &lt;em&gt;Impact Evaluation in Practice&lt;/em&gt;, 2nd ed. (Inter-American Development Bank; World Bank, 2016), &lt;a href=&#34;https://openknowledge.worldbank.org/handle/10986/25030&#34;&gt;https://openknowledge.worldbank.org/handle/10986/25030&lt;/a&gt;. &lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
    </item>
    
    <item>
      <title>Bienvenido/a a R, RStudio y Github</title>
      <link>/example/01-practico/</link>
      <pubDate>Mon, 09 Aug 2021 00:00:00 +0000</pubDate>
      <guid>/example/01-practico/</guid>
      <description>&lt;h2 id=&#34;part-1-the-basics-of-r-and-dplyr&#34;&gt;Part 1: The basics of R and dplyr&lt;/h2&gt;
&lt;p&gt;For this week&amp;rsquo;s problem set, you need to work through a few of RStudio&amp;rsquo;s introductory primers. You&amp;rsquo;ll do these in your browser and type code and see results there.&lt;/p&gt;
&lt;p&gt;You&amp;rsquo;ll learn some of the basics of R, as well as some powerful methods for manipulating data with the &lt;strong&gt;dplyr&lt;/strong&gt; package.&lt;/p&gt;
&lt;p&gt;Complete these primers. It seems like there are a lot, but they&amp;rsquo;re short and go fairly quickly (especially as you get the hang of the syntax). Also, &lt;strong&gt;I have no way of seeing what you do or what you get wrong or right&lt;/strong&gt;, and that&amp;rsquo;s totally fine! If you get stuck and want to skip some (or if it gets too easy), go right ahead and skip them!&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;The Basics&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://rstudio.cloud/learn/primers/1.1&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Visualization Basics&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://rstudio.cloud/learn/primers/1.2&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Programming Basics&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Work with Data&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://rstudio.cloud/learn/primers/2.1&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Working with Tibbles&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://rstudio.cloud/learn/primers/2.2&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Isolating Data with dplyr&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://rstudio.cloud/learn/primers/2.3&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Deriving Information with dplyr&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Visualize Data&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://rstudio.cloud/learn/primers/3.1&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Exploratory Data Analysis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://rstudio.cloud/learn/primers/3.2&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Bar Charts&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://rstudio.cloud/learn/primers/3.3&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Histograms&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://rstudio.cloud/learn/primers/3.4&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Boxplots and Counts&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://rstudio.cloud/learn/primers/3.5&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Scatterplots&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://rstudio.cloud/learn/primers/3.6&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Line plots&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://rstudio.cloud/learn/primers/3.7&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Overplotting and Big Data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://rstudio.cloud/learn/primers/3.8&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Customize Your Plots&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Tidy Your Data&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://rstudio.cloud/learn/primers/4.1&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Reshape Data&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;note&#34;&gt;
Recent versions of &lt;strong&gt;tidyr&lt;/strong&gt; have renamed these core functions: &lt;code&gt;gather()&lt;/code&gt; is now &lt;code&gt;pivot_longer()&lt;/code&gt; and &lt;code&gt;spread()&lt;/code&gt; is now &lt;code&gt;pivot_wider()&lt;/code&gt;. The syntax for these &lt;code&gt;pivot_*()&lt;/code&gt; functions is &lt;em&gt;slightly&lt;/em&gt; different from what it was in &lt;code&gt;gather()&lt;/code&gt; and &lt;code&gt;spread()&lt;/code&gt;, so you can&amp;rsquo;t just replace the names. Fortunately, both &lt;code&gt;gather()&lt;/code&gt; and &lt;code&gt;spread()&lt;/code&gt; still work and won&amp;rsquo;t go away for a while, so you can still use them as you learn about reshaping and tidying data. It would be worth learning how the newer &lt;code&gt;pivot_*()&lt;/code&gt; functions work, eventually, though (&lt;a href=&#34;https://tidyr.tidyverse.org/articles/pivot.html&#34;&gt;see here for examples&lt;/a&gt;).
&lt;/div&gt;

&lt;p&gt;The content from these primers comes from the (free and online!) book &lt;a href=&#34;https://r4ds.had.co.nz/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;em&gt;R for Data Science&lt;/em&gt; by Garrett Grolemund and Hadley Wickham&lt;/a&gt;. I highly recommend the book as a reference and for continuing to learn and use R in the future.&lt;/p&gt;
&lt;h2 id=&#34;part-2-getting-familiar-with-rstudio&#34;&gt;Part 2: Getting familiar with RStudio&lt;/h2&gt;
&lt;p&gt;The RStudio primers you just worked through are a great introduction to writing and running R code, but you typically won&amp;rsquo;t type code in a browser when you work with R. Instead, you&amp;rsquo;ll use a nicer programming environment like RStudio, which lets you type and save code in scripts, run code from those scripts, and see the output of that code, all in the same program.&lt;/p&gt;
&lt;p&gt;To get familiar with RStudio, watch this video (it&amp;rsquo;s from PMAP 8921, but the content still applies here):&lt;/p&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;https://www.youtube.com/embed/cnQ-v1UUWyE&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;h2 id=&#34;part-3-rstudio-projects&#34;&gt;Part 3: RStudio Projects&lt;/h2&gt;
&lt;p&gt;One of the most powerful and useful aspects of RStudio is its ability to manage projects.&lt;/p&gt;
&lt;p&gt;When you first open R, it is &amp;ldquo;pointed&amp;rdquo; at some folder on your computer, and anything you do will be relative to that folder. The technical term for this is a &amp;ldquo;working directory.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;When you first open RStudio, look in the area right at the top of the Console pane to see your current working directory. Most likely you&amp;rsquo;ll see something cryptic: &lt;code&gt;~/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/example/working-directory.png&#34; width=&#34;50%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;That tilde sign (&lt;code&gt;~&lt;/code&gt;) is a shortcut that stands for your user directory. On Windows this is &lt;code&gt;C:\Users\your_user_name\&lt;/code&gt;; on macOS this is &lt;code&gt;/Users/your_user_name/&lt;/code&gt;. With the working directory set to &lt;code&gt;~/&lt;/code&gt;, R is &amp;ldquo;pointed&amp;rdquo; at that folder, and anything you save will end up in that folder, and R will expect any data that you load to be there too.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s always best to point R at some other directory. If you don&amp;rsquo;t use RStudio, you need to manually set the working directory to where you want it with &lt;code&gt;setwd()&lt;/code&gt;, and many R scripts in the wild include something like &lt;code&gt;setwd(&amp;quot;C:\\Users\\bill\\Desktop\\Important research project&amp;quot;)&lt;/code&gt; at the beginning to change the directory. &lt;strong&gt;THIS IS BAD THOUGH&lt;/strong&gt; (&lt;a href=&#34;https://www.tidyverse.org/blog/2017/12/workflow-vs-script/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;see here for an explanation&lt;/a&gt;). If you ever move that directory somewhere else, or run the script on a different computer, or share the project with someone, the path will be wrong and nothing will run and you will be sad.&lt;/p&gt;
&lt;p&gt;The best way to deal with working directories with RStudio is to use RStudio Projects. These are special files that RStudio creates for you that end in a &lt;code&gt;.Rproj&lt;/code&gt; extension. When you open one of these special files, a new RStudio instance will open up and be pointed at the correct directory automatically. If you move the folder later or open it on a different computer, it will work just fine and you will not be sad.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://r4ds.had.co.nz/workflow-projects.html#rstudio-projects&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Read this super short chapter on RStudio projects to learn how to create and use them&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;In general, you can create a new project by going to File &amp;gt; New Project &amp;gt; New Directory &amp;gt; Empty Project, which will create a new folder on your computer that is empty except for a single &lt;code&gt;.Rproj&lt;/code&gt; file. Double click on that file to open an RStudio instance that is pointed at the correct folder.&lt;/p&gt;
&lt;h2 id=&#34;part-4-getting-familiar-with-r-markdown&#34;&gt;Part 4: Getting familiar with R Markdown&lt;/h2&gt;
&lt;p&gt;To ensure that the analysis and graphics you make are reproducible, you&amp;rsquo;ll do the majority of your work in this class using &lt;strong&gt;R Markdown&lt;/strong&gt; files.&lt;/p&gt;
&lt;p&gt;Do the following things:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Watch this video:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;https://player.vimeo.com/video/178485416?color=428bca&#34; frameborder=&#34;0&#34;  allow=&#34;autoplay; fullscreen&#34; allowfullscreen&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;p&gt; &lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;
&lt;p&gt;Skim through the content at these pages:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/resource/markdown/&#34;&gt;Using Markdown&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/resource/rmarkdown/&#34;&gt;Using R Markdown&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://rmarkdown.rstudio.com/lesson-2.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;How it Works&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://rmarkdown.rstudio.com/lesson-3.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Code Chunks&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://rmarkdown.rstudio.com/lesson-4.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Inline Code&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://rmarkdown.rstudio.com/lesson-8.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Markdown Basics&lt;/a&gt; (The &lt;a href=&#34;https://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;R Markdown Reference Guide&lt;/a&gt; is super useful here.)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://rmarkdown.rstudio.com/lesson-9.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Output Formats&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Watch this video (again, it&amp;rsquo;s from PMAP 8921, but the content works for this class):&lt;/p&gt;
 &lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
 &lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;https://www.youtube.com/embed/fT5xI1cmE2c&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;&lt;/iframe&gt;
 &lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
    </item>
    
    <item>
      <title>Herramientas para el uso de R</title>
      <link>/content/02-content/</link>
      <pubDate>Mon, 09 Aug 2021 00:00:00 +0000</pubDate>
      <guid>/content/02-content/</guid>
      <description>&lt;h2 id=&#34;readings&#34;&gt;Readings&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-book&#34;&gt;&lt;/i&gt; Chapter 2 in &lt;em&gt;Mastering ’Metrics&lt;/em&gt;&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-book&#34;&gt;&lt;/i&gt; &lt;a href=&#34;https://mixtape.scunning.com/ch1.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Chapter 2, “Probability and Regression Review”&lt;/a&gt; in &lt;em&gt;Causal Inference: The Mixtape&lt;/em&gt; (this is long; skim through this as a review)&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;recommended-readings&#34;&gt;Recommended readings&lt;/h2&gt;
&lt;p&gt;Look through your notes on regression from your last stats class. Also, you can skim through these resources:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-book&#34;&gt;&lt;/i&gt; &lt;a href=&#34;https://moderndive.com/6-regression.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;6.1–6.4 in &lt;em&gt;ModernDive&lt;/em&gt;&lt;/a&gt;&lt;sup id=&#34;fnref:3&#34;&gt;&lt;a href=&#34;#fn:3&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;3&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-book&#34;&gt;&lt;/i&gt; &lt;a href=&#34;https://moderndive.com/7-multiple-regression.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;7.1–7.4 in &lt;em&gt;ModernDive&lt;/em&gt;&lt;/a&gt;&lt;sup id=&#34;fnref:4&#34;&gt;&lt;a href=&#34;#fn:4&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;4&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-book&#34;&gt;&lt;/i&gt; 7.1–7.3 in &lt;em&gt;OpenIntro Statistics&lt;/em&gt;&lt;sup id=&#34;fnref:5&#34;&gt;&lt;a href=&#34;#fn:5&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;5&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;&lt;i class=&#34;fas fa-book&#34;&gt;&lt;/i&gt; 8.1 in &lt;em&gt;OpenIntro Statistics&lt;/em&gt;&lt;sup id=&#34;fnref:6&#34;&gt;&lt;a href=&#34;#fn:6&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;6&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We’ll review all this regression stuff in the videos, so &lt;em&gt;don’t panic&lt;/em&gt; if this all looks terrifying! Also, take advantage of the videos that accompany the &lt;em&gt;OpenIntro&lt;/em&gt; chapters. And &lt;em&gt;also&lt;/em&gt;, the &lt;em&gt;OpenIntro&lt;/em&gt; chapters are heavier on the math—don’t worry if you don’t understand everything.&lt;/p&gt;
&lt;h2 id=&#34;slides&#34;&gt;Slides&lt;/h2&gt;
&lt;p&gt;The slides for today’s lesson are available online as an HTML file. Use the buttons below to open the slides either as an interactive website or as a static PDF (for printing or storing for later). You can also click in the slides below and navigate through them with your left and right arrow keys.&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;btn btn-primary btn-lg&#34; target=&#34;_blank&#34; href=&#34;/slides/02-slides.html&#34;&gt;&lt;i class=&#34;fas fa-external-link-alt&#34;&gt;&lt;/i&gt; View all slides in new window&lt;/a&gt; &lt;a class=&#34;btn btn-primary btn-lg&#34; target=&#34;_blank&#34; href=&#34;/slides/02-slides.pdf&#34; role=&#34;button&#34;&gt;&lt;i class=&#34;far fa-file-pdf&#34;&gt;&lt;/i&gt; Download PDF of all slides&lt;/a&gt;&lt;/p&gt;
&lt;ul class=&#34;nav nav-tabs&#34; id=&#34;slide-tabs&#34; role=&#34;tablist&#34;&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link active&#34; id=&#34;introduction-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#introduction&#34; role=&#34;tab&#34; aria-controls=&#34;introduction&#34; aria-selected=&#34;true&#34;&gt;Introduction&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link&#34; id=&#34;drawing-lines-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#drawing-lines&#34; role=&#34;tab&#34; aria-controls=&#34;drawing-lines&#34; aria-selected=&#34;false&#34;&gt;Drawing lines&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link&#34; id=&#34;lines-greek-and-regression-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#lines-greek-and-regression&#34; role=&#34;tab&#34; aria-controls=&#34;lines-greek-and-regression&#34; aria-selected=&#34;false&#34;&gt;Lines, Greek, and regression&lt;/a&gt;
&lt;/li&gt;
&lt;li class=&#34;nav-item&#34;&gt;
&lt;a class=&#34;nav-link&#34; id=&#34;null-worlds-and-statistical-significance-tab&#34; data-toggle=&#34;tab&#34; href=&#34;#null-worlds-and-statistical-significance&#34; role=&#34;tab&#34; aria-controls=&#34;null-worlds-and-statistical-significance&#34; aria-selected=&#34;false&#34;&gt;Null worlds and statistical significance&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;slide-tabs&#34; class=&#34;tab-content&#34;&gt;
&lt;div id=&#34;introduction&#34; class=&#34;tab-pane fade show active&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;introduction-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/02-slides.html#1&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;drawing-lines&#34; class=&#34;tab-pane fade&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;drawing-lines-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/02-slides.html#drawing-lines&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;lines-greek-and-regression&#34; class=&#34;tab-pane fade&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;lines-greek-and-regression-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/02-slides.html#lines-greek-regression&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;null-worlds-and-statistical-significance&#34; class=&#34;tab-pane fade&#34; role=&#34;tabpanel&#34; aria-labelledby=&#34;null-worlds-and-statistical-significance-tab&#34;&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;/slides/02-slides.html#significance&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;fyi&#34;&gt;
&lt;strong&gt;Fun fact&lt;/strong&gt;: If you type &lt;kbd&gt;?&lt;/kbd&gt; (or &lt;kbd&gt;shift&lt;/kbd&gt; + &lt;kbd&gt;/&lt;/kbd&gt;) while going through the slides, you can see a list of special slide-specific commands.
&lt;/div&gt;
&lt;h2 id=&#34;videos&#34;&gt;Videos&lt;/h2&gt;
&lt;p&gt;Videos for each section of the lecture are &lt;a href=&#34;https://www.youtube.com/playlist?list=PLS6tnpTr39sERjvBbJGr9mpqvtiLVPzd4&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;available at this YouTube playlist&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=S4OmWxc3h3Y&amp;amp;list=PLS6tnpTr39sERjvBbJGr9mpqvtiLVPzd4&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Introduction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=DGbLEgL4g6Y&amp;amp;list=PLS6tnpTr39sERjvBbJGr9mpqvtiLVPzd4&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Drawing lines&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=n-rV1TIoIgw&amp;amp;list=PLS6tnpTr39sERjvBbJGr9mpqvtiLVPzd4&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Lines, Greek, and regression&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=RYKsrTKWCR4&amp;amp;list=PLS6tnpTr39sERjvBbJGr9mpqvtiLVPzd4&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Null worlds and statistical significance&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can also watch the playlist (and skip around to different sections) here:&lt;/p&gt;
&lt;div class=&#34;embed-responsive embed-responsive-16by9&#34;&gt;
&lt;iframe class=&#34;embed-responsive-item&#34; src=&#34;https://www.youtube.com/embed/playlist?list=PLS6tnpTr39sERjvBbJGr9mpqvtiLVPzd4&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Joshua D. Angrist and Jörn-Steffen Pischke, &lt;em&gt;Mastering ’Metrics: The Path from Cause to Effect&lt;/em&gt; (Princeton, NJ: Princeton University Press, 2015). &lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Scott Cunningham, &lt;em&gt;Causal Inference: The Mixtape&lt;/em&gt; (New Haven, CT: Yale University Press, 2021), &lt;a href=&#34;https://mixtape.scunning.com/&#34;&gt;https://mixtape.scunning.com/&lt;/a&gt;. &lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:3&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Chester Ismay and Albert Y. Kim, &lt;em&gt;ModernDive: An Introduction to Statistical and Data Sciences via R&lt;/em&gt;, 2018, &lt;a href=&#34;https://moderndive.com/&#34;&gt;https://moderndive.com/&lt;/a&gt;. &lt;a href=&#34;#fnref:3&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:4&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Ibid. &lt;a href=&#34;#fnref:4&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:5&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;David M. Diez, Christopher D. Barr, and Mine Çetinkaya-Rundel, &lt;em&gt;OpenIntro Statistics&lt;/em&gt;, 3rd ed., 2017, &lt;a href=&#34;https://www.openintro.org/stat/textbook.php?stat_book=os&#34;&gt;https://www.openintro.org/stat/textbook.php?stat_book=os&lt;/a&gt;. &lt;a href=&#34;#fnref:5&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:6&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Ibid. &lt;a href=&#34;#fnref:6&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
    </item>
    
    <item>
      <title>Final project</title>
      <link>/assignment/final-project/</link>
      <pubDate>Mon, 03 May 2021 00:00:00 +0000</pubDate>
      <guid>/assignment/final-project/</guid>
      <description>&lt;p&gt;Evaluation research is tricky and costly. If you begin an intervention or launch a study prematurely, you can waste time and money—and potentially lives.&lt;/p&gt;
&lt;p&gt;Even if you have a well designed program with an impeccable logic model and a perfect DAG, you might discover (too late!) that you forgot to collect some critical variables or realize that your identification strategy will not work.&lt;/p&gt;
&lt;p&gt;From a more cynical perspective, you might (unethically) engage in the practice of &lt;a href=&#34;https://theconversation.com/one-reason-so-many-scientific-studies-may-be-wrong-66384&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;p-hacking&lt;/a&gt;—running all sorts of different model specifications until you find the results you want, and then claim in your report that you had intended to run that model all along.&lt;/p&gt;
&lt;p&gt;One increasingly popular method for (1) ensuring that your data and methods work before launching a study or intervention, and (2) declaring and committing to your hypotheses and methods and models before analyzing your data is to &lt;a href=&#34;https://blogs.plos.org/plos/2019/11/preregistration-can-bring-science-back-to-its-roots/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;em&gt;pre-register&lt;/em&gt; your research or evaluation&lt;/a&gt;. A &lt;a href=&#34;https://www.sciencemag.org/news/2018/09/more-and-more-scientists-are-preregistering-their-studies-should-you&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;pre-registered study&lt;/a&gt; contains all the background work—an introduction, literature review, theory, hypotheses, and proposed analysis—but without the actual data. Authors post their expectations and hypotheses publicly so they can be held publicly accountable for any deviations from their proposed design.^[See the &lt;a href=&#34;https://cos.io/prereg/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Center for Open Science&amp;rsquo;s directory of preregistrations&lt;/a&gt;, or &lt;a href=&#34;https://aspredicted.org/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;AsPredicted list&lt;/a&gt; for examples of this in real life. &lt;a href=&#34;https://osf.io/hsbyd&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Here&amp;rsquo;s one by me!&lt;/a&gt;]&lt;/p&gt;
&lt;p&gt;The best preregistered studies use simulated data that has the same structure as the data that will be collected (i.e. same columns, sometimes the same correlations and relationships researchers expect to see in the collected data, etc.). Because there&amp;rsquo;s no data yet (or &lt;a href=&#34;/example/synthetic-data/&#34;&gt;just fake data&lt;/a&gt;), you have more freedom when developing a preregistered study. You can experiment with different models, play with different approaches, manipulate data in different ways, and so on. If you realize that you need a new variable, or that you need to rearrange questions on a survey, or make any other kinds of changes, you can—you haven&amp;rsquo;t collected the data yet!&lt;/p&gt;
&lt;p&gt;(Additionally, using synthetic data is extremely useful if you&amp;rsquo;re working with proprietary or private data that you cannot make public. &lt;a href=&#34;https://arxiv.org/abs/2011.01374&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;You can make a synthetic version of the real data instead&lt;/a&gt;; see &lt;a href=&#34;https://twitter.com/cmastication/status/1325424086659502081&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;this too&lt;/a&gt;.)&lt;/p&gt;
&lt;p&gt;Once you finalize your plan and know all the data you need to collect, and once you&amp;rsquo;ve written out the different models you&amp;rsquo;ll run, all you have to do is collect the real data, plop it into your script (replacing the fake data you&amp;rsquo;d been using), and run the analysis script again to generate the actual, real results. In the results section, you get to either say &amp;ldquo;As predicted, we found…&amp;rdquo;, or &amp;ldquo;Contrary to expectations, we found that…&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;For your final project in this class, you will write a pre-registered analysis of a public or nonprofit social program that you&amp;rsquo;re interested in. You don&amp;rsquo;t need to worry about collecting data—&lt;a href=&#34;/example/synthetic-data/&#34;&gt;you&amp;rsquo;ll create a synthetic dataset for your pre-analysis.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;You will submit &lt;strong&gt;three things&lt;/strong&gt; via iCollege:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;A PDF of your preregistered report (see the outline below for details of what this needs to contain). You should compile this with R Markdown. You might want to write the prose-heavy sections in a word processor like Word or Google Docs and copy/paste the text into your R Markdown document, since RStudio doesn&amp;rsquo;t have a nice spell checker or grammar checker. This should have &lt;em&gt;no visible R code, warnings, or messages in it&lt;/em&gt; (set &lt;code&gt;echo = FALSE&lt;/code&gt; at the beginning of your document before you knit).&lt;/li&gt;
&lt;li&gt;The same PDF as above, but with all the R code in it (set &lt;code&gt;echo = TRUE&lt;/code&gt; at the beginning of your document and reknit the file).&lt;/li&gt;
&lt;li&gt;A CSV file of &lt;a href=&#34;/example/synthetic-data/&#34;&gt;your fake data.&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;This project is due by &lt;strong&gt;7:00 PM on Monday, December 14, 2020.&lt;/strong&gt; &lt;span style=&#34;color: #81056F; font-weight: bold&#34;&gt; No late work will be accepted.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;You can either run the analysis in RStudio locally on your computer (highly recommended(!!), since you won&amp;rsquo;t have to worry about keeping all your work on RStudio&amp;rsquo;s servers), or use an RStudio.cloud project. You can make a copy of this RStudio.cloud project—it doesn&amp;rsquo;t have anything in it, but I have preinstalled all the packages we&amp;rsquo;ve used over the course of the semester, so you don&amp;rsquo;t have to.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://rstudio.cloud/spaces/112607/project/2062901&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;i class=&#34;fas fa-external-link-square-alt&#34;&gt;&lt;/i&gt; Empty RStudio.cloud project&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/projects/final-project.zip&#34;&gt;&lt;i class=&#34;fas fa-file-archive&#34;&gt;&lt;/i&gt; Empty RStudio project you can download and unzip on your computer&lt;/a&gt; (doesn&amp;rsquo;t include any packages, since you&amp;rsquo;re responsible for installing those)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;resources&#34;&gt;Resources&lt;/h2&gt;
&lt;p&gt;Most importantly, &lt;strong&gt;do not hesitate&lt;/strong&gt; to work with classmates. You all must choose different programs, but you can work in groups of up to 4 people on your own projects. Also, &lt;strong&gt;absolutely do not hesitate&lt;/strong&gt; to ask me questions! I&amp;rsquo;m here to help!&lt;/p&gt;
&lt;p&gt;You might find this evaluation (and its proposal) of a truancy program in the Provo School District in Utah helpful as an example for the first half of this assignment (program overview, theory, implementation, threats to validity, and outcomes). The PSD evaluation doesn&amp;rsquo;t have DAGs or fancy econometrics models like RCTs, diff-in-diff, RDD, IVs, or anything like that, so you can&amp;rsquo;t use it as an example of that part, but these should provide a good template for the program-specific sections. &lt;em&gt;This is longer than expected for this class&lt;/em&gt;. I provide suggested word counts in the outline below.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/files/psd-proposal-2011.pdf&#34;&gt;&lt;i class=&#34;fas fa-file-pdf&#34;&gt;&lt;/i&gt; &lt;code&gt;psd-proposal-2011&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/files/psd-final-report-2012.pdf&#34;&gt;&lt;i class=&#34;fas fa-file-pdf&#34;&gt;&lt;/i&gt; &lt;code&gt;psd-final-report-2012&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;suggested-outline&#34;&gt;Suggested outline&lt;/h2&gt;
&lt;p&gt;Here&amp;rsquo;s an outline of what you&amp;rsquo;ll need to do. You did lots of this work in your evaluation assignments. Please don&amp;rsquo;t just copy/paste those assignments as is into this final project—you&amp;rsquo;ll want to polish it up for this final report. You can download this as an RMarkdown file and change the text if you want. I&amp;rsquo;ve also included this as an RMarkdown file in the empty RStudio.cloud project.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/projects/final-project/final-project-template.Rmd&#34;&gt;&lt;i class=&#34;fab fa-r-project&#34;&gt;&lt;/i&gt; &lt;code&gt;final-project-template.Rmd&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;introduction&#34;&gt;Introduction&lt;/h3&gt;
&lt;p&gt;Describe the motivation for this evaluation, briefly describe the program to be evaluated, and explain why it matters for society. (&lt;strong&gt;≈150 words&lt;/strong&gt;)&lt;/p&gt;
&lt;h3 id=&#34;program-overview&#34;&gt;Program overview&lt;/h3&gt;
&lt;p&gt;Provide in-depth background about the program. Include details about (1) when it was started, (2) why it was started, (3) what it was designed to address in society. If the program hasn&amp;rsquo;t started yet, explain why it&amp;rsquo;s under consideration. (&lt;strong&gt;≈300 words&lt;/strong&gt;)&lt;/p&gt;
&lt;h3 id=&#34;program-theory-and-implementation&#34;&gt;Program theory and implementation&lt;/h3&gt;
&lt;h4 id=&#34;program-theory-and-impact-theory-graph&#34;&gt;Program theory and impact theory graph&lt;/h4&gt;
&lt;p&gt;Explain and explore the program&amp;rsquo;s underlying theory. Sometimes programs will explain why they exist in a mission statement, but often they don&amp;rsquo;t and you have to infer the theory from what the program looks like when implemented. What did the program designers plan on occurring? Was this theory based on existing research? If so, cite it. (&lt;strong&gt;≈300 words&lt;/strong&gt;)&lt;/p&gt;
&lt;p&gt;Include a simple impact theory graph showing the program&amp;rsquo;s basic activities and outcomes. Recall from class and your reading that this is focused primarily on the theory and mechanisms, not on the implementation of the program.&lt;/p&gt;
&lt;h4 id=&#34;logic-model&#34;&gt;Logic model&lt;/h4&gt;
&lt;p&gt;Describe the program&amp;rsquo;s inputs, activities, outputs, and outcomes. Pay careful attention to how they are linked—remember that every input needs to flow into an activity and every output must flow out of an activity. (&lt;strong&gt;≈150 words&lt;/strong&gt;)&lt;/p&gt;
&lt;p&gt;Use flowchart software to connect the inputs, activities, outputs, and outcomes and create a complete logic model. Include this as a figure.&lt;/p&gt;
&lt;h3 id=&#34;outcome-and-causation&#34;&gt;Outcome and causation&lt;/h3&gt;
&lt;h4 id=&#34;main-outcome&#34;&gt;Main outcome&lt;/h4&gt;
&lt;p&gt;Select one of the program&amp;rsquo;s outcomes to evaluate. Explain why you&amp;rsquo;ve chosen this (is it the most important? easiest to measure? has the greatest impact on society?) (&lt;strong&gt;≈50 words&lt;/strong&gt;)&lt;/p&gt;
&lt;h4 id=&#34;measurement&#34;&gt;Measurement&lt;/h4&gt;
&lt;p&gt;Using the concept of the &amp;ldquo;ladder of abstraction&amp;rdquo; that we discussed in class (e.g. identifying a witch, measuring poverty, etc.), make a list of all the possible attributes of the outcome. Narrow this list down to 3-4 key attributes. Discuss how you decided to narrow the concepts and justify why you think these attributes capture the outcome. Then, for each of these attributes, answer these questions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Measurable definition&lt;/em&gt;: How would you specifically define this attribute? (i.e. if the attribute is &amp;ldquo;reduced crime&amp;rdquo;, define it as &amp;ldquo;The percent change in crime in a specific neighborhood during a certain time frame&amp;rdquo; or something similar)&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Ideal measurement&lt;/em&gt;: How would you measure this attribute in an ideal world?&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Feasible measurement&lt;/em&gt;: How would you measure this given reality and given limitations in budget, time, etc.?&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Measurement of program effect&lt;/em&gt;: How would to connect this measure to people in the program? How would you check to see if the program itself had an effect?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;(&lt;strong&gt;≈150 words&lt;/strong&gt; in this section)&lt;/p&gt;
&lt;h4 id=&#34;causal-theory&#34;&gt;Causal theory&lt;/h4&gt;
&lt;p&gt;Given your measurement approach, describe and draw a causal diagram (DAG) that shows how your program causes the outcome. Note that this is not the same thing as the logic model—you&amp;rsquo;ll likely have nodes in the DAG that aren&amp;rsquo;t related to the program at all (like socioeconomic status, gender, experience, or other factors). The logic model provides the framework for the actual implementation of your program and connects all the moving parts to the outcomes. The DAG is how you can prove causation with statistical approaches. (&lt;strong&gt;≈150 words&lt;/strong&gt;)&lt;/p&gt;
&lt;h4 id=&#34;hypotheses&#34;&gt;Hypotheses&lt;/h4&gt;
&lt;p&gt;Make predictions of your program&amp;rsquo;s effect. Declare what you think will happen. (&lt;strong&gt;≈50 words&lt;/strong&gt;)&lt;/p&gt;
&lt;h3 id=&#34;data-and-methods&#34;&gt;Data and methods&lt;/h3&gt;
&lt;h4 id=&#34;identification-strategy&#34;&gt;Identification strategy&lt;/h4&gt;
&lt;p&gt;How will you measure the actual program effect? Will you rely on an RCT? Differences-in-differences? Regression discontinuity? Instrumental variables? How does your approach account for selection bias and endogeneity? How does your approach isolate the causal effect of the program on the outcome?&lt;/p&gt;
&lt;p&gt;Also briefly describe what kinds of threats to internal and external validity you face in your study.&lt;/p&gt;
&lt;p&gt;(&lt;strong&gt;≈300 words&lt;/strong&gt;)&lt;/p&gt;
&lt;h4 id=&#34;data&#34;&gt;Data&lt;/h4&gt;
&lt;p&gt;Given your measurement approach, limits on feasibility, and identification strategy, describe the data you will use. Will you rely on administrative data collected by a government agency or nonprofit? Will you collect your own data? If so, what variables will you measure, and how? Will you conduct a survey or rely on outside observers or do something else? What does this data look like? What variables does it (or should it) include?&lt;/p&gt;
&lt;p&gt;(&lt;strong&gt;≈100 words&lt;/strong&gt;)&lt;/p&gt;
&lt;h3 id=&#34;synthetic-analysis&#34;&gt;Synthetic analysis&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;/example/synthetic-data/&#34;&gt;Generate a synthetic (fake) dataset in R with all the variables you&amp;rsquo;ll need for the real life analysis.&lt;/a&gt; Analyze the data using your identification strategy. For instance:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;If you&amp;rsquo;re relying on observational data, close all the backdoors with matching or inverse probability weighting, don&amp;rsquo;t adjust for colliders, and make a strong argument for isolation of the causal effect in the absence of treatment/control groups&lt;/li&gt;
&lt;li&gt;If you&amp;rsquo;re doing an RCT, test the differences in means in the treatment and control groups (and follow all other best practices listed in the World Bank book, checking for balance across groups, etc.)&lt;/li&gt;
&lt;li&gt;If you&amp;rsquo;re doing diff-in-diff, run a regression model with an interaction term to show the diff-in-diff&lt;/li&gt;
&lt;li&gt;If you&amp;rsquo;re doing regression discontinuity, check for a jump in the outcome variable at the cutoff in the running variable&lt;/li&gt;
&lt;li&gt;If you&amp;rsquo;re using instrumental variables, check the validity of your instrument and run a 2SLS model&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Include robustness checks to ensure the validity of your effect (i.e. if you&amp;rsquo;re doing regression discontinuity, test different bandwidths and kernel types; etc.)&lt;/p&gt;
&lt;p&gt;(&lt;strong&gt;As many words as you need to fully describe your analysis and results&lt;/strong&gt;)&lt;/p&gt;
&lt;h3 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h3&gt;
&lt;p&gt;What would the findings from this analysis mean for your selected program? What would it mean if you found an effect? What would it mean if you didn&amp;rsquo;t find an effect? Why does any of this matter? (&lt;strong&gt;≈75 words&lt;/strong&gt;)&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Problem set 9</title>
      <link>/assignment/09-problem-set/</link>
      <pubDate>Mon, 19 Apr 2021 00:00:00 +0000</pubDate>
      <guid>/assignment/09-problem-set/</guid>
      <description>&lt;p&gt;This assignment will give you practice generating synthetic data and building in causal effects.&lt;/p&gt;
&lt;p&gt;These two examples will be incredibly helpful:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/example/random-numbers/%3e&#34;&gt;Generating random numbers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/example/synthetic-data/&#34;&gt;The ultimate guide to generating synthetic data for causal inference&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You&amp;rsquo;ll be doing all your R work in R Markdown. You can download a zipped file of a pre-made project here:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/projects/problem-set-9.zip&#34;&gt;&lt;i class=&#34;fas fa-file-archive&#34;&gt;&lt;/i&gt; &lt;code&gt;problem-set-9.zip&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;And as always, if you&amp;rsquo;re struggling, &lt;em&gt;please&lt;/em&gt; talk to me. Work with classmates too (especially for this assignment!). Don&amp;rsquo;t suffer in silence!&lt;/p&gt;
&lt;h2 id=&#34;instructions&#34;&gt;Instructions&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;If you&amp;rsquo;re using R on your own computer, download this file, &lt;a href=&#34;https://evalf20.classes.andrewheiss.com/resource/unzipping/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;em&gt;unzip it&lt;/em&gt;&lt;/a&gt;, and double click on the file named &lt;code&gt;problem-set-9.Rproj&lt;/code&gt;: &lt;a href=&#34;/projects/problem-set-9.zip&#34;&gt;&lt;i class=&#34;fas fa-file-archive&#34;&gt;&lt;/i&gt; &lt;code&gt;problem-set-9.zip&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;You&amp;rsquo;ll need to make sure you have these packages installed on your computer: &lt;code&gt;tidyverse&lt;/code&gt;, &lt;code&gt;broom&lt;/code&gt;, &lt;code&gt;ggdag&lt;/code&gt;, and &lt;code&gt;scales&lt;/code&gt;. If you try to load one of those packages with &lt;code&gt;library(tidyverse)&lt;/code&gt; or &lt;code&gt;library(ggdag)&lt;/code&gt;, etc., and R gives an error that the package is missing, use the &amp;ldquo;Packages&amp;rdquo; panel in RStudio to install it.&lt;/p&gt;
&lt;p&gt;(Alternatively, you can open the project named &amp;ldquo;Problem Set 9&amp;rdquo; on RStudio.cloud and complete the assignment in your browser without needing to install anything. &lt;a href=&#34;https://rstudio.cloud/spaces/112607/project/2062894&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;This link should take you to the project&lt;/a&gt;—if it doesn&amp;rsquo;t, log in and look for the project named &amp;ldquo;Problem Set 9.&amp;quot;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Rename the R Markdown file named &lt;code&gt;your-name_problem-set-9.Rmd&lt;/code&gt; to something that matches your name and open it in RStudio.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Complete the tasks given in the R Markdown file. You can remove any of the question text if you want.&lt;/p&gt;
&lt;p&gt;You can definitely copy, paste, and adapt from other code in the document or &lt;a href=&#34;/example/synthetic-data/&#34;&gt;the example guide&lt;/a&gt;—don&amp;rsquo;t try to write everything from scratch!.&lt;/p&gt;
&lt;p&gt;You&amp;rsquo;ll need to insert your own code chunks. Rather than typing them by hand (that&amp;rsquo;s tedious!), use the &amp;ldquo;Insert&amp;rdquo; button at the top of the editing window, or press  &lt;kbd&gt;⌥&lt;/kbd&gt; + &lt;kbd&gt;⌘&lt;/kbd&gt; + &lt;kbd&gt;I&lt;/kbd&gt; on macOS, or &lt;kbd&gt;ctrl&lt;/kbd&gt; + &lt;kbd&gt;alt&lt;/kbd&gt; + &lt;kbd&gt;I&lt;/kbd&gt; on Windows.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/assignments/insert-chunk-button.png&#34; width=&#34;19%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Remember that you can run an entire chunk by clicking on the green play arrow in the top right corner of the chunk. You can also run lines of code line-by-line if you place your cursor on some R code and press &lt;kbd&gt;⌘&lt;/kbd&gt; + &lt;kbd&gt;enter&lt;/kbd&gt; (for macOS users) or &lt;kbd&gt;ctrl&lt;/kbd&gt; + &lt;kbd&gt;enter&lt;/kbd&gt; (for Windows users).&lt;/p&gt;
&lt;p&gt;Make sure you run each chunk sequentially. If you run a chunk in the middle of the document without running previous ones, it might not work, since previous chunks might do things that later chunks depend on.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When you&amp;rsquo;re all done, click on the &amp;ldquo;Knit&amp;rdquo; button at the top of the editing window and create an HTML or Word version (or PDF if you&amp;rsquo;ve &lt;a href=&#34;/resource/install/#install-tinytex&#34;&gt;installed &lt;strong&gt;tinytex&lt;/strong&gt;&lt;/a&gt;) of your document. Upload that file to iCollege.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;/img/assignments/knit-button.png&#34; width=&#34;30%&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Problem set 8</title>
      <link>/assignment/08-problem-set/</link>
      <pubDate>Mon, 12 Apr 2021 00:00:00 +0000</pubDate>
      <guid>/assignment/08-problem-set/</guid>
      <description>&lt;p&gt;This assignment is a review of all the causal inference methods we&amp;rsquo;ve learned this semester: RCTs, matching and inverse probability weighting, diff-in-diff, RDD, and IVs. Refer to your past assignments and all the examples for guidance:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;RCTs&lt;/strong&gt;: &lt;a href=&#34;/example/rcts/&#34;&gt;Example&lt;/a&gt; + Problem Set 3&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Matching and inverse probability weighting&lt;/strong&gt;: &lt;a href=&#34;/example/matching-ipw/&#34;&gt;Example&lt;/a&gt; + Problem Set 3&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Diff-in-diff&lt;/strong&gt;: &lt;a href=&#34;/example/diff-in-diff/&#34;&gt;Example&lt;/a&gt; + Problem Sets 4 and 5&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;RDD&lt;/strong&gt;: &lt;a href=&#34;/example/rdd/&#34;&gt;Example&lt;/a&gt; + Problem Set 6&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Instrumental variables&lt;/strong&gt;: &lt;a href=&#34;/example/iv/&#34;&gt;Example&lt;/a&gt; + Problem Set 7&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You&amp;rsquo;ll be doing all your R work in R Markdown. You can download a zipped file of a pre-made project here:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/projects/problem-set-8.zip&#34;&gt;&lt;i class=&#34;fas fa-file-archive&#34;&gt;&lt;/i&gt; &lt;code&gt;problem-set-8.zip&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;And as always, if you&amp;rsquo;re struggling, &lt;em&gt;please&lt;/em&gt; talk to me. Work with classmates too (especially for this assignment!). Don&amp;rsquo;t suffer in silence!&lt;/p&gt;
&lt;h2 id=&#34;instructions&#34;&gt;Instructions&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;If you&amp;rsquo;re using R on your own computer, download this file, &lt;a href=&#34;https://evalf20.classes.andrewheiss.com/resource/unzipping/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;em&gt;unzip it&lt;/em&gt;&lt;/a&gt;, and double click on the file named &lt;code&gt;problem-set-8.Rproj&lt;/code&gt;: &lt;a href=&#34;/projects/problem-set-8.zip&#34;&gt;&lt;i class=&#34;fas fa-file-archive&#34;&gt;&lt;/i&gt; &lt;code&gt;problem-set-8.zip&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;You&amp;rsquo;ll need to make sure you have these packages installed on your computer: &lt;code&gt;tidyverse&lt;/code&gt;, &lt;code&gt;broom&lt;/code&gt;, &lt;code&gt;estimatr&lt;/code&gt;, &lt;code&gt;modelsummary&lt;/code&gt;, &lt;code&gt;MatchIt&lt;/code&gt;, &lt;code&gt;rdrobust&lt;/code&gt;, &lt;code&gt;rddensity&lt;/code&gt;, and &lt;code&gt;haven&lt;/code&gt;. If you try to load one of those packages with &lt;code&gt;library(tidyverse)&lt;/code&gt; or &lt;code&gt;library(MatchIt)&lt;/code&gt;, etc., and R gives an error that the package is missing, use the &amp;ldquo;Packages&amp;rdquo; panel in RStudio to install it.&lt;/p&gt;
&lt;p&gt;(Alternatively, you can open the project named &amp;ldquo;Problem Set 8&amp;rdquo; on RStudio.cloud and complete the assignment in your browser without needing to install anything. &lt;a href=&#34;https://rstudio.cloud/spaces/112607/project/2062892&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;This link should take you to the project&lt;/a&gt;—if it doesn&amp;rsquo;t, log in and look for the project named &amp;ldquo;Problem Set 8.&amp;quot;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Rename the R Markdown file named &lt;code&gt;your-name_problem-set-8.Rmd&lt;/code&gt; to something that matches your name and open it in RStudio.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Complete the tasks given in the R Markdown file. You can remove any of the question text if you want.&lt;/p&gt;
&lt;p&gt;You can definitely copy, paste, and adapt from other code in the document or &lt;a href=&#34;/example/&#34;&gt;the different example pages&lt;/a&gt;—don&amp;rsquo;t try to write everything from scratch!.&lt;/p&gt;
&lt;p&gt;You&amp;rsquo;ll need to insert your own code chunks. Rather than typing them by hand (that&amp;rsquo;s tedious!), use the &amp;ldquo;Insert&amp;rdquo; button at the top of the editing window, or press  &lt;kbd&gt;⌥&lt;/kbd&gt; + &lt;kbd&gt;⌘&lt;/kbd&gt; + &lt;kbd&gt;I&lt;/kbd&gt; on macOS, or &lt;kbd&gt;ctrl&lt;/kbd&gt; + &lt;kbd&gt;alt&lt;/kbd&gt; + &lt;kbd&gt;I&lt;/kbd&gt; on Windows.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/assignments/insert-chunk-button.png&#34; width=&#34;19%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Remember that you can run an entire chunk by clicking on the green play arrow in the top right corner of the chunk. You can also run lines of code line-by-line if you place your cursor on some R code and press &lt;kbd&gt;⌘&lt;/kbd&gt; + &lt;kbd&gt;enter&lt;/kbd&gt; (for macOS users) or &lt;kbd&gt;ctrl&lt;/kbd&gt; + &lt;kbd&gt;enter&lt;/kbd&gt; (for Windows users).&lt;/p&gt;
&lt;p&gt;Make sure you run each chunk sequentially. If you run a chunk in the middle of the document without running previous ones, it might not work, since previous chunks might do things that later chunks depend on.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When you&amp;rsquo;re all done, click on the &amp;ldquo;Knit&amp;rdquo; button at the top of the editing window and create an HTML or Word version (or PDF if you&amp;rsquo;ve &lt;a href=&#34;/resource/install/#install-tinytex&#34;&gt;installed &lt;strong&gt;tinytex&lt;/strong&gt;&lt;/a&gt;) of your document. Upload that file to iCollege.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;/img/assignments/knit-button.png&#34; width=&#34;30%&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Problem set 7</title>
      <link>/assignment/07-problem-set/</link>
      <pubDate>Mon, 05 Apr 2021 00:00:00 +0000</pubDate>
      <guid>/assignment/07-problem-set/</guid>
      <description>&lt;p&gt;For this problem set, you&amp;rsquo;ll practice using instrumental variables with both real and simulated data. This example page will be incredibly useful for you:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/example/iv/&#34;&gt;Instrumental variables&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You&amp;rsquo;ll be doing all your R work in R Markdown. You can download a zipped file of a pre-made project here:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/projects/problem-set-7.zip&#34;&gt;&lt;i class=&#34;fas fa-file-archive&#34;&gt;&lt;/i&gt; &lt;code&gt;problem-set-7.zip&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;And as always, if you&amp;rsquo;re struggling, &lt;em&gt;please&lt;/em&gt; talk to me. Work with classmates too (especially for this assignment!). Don&amp;rsquo;t suffer in silence!&lt;/p&gt;
&lt;h2 id=&#34;instructions&#34;&gt;Instructions&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;If you&amp;rsquo;re using R on your own computer, download this file, &lt;a href=&#34;https://evalf20.classes.andrewheiss.com/resource/unzipping/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;em&gt;unzip it&lt;/em&gt;&lt;/a&gt;, and double click on the file named &lt;code&gt;problem-set-7.Rproj&lt;/code&gt;: &lt;a href=&#34;/projects/problem-set-7.zip&#34;&gt;&lt;i class=&#34;fas fa-file-archive&#34;&gt;&lt;/i&gt; &lt;code&gt;problem-set-7.zip&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;You&amp;rsquo;ll need to make sure you have these packages installed on your computer: &lt;code&gt;tidyverse&lt;/code&gt;, &lt;code&gt;broom&lt;/code&gt;, &lt;code&gt;estimatr&lt;/code&gt;, and &lt;code&gt;modelsummary&lt;/code&gt;. If you try to load one of those packages with &lt;code&gt;library(tidyverse)&lt;/code&gt; or &lt;code&gt;library(estimatr)&lt;/code&gt;, etc., and R gives an error that the package is missing, use the &amp;ldquo;Packages&amp;rdquo; panel in RStudio to install it.&lt;/p&gt;
&lt;p&gt;(Alternatively, you can open the project named &amp;ldquo;Problem Set 7&amp;rdquo; on RStudio.cloud and complete the assignment in your browser without needing to install anything. &lt;a href=&#34;https://rstudio.cloud/spaces/112607/project/2062890&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;This link should take you to the project&lt;/a&gt;—if it doesn&amp;rsquo;t, log in and look for the project named &amp;ldquo;Problem Set 7.&amp;quot;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Rename the R Markdown file named &lt;code&gt;your-name_problem-set-7.Rmd&lt;/code&gt; to something that matches your name and open it in RStudio.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Complete the tasks given in the R Markdown file. There are questions scattered throughout the document—your job is to answer those questions. You don&amp;rsquo;t need to put your answers in bold or ALL CAPS or anything, and you can remove the question text if you want.&lt;/p&gt;
&lt;p&gt;Fill out code in the empty chunks provided (you can definitely copy, paste, and adapt from other code in the document or &lt;a href=&#34;/example/iv/&#34;&gt;the example page on instrumental variables&lt;/a&gt;—don&amp;rsquo;t try to write everything from scratch!).&lt;/p&gt;
&lt;p&gt;You&amp;rsquo;ll need to insert your own code chunks. Rather than typing them by hand (that&amp;rsquo;s tedious!), use the &amp;ldquo;Insert&amp;rdquo; button at the top of the editing window, or press  &lt;kbd&gt;⌥&lt;/kbd&gt; + &lt;kbd&gt;⌘&lt;/kbd&gt; + &lt;kbd&gt;I&lt;/kbd&gt; on macOS, or &lt;kbd&gt;ctrl&lt;/kbd&gt; + &lt;kbd&gt;alt&lt;/kbd&gt; + &lt;kbd&gt;I&lt;/kbd&gt; on Windows.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/assignments/insert-chunk-button.png&#34; width=&#34;19%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Remember that you can run an entire chunk by clicking on the green play arrow in the top right corner of the chunk. You can also run lines of code line-by-line if you place your cursor on some R code and press &lt;kbd&gt;⌘&lt;/kbd&gt; + &lt;kbd&gt;enter&lt;/kbd&gt; (for macOS users) or &lt;kbd&gt;ctrl&lt;/kbd&gt; + &lt;kbd&gt;enter&lt;/kbd&gt; (for Windows users).&lt;/p&gt;
&lt;p&gt;Make sure you run each chunk sequentially. If you run a chunk in the middle of the document without running previous ones, it might not work, since previous chunks might do things that later chunks depend on.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When you&amp;rsquo;re all done, click on the &amp;ldquo;Knit&amp;rdquo; button at the top of the editing window and create an HTML or Word version (or PDF if you&amp;rsquo;ve &lt;a href=&#34;/resource/install/#install-tinytex&#34;&gt;installed &lt;strong&gt;tinytex&lt;/strong&gt;&lt;/a&gt;) of your document. Upload that file to iCollege.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;/img/assignments/knit-button.png&#34; width=&#34;30%&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Problem set 6</title>
      <link>/assignment/06-problem-set/</link>
      <pubDate>Mon, 29 Mar 2021 00:00:00 +0000</pubDate>
      <guid>/assignment/06-problem-set/</guid>
      <description>&lt;p&gt;For this problem set, you&amp;rsquo;ll practice doing regression discontinuity analysis with simulated data from a hypothetical program. This example page will be incredibly useful for you:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/example/rdd/&#34;&gt;Regression discontinuity&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You&amp;rsquo;ll be doing all your R work in R Markdown. You can download a zipped file of a pre-made project here:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/projects/problem-set-6.zip&#34;&gt;&lt;i class=&#34;fas fa-file-archive&#34;&gt;&lt;/i&gt; &lt;code&gt;problem-set-6.zip&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;And as always, if you&amp;rsquo;re struggling, &lt;em&gt;please&lt;/em&gt; talk to me. Work with classmates too (especially for this assignment!). Don&amp;rsquo;t suffer in silence!&lt;/p&gt;
&lt;h2 id=&#34;instructions&#34;&gt;Instructions&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;If you&amp;rsquo;re using R on your own computer, download this file, &lt;a href=&#34;https://evalf20.classes.andrewheiss.com/resource/unzipping/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;em&gt;unzip it&lt;/em&gt;&lt;/a&gt;, and double click on the file named &lt;code&gt;problem-set-6.Rproj&lt;/code&gt;: &lt;a href=&#34;/projects/problem-set-6.zip&#34;&gt;&lt;i class=&#34;fas fa-file-archive&#34;&gt;&lt;/i&gt; &lt;code&gt;problem-set-6.zip&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;You&amp;rsquo;ll need to make sure you have these packages installed on your computer: &lt;code&gt;tidyverse&lt;/code&gt;, &lt;code&gt;broom&lt;/code&gt;, &lt;code&gt;rdrobust&lt;/code&gt;, &lt;code&gt;rddensity&lt;/code&gt;, and &lt;code&gt;modelsummary&lt;/code&gt;. If you try to load one of those packages with &lt;code&gt;library(tidyverse)&lt;/code&gt; or &lt;code&gt;library(rdrobust)&lt;/code&gt;, etc., and R gives an error that the package is missing, use the &amp;ldquo;Packages&amp;rdquo; panel in RStudio to install it.&lt;/p&gt;
&lt;p&gt;(Alternatively, you can open the project named &amp;ldquo;Problem Set 6&amp;rdquo; on RStudio.cloud and complete the assignment in your browser without needing to install anything. &lt;a href=&#34;https://rstudio.cloud/spaces/112607/project/2062887&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;This link should take you to the project&lt;/a&gt;—if it doesn&amp;rsquo;t, log in and look for the project named &amp;ldquo;Problem Set 6.&amp;quot;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Rename the R Markdown file named &lt;code&gt;your-name_problem-set-6.Rmd&lt;/code&gt; to something that matches your name and open it in RStudio.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Complete the tasks given in the R Markdown file. There are questions &lt;strong&gt;marked in bold&lt;/strong&gt;. Your job is to answer those questions. You don&amp;rsquo;t need to put your answers in bold or ALL CAPS or anything, and you can remove the question text if you want.&lt;/p&gt;
&lt;p&gt;Fill out code in the empty chunks provided (you can definitely copy, paste, and adapt from other code in the document or &lt;a href=&#34;/example/rdd/&#34;&gt;the example page on regression discontinuity&lt;/a&gt;—don&amp;rsquo;t try to write everything from scratch!).&lt;/p&gt;
&lt;p&gt;You&amp;rsquo;ll need to insert your own code chunks. Rather than typing them by hand (that&amp;rsquo;s tedious!), use the &amp;ldquo;Insert&amp;rdquo; button at the top of the editing window, or press  &lt;kbd&gt;⌥&lt;/kbd&gt; + &lt;kbd&gt;⌘&lt;/kbd&gt; + &lt;kbd&gt;I&lt;/kbd&gt; on macOS, or &lt;kbd&gt;ctrl&lt;/kbd&gt; + &lt;kbd&gt;alt&lt;/kbd&gt; + &lt;kbd&gt;I&lt;/kbd&gt; on Windows.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/assignments/insert-chunk-button.png&#34; width=&#34;19%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Remember that you can run an entire chunk by clicking on the green play arrow in the top right corner of the chunk. You can also run lines of code line-by-line if you place your cursor on some R code and press &lt;kbd&gt;⌘&lt;/kbd&gt; + &lt;kbd&gt;enter&lt;/kbd&gt; (for macOS users) or &lt;kbd&gt;ctrl&lt;/kbd&gt; + &lt;kbd&gt;enter&lt;/kbd&gt; (for Windows users).&lt;/p&gt;
&lt;p&gt;Make sure you run each chunk sequentially. If you run a chunk in the middle of the document without running previous ones, it might not work, since previous chunks might do things that later chunks depend on.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When you&amp;rsquo;re all done, click on the &amp;ldquo;Knit&amp;rdquo; button at the top of the editing window and create an HTML or Word version (or PDF if you&amp;rsquo;ve &lt;a href=&#34;/resource/install/#install-tinytex&#34;&gt;installed &lt;strong&gt;tinytex&lt;/strong&gt;&lt;/a&gt;) of your document. Upload that file to iCollege.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;/img/assignments/knit-button.png&#34; width=&#34;30%&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Problem set 5</title>
      <link>/assignment/05-problem-set/</link>
      <pubDate>Mon, 22 Mar 2021 00:00:00 +0000</pubDate>
      <guid>/assignment/05-problem-set/</guid>
      <description>&lt;div class=&#34;note&#34;&gt;
&lt;p&gt;You’ll likely run into some errors when knitting with a &lt;code&gt;modelsummary()&lt;/code&gt; table. That’s because the current version of the &lt;strong&gt;modelsummary&lt;/strong&gt; package on CRAN doesn’t include support for robust standard errors from &lt;code&gt;feols()&lt;/code&gt; models. You can install the latest version of &lt;strong&gt;modelsummary&lt;/strong&gt; that &lt;em&gt;does&lt;/em&gt; have support for robust standard errors by doing this:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Install the &lt;strong&gt;remotes&lt;/strong&gt; package using the Packages panel in RStudio&lt;/li&gt;
&lt;li&gt;Run this in your console to install &lt;a href=&#34;https://github.com/vincentarelbundock/modelsummary&#34;&gt;the latest version of &lt;strong&gt;modelsummary&lt;/strong&gt; directly from GitHub&lt;/a&gt;: &lt;code&gt;remotes::install_github(&#39;vincentarelbundock/modelsummary&#39;)&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;For this problem set, you’ll reproduce the results from one of the papers that you looked at in your threats to validity assignment:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Rafael Di Tella and Ernesto Schargrodsky, “Do Police Reduce Crime? Estimates Using the Allocation of Police Forces After a Terrorist Attack,” &lt;em&gt;American Economic Review&lt;/em&gt; 94, no. 1 (March 2004): 115–133, doi:&lt;a href=&#34;https://doi.org/10.1257/000282804322970733&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;10.1257/000282804322970733&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The full published paper is posted on iCollege under “Content &amp;gt; Validity assignment” (since you used the paper for that assignment). It’s not posted publicly here because of copyright reasons. The data comes from &lt;a href=&#34;https://www.aeaweb.org/articles?id=10.1257/000282804322970733&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Di Tella and Schargrodsky’s data appendix available at their study’s &lt;em&gt;AER&lt;/em&gt; webpage&lt;/a&gt;, and I’ve included it in the .zip file for the assignment.&lt;/p&gt;
&lt;p&gt;This paper uses difference-in-differences to estimate the causal effect of increased policing on car thefts. Now that you know all about diff-in-diff, you can create their same results!&lt;/p&gt;
&lt;p&gt;The answer key from Problem Set 4 (where you also did diff-in-diff) + this example page will be incredibly useful for you:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/example/diff-in-diff/&#34;&gt;Difference-in-differences&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You’ll be doing all your R work in R Markdown. You can download a zipped file of a pre-made project here:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/projects/problem-set-5.zip&#34;&gt;&lt;i class=&#34;fas fa-file-archive&#34;&gt;&lt;/i&gt; &lt;code&gt;problem-set-5.zip&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;And as always, if you’re struggling, &lt;em&gt;please&lt;/em&gt; talk to me. Work with classmates too (especially for this assignment!). Don’t suffer in silence!&lt;/p&gt;
&lt;h2 id=&#34;instructions&#34;&gt;Instructions&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;If you’re using R on your own computer, download this file, &lt;a href=&#34;https://evalf20.classes.andrewheiss.com/resource/unzipping/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;em&gt;unzip it&lt;/em&gt;&lt;/a&gt;, and double click on the file named &lt;code&gt;problem-set-5.Rproj&lt;/code&gt;: &lt;a href=&#34;/projects/problem-set-5.zip&#34;&gt;&lt;i class=&#34;fas fa-file-archive&#34;&gt;&lt;/i&gt; &lt;code&gt;problem-set-5.zip&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;You’ll need to make sure you have these packages installed on your computer: &lt;code&gt;tidyverse&lt;/code&gt;, &lt;code&gt;haven&lt;/code&gt;, &lt;code&gt;broom&lt;/code&gt;, &lt;code&gt;fixest&lt;/code&gt;, and &lt;code&gt;modelsummary&lt;/code&gt;. If you try to load one of those packages with &lt;code&gt;library(tidyverse)&lt;/code&gt; or &lt;code&gt;library(haven)&lt;/code&gt;, etc., and R gives an error that the package is missing, use the “Packages” panel in RStudio to install it.&lt;/p&gt;
&lt;p&gt;(Alternatively, you can open the project named “Problem Set 5” on RStudio.cloud and complete the assignment in your browser without needing to install anything. &lt;a href=&#34;https://rstudio.cloud/spaces/112607/project/2062885&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;This link should take you to the project&lt;/a&gt;—if it doesn’t, log in and look for the project named “Problem Set 5.”)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Rename the R Markdown file named &lt;code&gt;your-name_problem-set-5.Rmd&lt;/code&gt; to something that matches your name and open it in RStudio.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Complete the tasks given in the R Markdown file. There are questions &lt;strong&gt;marked in bold&lt;/strong&gt;. Your job is to answer those questions. You don’t need to put your answers in bold or ALL CAPS or anything, and you can remove the question text if you want.&lt;/p&gt;
&lt;p&gt;Fill out code in the empty chunks provided (you can definitely copy, paste, and adapt from other code in the document or &lt;a href=&#34;/example/diff-in-diff/&#34;&gt;the example page on diff-in-diff&lt;/a&gt;—don’t try to write everything from scratch!).&lt;/p&gt;
&lt;p&gt;You’ll need to insert your own code chunks. Rather than typing them by hand (that’s tedious!), use the “Insert” button at the top of the editing window, or press &lt;kbd&gt;⌥&lt;/kbd&gt; + &lt;kbd&gt;⌘&lt;/kbd&gt; + &lt;kbd&gt;I&lt;/kbd&gt; on macOS, or &lt;kbd&gt;ctrl&lt;/kbd&gt; + &lt;kbd&gt;alt&lt;/kbd&gt; + &lt;kbd&gt;I&lt;/kbd&gt; on Windows.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/assignments/insert-chunk-button.png&#34; width=&#34;19%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Remember that you can run an entire chunk by clicking on the green play arrow in the top right corner of the chunk. You can also run lines of code line-by-line if you place your cursor on some R code and press &lt;kbd&gt;⌘&lt;/kbd&gt; + &lt;kbd&gt;enter&lt;/kbd&gt; (for macOS users) or &lt;kbd&gt;ctrl&lt;/kbd&gt; + &lt;kbd&gt;enter&lt;/kbd&gt; (for Windows users).&lt;/p&gt;
&lt;p&gt;Make sure you run each chunk sequentially. If you run a chunk in the middle of the document without running previous ones, it might not work, since previous chunks might do things that later chunks depend on.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When you’re all done, click on the “Knit” button at the top of the editing window and create an HTML or Word version (or PDF if you’ve &lt;a href=&#34;/resource/install/#install-tinytex&#34;&gt;installed &lt;strong&gt;tinytex&lt;/strong&gt;&lt;/a&gt;) of your document. Upload that file to iCollege.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;/img/assignments/knit-button.png&#34; width=&#34;30%&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Problem set 4</title>
      <link>/assignment/04-problem-set/</link>
      <pubDate>Mon, 08 Mar 2021 00:00:00 +0000</pubDate>
      <guid>/assignment/04-problem-set/</guid>
      <description>&lt;div class=&#34;note&#34;&gt;
&lt;strong&gt;IMPORTANT&lt;/strong&gt;: This looks like a lot of work, but again, it&amp;rsquo;s mostly copying/pasting chunks of code and changing things.
&lt;/div&gt;
&lt;p&gt;For this problem set, you&amp;rsquo;ll practice running difference-in-differences analysis with R, both manually and with regression. This example will be incredibly useful for you:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/example/diff-in-diff/&#34;&gt;Difference-in-differences&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You&amp;rsquo;ll be doing all your R work in R Markdown. You can download a zipped file of a pre-made project here:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/projects/problem-set-4.zip&#34;&gt;&lt;i class=&#34;fas fa-file-archive&#34;&gt;&lt;/i&gt; &lt;code&gt;problem-set-4.zip&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;And as always, if you&amp;rsquo;re struggling, &lt;em&gt;please&lt;/em&gt; talk to me. Work with classmates too (especially for this assignment!). Don&amp;rsquo;t suffer in silence!&lt;/p&gt;
&lt;h2 id=&#34;instructions&#34;&gt;Instructions&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;If you&amp;rsquo;re using R on your own computer, download this file, &lt;a href=&#34;https://evalf20.classes.andrewheiss.com/resource/unzipping/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;em&gt;unzip it&lt;/em&gt;&lt;/a&gt;, and double click on the file named &lt;code&gt;problem-set-4.Rproj&lt;/code&gt;: &lt;a href=&#34;/projects/problem-set-4.zip&#34;&gt;&lt;i class=&#34;fas fa-file-archive&#34;&gt;&lt;/i&gt; &lt;code&gt;problem-set-4.zip&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;You&amp;rsquo;ll need to make sure you have these packages installed on your computer: &lt;code&gt;tidyverse&lt;/code&gt;, &lt;code&gt;haven&lt;/code&gt;, and &lt;code&gt;broom&lt;/code&gt;. If you try to load one of those packages with &lt;code&gt;library(tidyverse)&lt;/code&gt; or &lt;code&gt;library(haven)&lt;/code&gt;, etc., and R gives an error that the package is missing, use the &amp;ldquo;Packages&amp;rdquo; panel in RStudio to install it.&lt;/p&gt;
&lt;p&gt;(Alternatively, you can open the project named &amp;ldquo;Problem Set 4&amp;rdquo; on RStudio.cloud and complete the assignment in your browser without needing to install anything. If you don&amp;rsquo;t have access to the class RStudio.cloud account, &lt;em&gt;please let me know as soon as possible&lt;/em&gt;. &lt;a href=&#34;https://rstudio.cloud/spaces/112607/project/2062882&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;This link should take you to the project&lt;/a&gt;—if it doesn&amp;rsquo;t, log in and look for the project named &amp;ldquo;Problem Set 4.&amp;quot;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Rename the R Markdown file named &lt;code&gt;your-name_problem-set-4.Rmd&lt;/code&gt; to something that matches your name and open it in RStudio.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Complete the tasks given in the R Markdown file. There are questions &lt;strong&gt;marked in bold&lt;/strong&gt; (e.g. &lt;code&gt;**What is the ATE?**&lt;/code&gt;). Your job is to answer those questions. You don&amp;rsquo;t need to put your answers in bold, and you can remove the question text if you want.&lt;/p&gt;
&lt;p&gt;Fill out code in the empty chunks provided (you can definitely copy, paste, and adapt from other code in the document or &lt;a href=&#34;/example/diff-in-diff/&#34;&gt;the example page on diff-in-diff&lt;/a&gt;—don&amp;rsquo;t try to write everything from scratch!).&lt;/p&gt;
&lt;p&gt;You&amp;rsquo;ll need to insert your own code chunks. Rather than typing them by hand (that&amp;rsquo;s tedious!), use the &amp;ldquo;Insert&amp;rdquo; button at the top of the editing window, or press  &lt;kbd&gt;⌥&lt;/kbd&gt; + &lt;kbd&gt;⌘&lt;/kbd&gt; + &lt;kbd&gt;I&lt;/kbd&gt; on macOS, or &lt;kbd&gt;ctrl&lt;/kbd&gt; + &lt;kbd&gt;alt&lt;/kbd&gt; + &lt;kbd&gt;I&lt;/kbd&gt; on Windows.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/assignments/insert-chunk-button.png&#34; width=&#34;19%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Remember that you can run an entire chunk by clicking on the green play arrow in the top right corner of the chunk. You can also run lines of code line-by-line if you place your cursor on some R code and press &lt;kbd&gt;⌘&lt;/kbd&gt; + &lt;kbd&gt;enter&lt;/kbd&gt; (for macOS users) or &lt;kbd&gt;ctrl&lt;/kbd&gt; + &lt;kbd&gt;enter&lt;/kbd&gt; (for Windows users).&lt;/p&gt;
&lt;p&gt;Make sure you run each chunk sequentially. If you run a chunk in the middle of the document without running previous ones, it might not work, since previous chunks might do things that later chunks depend on.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When you&amp;rsquo;re all done, click on the &amp;ldquo;Knit&amp;rdquo; button at the top of the editing window and create an HTML or Word version (or PDF if you&amp;rsquo;ve &lt;a href=&#34;/resource/install/#install-tinytex&#34;&gt;installed &lt;strong&gt;tinytex&lt;/strong&gt;&lt;/a&gt;) of your document. Upload that file to iCollege.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;/img/assignments/knit-button.png&#34; width=&#34;30%&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Problem set 3</title>
      <link>/assignment/03-problem-set/</link>
      <pubDate>Mon, 01 Mar 2021 00:00:00 +0000</pubDate>
      <guid>/assignment/03-problem-set/</guid>
      <description>&lt;div class=&#34;note&#34;&gt;
&lt;strong&gt;IMPORTANT&lt;/strong&gt;: This looks like a lot of work, but again, it&amp;rsquo;s mostly copying/pasting chunks of code and changing things.
&lt;/div&gt;
&lt;p&gt;For this problem set, you&amp;rsquo;ll practice analyzing RCTs and working with matching and inverse probability weighting. These two examples will be incredibly useful for you:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/example/rcts/&#34;&gt;RCTs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/example/matching-ipw/&#34;&gt;Matching and IPW&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You&amp;rsquo;ll be doing all your R work in R Markdown this time (and from now on). You can download a zipped file of a pre-made project here:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/projects/problem-set-3.zip&#34;&gt;&lt;i class=&#34;fas fa-file-archive&#34;&gt;&lt;/i&gt; &lt;code&gt;problem-set-3.zip&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;And as always, if you&amp;rsquo;re struggling, &lt;em&gt;please&lt;/em&gt; talk to me. Work with classmates too (especially for this assignment!). Don&amp;rsquo;t suffer in silence!&lt;/p&gt;
&lt;h2 id=&#34;instructions&#34;&gt;Instructions&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;If you&amp;rsquo;re using R on your own computer, download this file, &lt;a href=&#34;https://evalf20.classes.andrewheiss.com/resource/unzipping/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;em&gt;unzip it&lt;/em&gt;&lt;/a&gt;, and double click on the file named &lt;code&gt;problem-set-3.Rproj&lt;/code&gt;: &lt;a href=&#34;/projects/problem-set-3.zip&#34;&gt;&lt;i class=&#34;fas fa-file-archive&#34;&gt;&lt;/i&gt; &lt;code&gt;problem-set-3.zip&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;You&amp;rsquo;ll need to make sure you have these packages installed on your computer: &lt;code&gt;tidyverse&lt;/code&gt;, &lt;code&gt;MatchIt&lt;/code&gt;, &lt;code&gt;modelsummary&lt;/code&gt;, and &lt;code&gt;patchwork&lt;/code&gt;. If you try to load one of those packages with &lt;code&gt;library(tidyverse)&lt;/code&gt; or &lt;code&gt;library(MatchIt)&lt;/code&gt;, etc., and R gives an error that the package is missing, use the &amp;ldquo;Packages&amp;rdquo; panel in RStudio to install it.&lt;/p&gt;
&lt;p&gt;(Alternatively, you can open the project named &amp;ldquo;Problem Set 3&amp;rdquo; on RStudio.cloud and complete the assignment in your browser without needing to install anything. If you don&amp;rsquo;t have access to the class RStudio.cloud account, &lt;em&gt;please let me know as soon as possible&lt;/em&gt;. &lt;a href=&#34;https://rstudio.cloud/spaces/112607/project/2062881&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;This link should take you to the project&lt;/a&gt;—if it doesn&amp;rsquo;t, log in and look for the project named &amp;ldquo;Problem Set 3.&amp;quot;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Rename the R Markdown file named &lt;code&gt;your-name_problem-set-3.Rmd&lt;/code&gt; to something that matches your name and open it in RStudio.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Complete the tasks given in the R Markdown file. There are questions &lt;strong&gt;marked in bold&lt;/strong&gt; (e.g. &lt;code&gt;**What is the ATE?**&lt;/code&gt;). Your job is to answer those questions. You don&amp;rsquo;t need to put your answers in bold, and you can remove the question text if you want.&lt;/p&gt;
&lt;p&gt;Fill out code in the empty chunks provided (you can definitely copy, paste, and adapt from other code in the document or &lt;a href=&#34;/example/rcts/&#34;&gt;the example page on RCTs&lt;/a&gt; and &lt;a href=&#34;/example/matching-ipw/&#34;&gt;the example page on matching and IPW&lt;/a&gt;—don&amp;rsquo;t try to write everything from scratch!).&lt;/p&gt;
&lt;p&gt;You&amp;rsquo;ll need to insert your own code chunks. Rather than typing them by hand (that&amp;rsquo;s tedious!), use the &amp;ldquo;Insert&amp;rdquo; button at the top of the editing window, or press  &lt;kbd&gt;⌥&lt;/kbd&gt; + &lt;kbd&gt;⌘&lt;/kbd&gt; + &lt;kbd&gt;I&lt;/kbd&gt; on macOS, or &lt;kbd&gt;ctrl&lt;/kbd&gt; + &lt;kbd&gt;alt&lt;/kbd&gt; + &lt;kbd&gt;I&lt;/kbd&gt; on Windows.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/assignments/insert-chunk-button.png&#34; width=&#34;19%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Remember that you can run an entire chunk by clicking on the green play arrow in the top right corner of the chunk. You can also run lines of code line-by-line if you place your cursor on some R code and press &lt;kbd&gt;⌘&lt;/kbd&gt; + &lt;kbd&gt;enter&lt;/kbd&gt; (for macOS users) or &lt;kbd&gt;ctrl&lt;/kbd&gt; + &lt;kbd&gt;enter&lt;/kbd&gt; (for Windows users).&lt;/p&gt;
&lt;p&gt;Make sure you run each chunk sequentially. If you run a chunk in the middle of the document without running previous ones, it might not work, since previous chunks might do things that later chunks depend on.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When you&amp;rsquo;re all done, click on the &amp;ldquo;Knit&amp;rdquo; button at the top of the editing window and create an HTML or Word version (or PDF if you&amp;rsquo;ve &lt;a href=&#34;/resource/install/#install-tinytex&#34;&gt;installed &lt;strong&gt;tinytex&lt;/strong&gt;&lt;/a&gt;) of your document. Upload that file to iCollege.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;/img/assignments/knit-button.png&#34; width=&#34;30%&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Threats to validity</title>
      <link>/assignment/04-eval-threats/</link>
      <pubDate>Mon, 22 Feb 2021 00:00:00 +0000</pubDate>
      <guid>/assignment/04-eval-threats/</guid>
      <description>&lt;h2 id=&#34;instructions&#34;&gt;Instructions&lt;/h2&gt;
&lt;p&gt;You need to complete the &lt;a href=&#34;/assignment/04-eval-threats/#assessing-validity-1&#34;&gt;“Assessing validity” section below&lt;/a&gt;. Ideally you should type this in R Markdown and knit your document to HTML or Word or PDF, but you can also write in Word if you want (though your final project will need to be in R Markdown, and this would give you practice).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;I’ve created an R Markdown template you can use here:&lt;/strong&gt; &lt;a href=&#34;/projects/threats-validity.zip&#34;&gt;&lt;i class=&#34;fas fa-file-archive&#34;&gt;&lt;/i&gt; &lt;code&gt;threats-validity.zip&lt;/code&gt;&lt;/a&gt;. It’s also &lt;a href=&#34;https://rstudio.cloud/spaces/112607/project/2062900&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;available on RStudio.cloud&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Submit this assignment as a PDF or Word file on iCollege.&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;internal-validity-scores&#34;&gt;Internal validity scores&lt;/h2&gt;
&lt;p&gt;One helpful way to assess an evaluation’s internal validity is to systematically go through each possible threat and evaluate if the research design addresses it. For each of the 13 types of internal validity that we discussed in class, assign 1 point if the study addresses it and 0 points if it fails to do so. Add up the total points and assign the study a final internal validity score.&lt;/p&gt;
&lt;p&gt;Not all types of validity will apply to every study. Testing, for example, is only an issue if there is a pre-test and it involves a skill that could feasibly be enhanced by practicing the test. If a threat doesn’t apply, don’t give it a score.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Omitted variable bias
&lt;ol&gt;
&lt;li&gt;Selection&lt;/li&gt;
&lt;li&gt;Attrition&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Trends
&lt;ol&gt;
&lt;li&gt;Maturation&lt;/li&gt;
&lt;li&gt;Secular trends&lt;/li&gt;
&lt;li&gt;Seasonality&lt;/li&gt;
&lt;li&gt;Testing&lt;/li&gt;
&lt;li&gt;Regression to the mean&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Study calibration
&lt;ol&gt;
&lt;li&gt;Measurement error&lt;/li&gt;
&lt;li&gt;Time frame of study&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Contamination
&lt;ol&gt;
&lt;li&gt;Hawthorne effects&lt;/li&gt;
&lt;li&gt;John Henry effects&lt;/li&gt;
&lt;li&gt;Spillovers&lt;/li&gt;
&lt;li&gt;Intervening events&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;assessing-validity&#34;&gt;Assessing validity&lt;/h2&gt;
&lt;p&gt;Your textbook &lt;a href=&#34;https://openknowledge.worldbank.org/handle/10986/25030&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;em&gt;Impact Evaluation in Practice&lt;/em&gt;&lt;/a&gt; is full of short examples of real-world evaluations, experiments, and studies. For this assignment, you will assess the (1) internal validity, (2) external validity, and (3) construct validity for two of the examples from the book. If the summary in the book isn’t sufficient, you can skim through the original study for more details. The original studies can be found in the Content section of iCollege.&lt;/p&gt;
&lt;p&gt;You will assess &lt;strong&gt;two (2)&lt;/strong&gt; of these four studies. Pick whichever two seem the most interesting to you:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;The effect of conditional cash transfers on education in Mexico&lt;/strong&gt; (Box 4.2, p. 70)
&lt;ul&gt;
&lt;li&gt;Original study: T. Paul Schultz, “School Subsidies for the Poor: Evaluating the Mexican Progresa Poverty Program,” &lt;em&gt;Journal of Development Economics&lt;/em&gt; 74, no. 1 (June 2004): 199–250, doi:&lt;a href=&#34;https://doi.org/10.1016/j.jdeveco.2003.12.009&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;10.1016/j.jdeveco.2003.12.009&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;The impact of &lt;em&gt;Sesame Street&lt;/em&gt; on school readiness&lt;/strong&gt; (Box 5.1, p. 91)
&lt;ul&gt;
&lt;li&gt;Original study: Melissa S. Kearney and Phillip B. Levine, &lt;em&gt;Early Childhood Education by MOOC: Lessons from &lt;em&gt;Sesame Street&lt;/em&gt;&lt;/em&gt;, Working Paper Series (National Bureau of Economic Research, June 2015), doi:&lt;a href=&#34;https://doi.org/10.3386/w21229&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;10.3386/w21229&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;The effects of police deployment on crime in Argentina&lt;/strong&gt; (Box 7.2, p. 135)
&lt;ul&gt;
&lt;li&gt;Original study: Rafael Di Tella and Ernesto Schargrodsky, “Do Police Reduce Crime? Estimates Using the Allocation of Police Forces After a Terrorist Attack,” &lt;em&gt;American Economic Review&lt;/em&gt; 94, no. 1 (March 2004): 115–133, doi:&lt;a href=&#34;https://doi.org/10.1257/000282804322970733&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;10.1257/000282804322970733&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Early childhood development and migration in Jamaica&lt;/strong&gt; (Box 9.5, p. 170)
&lt;ul&gt;
&lt;li&gt;Original study: Paul Gertler et al., “Labor Market Returns to an Early Childhood Stimulation Intervention in Jamaica,” &lt;em&gt;Science&lt;/em&gt; 344, no. 6187 (May 14, 2014): 998–1001, doi:&lt;a href=&#34;https://doi.org/10.1126/science.1251178&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;10.1126/science.1251178&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;For each of the two studies you choose, do the following:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Go through the 13 types of internal validity and describe &lt;em&gt;in 2–3 sentences&lt;/em&gt; how the study succeeds/fails to address each concern. Calculate a total internal validity score.&lt;/li&gt;
&lt;li&gt;Describe any threats to external validity and assess how generalizable the findings are. &lt;em&gt;(≈75 words)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Describe any threats to construct validity and assess if the researchers are measuring the thing they intended to measure. &lt;em&gt;(≈75 words)&lt;/em&gt;&lt;/li&gt;
&lt;/ol&gt;
</description>
    </item>
    
    <item>
      <title>Causal model</title>
      <link>/assignment/03-eval-dag/</link>
      <pubDate>Mon, 15 Feb 2021 00:00:00 +0000</pubDate>
      <guid>/assignment/03-eval-dag/</guid>
      <description>&lt;p&gt;For your &lt;a href=&#34;/assignment/final-project/&#34;&gt;final project&lt;/a&gt;, you will conduct an evaluation for a social program of your choosing. In this assignment, you will decide how to model the causal effect of your program on your primary outcome.&lt;/p&gt;
&lt;p&gt;If you decide to use a different program for your final project, that&amp;rsquo;s okay! This assignment doesn&amp;rsquo;t have to be related to your final program, but it would be extraordinarily helpful—a more polished version of this assignment can be included as part of your final project.&lt;/p&gt;
&lt;h2 id=&#34;instructions&#34;&gt;Instructions&lt;/h2&gt;
&lt;p&gt;You need to complete the three sections listed below. Ideally you should type this in R Markdown and knit your document to HTML or Word or PDF, but you can also write in Word if you want (though your final project will need to be in R Markdown, and this would give you practice).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;I&amp;rsquo;ve created an R Markdown template you can use here:&lt;/strong&gt; &lt;a href=&#34;/projects/causal-model.zip&#34;&gt;&lt;i class=&#34;fas fa-file-archive&#34;&gt;&lt;/i&gt; &lt;code&gt;causal-model.zip&lt;/code&gt;&lt;/a&gt;. It&amp;rsquo;s also &lt;a href=&#34;https://rstudio.cloud/spaces/112607/project/2062898&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;available on RStudio.cloud&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Submit this assignment as a PDF or Word file on iCollege.&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;1-dag-i&#34;&gt;1: DAG I&lt;/h2&gt;
&lt;p&gt;Find a news article that makes a causal claim and interpret that claim by drawing an appropriate diagram. The article likely won&amp;rsquo;t explain all the things the researchers controlled for, so you&amp;rsquo;ll need to create an ideal DAG. What should be included in the causal process to measure the effect of X on Y?&lt;/p&gt;
&lt;p&gt;Export the figure from dagitty and include it in your assignment, or use this code to draw the DAG with R:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(tidyverse)
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(ggdag)

&lt;span style=&#34;color:#75715e&#34;&gt;# Remember that you can change the variable names here--they can be basically&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# anything, but cannot include spaces. The labels can have spaces. Adjust the&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# variable names (y, x2, etc) and labels (&amp;#34;Outcome&amp;#34;, &amp;#34;Something&amp;#34;, etc.) as&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# necessary.&lt;/span&gt;
my_dag &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;dagify&lt;/span&gt;(y &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; x1 &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; x2 &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; z,
                 z &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; x1, 
                 x2 &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt; x1 &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; z,
                 labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;y&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Outcome&amp;#34;&lt;/span&gt;,
                            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;x1&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Something&amp;#34;&lt;/span&gt;,
                            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;x2&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Something else&amp;#34;&lt;/span&gt;,
                            &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;z&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Yet another thing&amp;#34;&lt;/span&gt;),
                 exposure &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;z&amp;#34;&lt;/span&gt;,
                 outcome &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;y&amp;#34;&lt;/span&gt;)

&lt;span style=&#34;color:#75715e&#34;&gt;# If you set text = TRUE, you&amp;#39;ll see the variable names in the DAG points&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# The `seed` argument makes it so that the random layout is the same every time&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag&lt;/span&gt;(my_dag, text &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, use_labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;, seed &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1234&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; 
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;()

&lt;span style=&#34;color:#75715e&#34;&gt;# If you want the treatment and outcomes colored differently, &lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# replace ggdag() with ggdag_status()&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;ggdag_status&lt;/span&gt;(my_dag, text &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;, use_labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;, seed &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1234&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; 
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme_dag&lt;/span&gt;() &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;theme&lt;/span&gt;(legend.position &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;bottom&amp;#34;&lt;/span&gt;)  &lt;span style=&#34;color:#75715e&#34;&gt;# Move legend to bottom for fun&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Summarize the causal claim. Describe what the authors controlled for and what else you included in the DAG. Justify the inclusion of each node (point) and connection (line) in the graph. &lt;em&gt;(≈150 words)&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Identify all the frontdoor and backdoor paths between your exposure and outcome. What variables need to be controlled for / adjusted to close the backdoors? Did this happen in the study or article? &lt;em&gt;(≈100 words)&lt;/em&gt;&lt;/p&gt;
&lt;h2 id=&#34;2-dag-ii&#34;&gt;2: DAG II&lt;/h2&gt;
&lt;p&gt;Find a different news article with a causal claim and do the same thing as above.&lt;/p&gt;
&lt;p&gt;Draw and include a DAG.&lt;/p&gt;
&lt;p&gt;Summarize the causal claim. Describe what the authors controlled for and what else you included in the DAG. Justify the inclusion of each node (point) and connection (line) in the graph. &lt;em&gt;(≈150 words)&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Identify all the frontdoor and backdoor paths between your exposure and outcome. What variables need to be controlled for / adjusted to close the backdoors? Did this happen in the study or article? &lt;em&gt;(≈100 words)&lt;/em&gt;&lt;/p&gt;
&lt;h2 id=&#34;3-dag-for-your-program&#34;&gt;3: DAG for your program&lt;/h2&gt;
&lt;p&gt;Identify the outcome you care most about from your final project program. Draw a DAG that shows the causal effect of your program&amp;rsquo;s intervention on the outcome.&lt;/p&gt;
&lt;p&gt;Summarize the causal claim. Describe what needs to be controlled for and what else you included in the DAG. Justify the inclusion of each node (point) and connection (line) in the graph. &lt;em&gt;(≈150 words)&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Identify all the frontdoor and backdoor paths between your exposure and outcome. What variables need to be controlled for / adjusted to close the backdoors? How might you do this with your evaluation? &lt;em&gt;(≈100 words)&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Measurement</title>
      <link>/assignment/02-eval-measurement/</link>
      <pubDate>Mon, 08 Feb 2021 00:00:00 +0000</pubDate>
      <guid>/assignment/02-eval-measurement/</guid>
      <description>&lt;p&gt;For your &lt;a href=&#34;/assignment/final-project/&#34;&gt;final project&lt;/a&gt;, you will conduct an evaluation for a social program of your choosing. In this assignment, you will decide how to best measure two of the program&amp;rsquo;s outcomes.&lt;/p&gt;
&lt;p&gt;If you decide to use a different program for your final project, that&amp;rsquo;s okay! This assignment doesn&amp;rsquo;t have to be related to your final program, but it would be extraordinarily helpful—a more polished version of this assignment can be included as part of your final project.&lt;/p&gt;
&lt;h2 id=&#34;instructions&#34;&gt;Instructions&lt;/h2&gt;
&lt;p&gt;You need to complete the two sections listed below. Ideally you should type this in R Markdown and knit your document to HTML or Word or PDF, but you can also write in Word if you want (though your final project will need to be in R Markdown, and this would give you practice).^[And if you want to be super brave, try using &lt;a href=&#34;/resource/markdown/#citations&#34;&gt;R Markdown&amp;rsquo;s citation system&lt;/a&gt;!]&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;I&amp;rsquo;ve created an R Markdown template you can use here:&lt;/strong&gt; &lt;a href=&#34;/projects/measurement.zip&#34;&gt;&lt;i class=&#34;fas fa-file-archive&#34;&gt;&lt;/i&gt; &lt;code&gt;measurement.zip&lt;/code&gt;&lt;/a&gt;. It&amp;rsquo;s also &lt;a href=&#34;https://rstudio.cloud/spaces/112607/project/2062896&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;available on RStudio.cloud&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Submit this assignment as a PDF or Word file on iCollege.&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;assignment-outline&#34;&gt;Assignment outline&lt;/h2&gt;
&lt;h3 id=&#34;1-measurement-and-abstraction-for-full-day-kindergarten&#34;&gt;1: Measurement and abstraction for full-day kindergarten&lt;/h3&gt;
&lt;p&gt;Read &lt;a href=&#34;https://archive.sltrib.com/story.php?ref=/news/ci_13164697&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;this article about half-day vs. full-day kindergarten in Utah&lt;/a&gt;. The article is 10 years old, and half-day kindergarten still remains standard practice in most Utah school districts.&lt;/p&gt;
&lt;p&gt;Pretend you are the administrator of the Optional Extended Day Kindergarten initiative. Based on the &lt;em&gt;Salt Lake Tribune&lt;/em&gt; article (which provides hints throughout, and especially in one of the final paragraphs), and based on your own knowledge of educational outcomes, make a list of &lt;strong&gt;two (2) possible outcomes&lt;/strong&gt; of the full-day kindergarten program.&lt;/p&gt;
&lt;p&gt;Then, &lt;em&gt;for each of those two outcomes&lt;/em&gt;, do the following: Using the concept of the &amp;ldquo;ladder of abstraction&amp;rdquo; that we discussed in class (e.g. identifying a witch, measuring poverty, etc.), make a list of all the possible attributes of the outcome. Narrow this list down to 3–4 key attributes. Discuss how you decided to narrow the concepts and justify why you think these attributes capture the outcome. &lt;em&gt;(≈100 words)&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Then, &lt;em&gt;for each of those attributes&lt;/em&gt;, answer these questions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Measurable definition&lt;/em&gt;: How would you specifically define this attribute? (i.e. if the attribute is &amp;ldquo;reduced crime&amp;rdquo;, define it as &amp;ldquo;The percent change in crime in a specific neighborhood during a certain time frame&amp;rdquo; or something similar)&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Ideal measurement&lt;/em&gt;: How would you measure this attribute in an ideal world?&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Feasible measurement&lt;/em&gt;: How would you measure this given reality and given limitations in budget, time, etc.?&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Measurement of program effect&lt;/em&gt;: How would to connect this measure to people in the program? How would you check to see if the program itself had an effect?&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-measurement-and-abstraction-for-your-program&#34;&gt;2: Measurement and abstraction for your program&lt;/h3&gt;
&lt;p&gt;Make a list of two possible outcomes of your selected program. For each of those outcomes, make a list of all the possible attributes. Narrow this list down to 3–4 key attributes. Discuss how you decided to narrow the concepts and justify why you think these attributes capture the outcome. &lt;em&gt;(≈100 words)&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Then, &lt;em&gt;for each of those attributes&lt;/em&gt;, answer these questions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Measurable definition&lt;/em&gt;: How would you specifically define this attribute? (i.e. if the attribute is &amp;ldquo;reduced crime&amp;rdquo;, define it as &amp;ldquo;The percent change in crime in a specific neighborhood during a certain time frame&amp;rdquo; or something similar)&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Ideal measurement&lt;/em&gt;: How would you measure this attribute in an ideal world?&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Feasible measurement&lt;/em&gt;: How would you measure this given reality and given limitations in budget, time, etc.?&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Measurement of program effect&lt;/em&gt;: How would to connect this measure to people in the program? How would you check to see if the program itself had an effect?&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Background and theory</title>
      <link>/assignment/01-eval-background-theory/</link>
      <pubDate>Mon, 01 Feb 2021 00:00:00 +0000</pubDate>
      <guid>/assignment/01-eval-background-theory/</guid>
      <description>&lt;p&gt;For your &lt;a href=&#34;/assignment/final-project/&#34;&gt;final project&lt;/a&gt;, you will conduct an evaluation for a social program of your choosing. In this assignment, you will explore the program&amp;rsquo;s background, history, purpose, and theory.&lt;/p&gt;
&lt;p&gt;If you decide to use a different program for your final project, that&amp;rsquo;s okay! This assignment doesn&amp;rsquo;t have to be related to your final program, but it would be helpful—a more polished version of this assignment can be included as part of your final project.&lt;/p&gt;
&lt;h2 id=&#34;instructions&#34;&gt;Instructions&lt;/h2&gt;
&lt;p&gt;You need to complete the four sections listed below. Ideally you should type this in R Markdown and knit your document to HTML or Word or PDF, but you can also write in Word if you want (though your final project will need to be in R Markdown, and this would give you practice).^[And if you want to be super brave, try using &lt;a href=&#34;/resource/markdown/#citations&#34;&gt;R Markdown&amp;rsquo;s citation system&lt;/a&gt;!]&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;I&amp;rsquo;ve created an R Markdown template you can use here:&lt;/strong&gt; &lt;a href=&#34;/projects/background-theory.zip&#34;&gt;&lt;i class=&#34;fas fa-file-archive&#34;&gt;&lt;/i&gt; &lt;code&gt;background-theory.zip&lt;/code&gt;&lt;/a&gt;. It&amp;rsquo;s also &lt;a href=&#34;https://rstudio.cloud/spaces/112607/project/2062895&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;available on RStudio.cloud&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;You can draw your impact theory and logic model charts by hand or with something like &lt;a href=&#34;https://www.diagrams.net/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Diagrams.net&lt;/a&gt;, &lt;a href=&#34;https://www.lucidchart.com/pages/home&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Lucidchart&lt;/a&gt;, or &lt;a href=&#34;https://creately.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Creately&lt;/a&gt;. Export the image as a PNG, place it in the same directory as your R Markdown file, and include the image with Markdown.&lt;/p&gt;
&lt;p&gt;The syntax for adding an image in Markdown is fairly simple. Importantly, it is not R code, so &lt;em&gt;don&amp;rsquo;t&lt;/em&gt; try putting it in an R chunk. Just type this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-md&#34; data-lang=&#34;md&#34;&gt;![&lt;span style=&#34;color:#f92672&#34;&gt;Image caption&lt;/span&gt;](&lt;span style=&#34;color:#a6e22e&#34;&gt;/path/to/image.png&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Submit this assignment as a PDF or Word file on iCollege.&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;assignment-outline&#34;&gt;Assignment outline&lt;/h2&gt;
&lt;h3 id=&#34;1-program-background-and-purpose&#34;&gt;1: Program background and purpose&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;(≈350 words)&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Provide in-depth background about the program. Include details about (1) when it was started, (2) why it was started, (3) what it was designed to address in society. If the program hasn’t started yet, explain why it’s under consideration. Make sure you cite your sources appropriately! (In the past, some students have just copied/pasted text from a program&amp;rsquo;s website; don&amp;rsquo;t do that! Describe and analyze the program&amp;rsquo;s background!)&lt;/p&gt;
&lt;h3 id=&#34;2-program-theory&#34;&gt;2: Program theory&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;(≈400 words)&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Explain and explore the program’s underlying theory. Sometimes programs will explain why they exist in a mission statement, but often they don’t and you have to infer the theory from what the program looks like when implemented. What did the program designers plan on occurring? Was this theory based on existing research? If so, cite it.&lt;/p&gt;
&lt;p&gt;Include a simple impact theory graph showing the program’s basic activities and outcomes. Recall from class and your reading that this is focused primarily on the theory and mechanisms, not on the implementation of the program.&lt;/p&gt;
&lt;h3 id=&#34;3-logic-model&#34;&gt;3: Logic model&lt;/h3&gt;
&lt;p&gt;List every possible input, activity, output, and outcome for the program and provide a brief 1–2 sentence description of each.&lt;/p&gt;
&lt;h4 id=&#34;inputs&#34;&gt;Inputs&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Something&lt;/li&gt;
&lt;li&gt;Something else&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;activities&#34;&gt;Activities&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Something&lt;/li&gt;
&lt;li&gt;Something else&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;outputs&#34;&gt;Outputs&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Something&lt;/li&gt;
&lt;li&gt;Something else&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;outcomes&#34;&gt;Outcomes&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Something&lt;/li&gt;
&lt;li&gt;Something else&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;diagram&#34;&gt;Diagram&lt;/h4&gt;
&lt;p&gt;Use flowchart software to connect the inputs, activities, outputs, and outcomes and create a complete logic model. Remember that inputs will always feed into activities, and that activities always produce outputs (that&amp;rsquo;s the whole purpose of an activity: convert an input to an output). Include this as a figure.&lt;/p&gt;
&lt;h3 id=&#34;4-analysis&#34;&gt;4: Analysis&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;(≈150 words)&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Evaluate how well the logic model relates to the program theory. Do the inputs, activities, and outputs have a logical, well-grounded connection to the intended outcomes? Under ideal conditions, would the components of the program lead to changes or lasting effects?&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Problem set 2</title>
      <link>/assignment/02-problem-set/</link>
      <pubDate>Mon, 25 Jan 2021 00:00:00 +0000</pubDate>
      <guid>/assignment/02-problem-set/</guid>
      <description>&lt;div class=&#34;note&#34;&gt;
&lt;strong&gt;IMPORTANT&lt;/strong&gt;: This looks like a lot of work, but it&amp;rsquo;s mostly copying/pasting chunks of code and changing things.
&lt;/div&gt;
&lt;h2 id=&#34;getting-started&#34;&gt;Getting started&lt;/h2&gt;
&lt;p&gt;For this problem set, you&amp;rsquo;ll practice running and interpreting regression models using data about &lt;a href=&#34;https://github.com/allisonhorst/palmerpenguins&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;penguins in Antarctica&lt;/a&gt; and data on food access and mortality in the US.&lt;/p&gt;
&lt;p&gt;You&amp;rsquo;ll be doing all your R work in R Markdown this time (and from now on). You should use an RStudio Project to keep your files well organized (either on your computer or on RStudio.cloud). Either create a new project for this exercise only, or make a project for all your work in this class.&lt;/p&gt;
&lt;p&gt;You&amp;rsquo;ll need to download these two CSV files and put them somewhere on your computer or upload them to RStudio.cloud—preferably in a folder named &lt;code&gt;data&lt;/code&gt; in your project folder:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/projects/problem-set-2/data/penguins.csv&#34;&gt;&lt;i class=&#34;fas fa-file-csv&#34;&gt;&lt;/i&gt; &lt;code&gt;penguins.csv&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;/projects/problem-set-2/data/food_health_politics.csv&#34;&gt;&lt;i class=&#34;fas fa-file-csv&#34;&gt;&lt;/i&gt; &lt;code&gt;food_health_politics.csv&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You&amp;rsquo;ll also need to download this R Markdown file with a template for this problem set. Download that here and include it in your project:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/projects/problem-set-2/your-name_problem-set-2.Rmd&#34;&gt;&lt;i class=&#34;fab fa-r-project&#34;&gt;&lt;/i&gt; &lt;code&gt;problem-set-2.Rmd&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In the end, the structure of your project directory should look something like this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;your-project-name\
  your-name_problem-set-2.Rmd
  your-project-name.Rproj
  data\
    penguins.csv
    food_health_politics.csv
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;To check that you put everything in the right places, you can download and unzip this file, which contains everything in the correct structure:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/projects/problem-set-2.zip&#34;&gt;&lt;i class=&#34;fas fa-file-archive&#34;&gt;&lt;/i&gt; &lt;code&gt;problem-set-2.zip&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You&amp;rsquo;ll need to make sure you have these packages installed on your computer: &lt;code&gt;tidyverse&lt;/code&gt; and &lt;code&gt;modelsummary&lt;/code&gt;. If you try to load one of those packages with &lt;code&gt;library(tidyverse)&lt;/code&gt; or &lt;code&gt;library(modelsummary)&lt;/code&gt;, etc., and R gives an error that the package is missing, use the &amp;ldquo;Packages&amp;rdquo; panel in RStudio to install it.&lt;/p&gt;
&lt;p&gt;(Alternatively, you can open the project named &amp;ldquo;Problem Set 2&amp;rdquo; on RStudio.cloud and complete the assignment in your browser without needing to install anything. If you don&amp;rsquo;t have access to the class RStudio.cloud account, &lt;em&gt;please let me know as soon as possible&lt;/em&gt;. &lt;a href=&#34;https://rstudio.cloud/spaces/112607/project/2062871&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;This link should take you to the project&lt;/a&gt;—if it doesn&amp;rsquo;t, log in and look for the project named &amp;ldquo;Problem Set 2.&amp;quot;)&lt;/p&gt;
&lt;p&gt;Remember that you can run an entire chunk by clicking on the green play arrow in the top right corner of the chunk. You can also run lines of code line-by-line if you place your cursor on some R code and press &lt;kbd&gt;⌘&lt;/kbd&gt; + &lt;kbd&gt;enter&lt;/kbd&gt; (for macOS users) or &lt;kbd&gt;ctrl&lt;/kbd&gt; + &lt;kbd&gt;enter&lt;/kbd&gt; (for Windows users).&lt;/p&gt;
&lt;p&gt;Make sure you run each chunk sequentially. If you run a chunk in the middle of the document without running previous ones, it might not work, since previous chunks might do things that later chunks depend on.&lt;/p&gt;
&lt;p&gt;Remember, if you&amp;rsquo;re struggling, &lt;em&gt;please&lt;/em&gt; talk to me. Work with classmates too. Don&amp;rsquo;t suffer in silence!&lt;/p&gt;
&lt;h2 id=&#34;instructions&#34;&gt;Instructions&lt;/h2&gt;
&lt;p&gt;For this problem set, we&amp;rsquo;re less interested in causal relationships and more interested in the mechanics of manipulating data and running regressions in R. We&amp;rsquo;ll start caring about identification and causal models in the next problem set. Because of this, don&amp;rsquo;t put too much causal weight into the interpretations of these different models—this is an actual case of correlation not implying causation.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;/example/regression/&#34;&gt;The example for week 2 on regression&lt;/a&gt; will be &lt;em&gt;&lt;strong&gt;incredibly&lt;/strong&gt;&lt;/em&gt; helpful for this exercise. Reference it. Copy and paste from it liberally.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Rename the R Markdown file named &lt;code&gt;your-name_problem-set-2.Rmd&lt;/code&gt; to something that matches your name and open it in RStudio.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Complete the tasks given in the R Markdown file. Fill out code in the empty chunks provided (you can definitely copy, paste, and adapt from other code in the document or &lt;a href=&#34;/example/regression/&#34;&gt;from the regression example&lt;/a&gt;—&lt;em&gt;don&amp;rsquo;t try to write everything from scratch!&lt;/em&gt;), and replace text in ALL CAPS with your own. (i.e. You&amp;rsquo;ll see a bunch of &lt;code&gt;TYPE YOUR ANSWER HERE&lt;/code&gt;s. Type your answers there.). Again, you don&amp;rsquo;t need to type your answers in all caps.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;turning-everything-in&#34;&gt;Turning everything in&lt;/h2&gt;
&lt;p&gt;When you&amp;rsquo;re all done, click on the &amp;ldquo;Knit&amp;rdquo; button at the top of the editing window and create an HTML or Word version (or PDF if you&amp;rsquo;ve &lt;a href=&#34;/resource/install/#install-tinytex&#34;&gt;installed &lt;strong&gt;tinytex&lt;/strong&gt;&lt;/a&gt;) of your document. Upload that file to iCollege.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/assignments/knit-button.png&#34; width=&#34;30%&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Problem set 1</title>
      <link>/assignment/01-problem-set/</link>
      <pubDate>Tue, 19 Jan 2021 00:00:00 +0000</pubDate>
      <guid>/assignment/01-problem-set/</guid>
      <description>&lt;h2 id=&#34;task-1-introduce-yourself-to-r-rstudio-and-the-tidyverse&#34;&gt;Task 1: Introduce yourself to R, RStudio, and the tidyverse&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Go the the example page for this week, &lt;a href=&#34;/example/rstudio-tidyverse/&#34;&gt;&amp;ldquo;Welcome to R, RStudio, and the tidyverse&amp;rdquo;&lt;/a&gt;, and work through the different primers and videos in the four parts of the page.&lt;/p&gt;
&lt;p&gt;It seems like there&amp;rsquo;s a lot on the page, but they&amp;rsquo;re short and go fairly quickly (especially as you get the hang of the syntax). Also, &lt;strong&gt;I have no way of seeing what you do or what you get wrong or right, and that&amp;rsquo;s totally fine!&lt;/strong&gt; If you get stuck and want to skip some (or if it gets too easy), go right ahead and skip them!&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;task-2-make-an-rstudio-project&#34;&gt;Task 2: Make an RStudio Project&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Use either RStudio.cloud or RStudio on your computer (preferably RStudio on your computer! &lt;a href=&#34;/resource/install/&#34;&gt;Follow these instructions to get started!&lt;/a&gt;) to create a new RStudio Project. Refer to the &lt;a href=&#34;/example/rstudio-tidyverse/#part-3-rstudio-projects&#34;&gt;example page you read in Task 1 for instructions&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Create a folder named &amp;ldquo;data&amp;rdquo; in the project folder you just made.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Download this CSV file and place it in that folder:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/data/cars.csv&#34;&gt;&lt;i class=&#34;fas fa-file-csv&#34;&gt;&lt;/i&gt; &lt;code&gt;cars.csv&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In RStudio, go to &amp;ldquo;File&amp;rdquo; &amp;gt; &amp;ldquo;New File…&amp;rdquo; &amp;gt; &amp;ldquo;R Markdown…&amp;rdquo; and click &amp;ldquo;OK&amp;rdquo; in the dialog without changing anything.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Delete all the placeholder text in that new file and replace it with this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;---
title: &amp;#34;Problem set 1&amp;#34;
author: &amp;#34;Put your name here&amp;#34;
output: html_document
---
   
```{r load-libraries-data, warning=FALSE, message=FALSE}
library(tidyverse)
   
cars &amp;lt;- read_csv(&amp;#34;data/cars.csv&amp;#34;)
```
   
# Learning R
   
Tell me that you worked through the primers and videos and examples at the example page for this week:
   
WRITE SOMETHING HERE LIKE &amp;#34;I did all the primers and had the time of my life!&amp;#34; or whatever.
   
   
# My first plots
   
Insert a chunk below and use it to create a scatterplot (hint: `geom_point()`) with diplacement (`displ`) on the x-axis, city MPG (`cty`) on the y-axis, and with the points colored by drive (`drv`).
   
PUT CHUNK HERE
   
Insert a chunk below and use it to create a histogram (hint: `geom_histogram()`) with highway MPG (`hwy`) on the x-axis. Do not include anything on the y-axis (`geom_histogram()` will do that automatically for you). Choose an appropriate bin width. If you&amp;#39;re brave, facet by drive (`drv`).
   
PUT CHUNK HERE
   
   
# My first data manipulation
   
Insert a chunk below and use it to calculate the average city MPG (`cty`) by class of car (`class`). This won&amp;#39;t be a plot---it&amp;#39;ll be a table. Hint: use a combination of `group_by()` and `summarize()`.
   
PUT CHUNK HERE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Save the R Markdown file with some sort of name (&lt;strong&gt;without any spaces!&lt;/strong&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Your project folder should look something like this:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/assignments/project-structure.png&#34; width=&#34;30%&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;task-3-work-with-r&#34;&gt;Task 3: Work with R&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Remove the text that says &amp;ldquo;PUT CHUNK HERE&amp;rdquo; and insert a new R code chunk. Either type &lt;kbd&gt;ctrl&lt;/kbd&gt; + &lt;kbd&gt;alt&lt;/kbd&gt; + &lt;kbd&gt;i&lt;/kbd&gt; on Windows, or &lt;kbd&gt;⌘&lt;/kbd&gt; + &lt;kbd&gt;⌥&lt;/kbd&gt; + &lt;kbd&gt;i&lt;/kbd&gt; on macOS, or use the &amp;ldquo;Insert Chunk&amp;rdquo; menu:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/assignments/insert-chunk-button.png&#34; width=&#34;19%&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Follow the instructions for the three chunks of code.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Knit your document as a Word file (or PDF if you&amp;rsquo;re brave and &lt;a href=&#34;/resource/install/#install-tinytex&#34;&gt;installed LaTeX&lt;/a&gt;). Use the &amp;ldquo;Knit&amp;rdquo; menu:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/assignments/knit-button.png&#34; width=&#34;30%&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Upload the knitted document to iCollege.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;🎉 Party! 🎉&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;fyi&#34;&gt;
&lt;p&gt;You&amp;rsquo;ll be doing this same process for all your future problem sets. Each problem set will involve an R Markdown file. You can either create a new RStudio Project directory for all your work:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/reference/rproj-one-folder.png&#34; width=&#34;30%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Or you can create individual projects for each assignment and project:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/reference/rproj-multiple-folders.png&#34; width=&#34;30%&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Using Markdown</title>
      <link>/resource/markdown/</link>
      <pubDate>Mon, 13 Jan 2020 00:00:00 +0000</pubDate>
      <guid>/resource/markdown/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://daringfireball.net/projects/markdown/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Markdown&lt;/a&gt; is a special kind of markup language that lets you format text with simple syntax. You can then use a converter program like &lt;a href=&#34;https://pandoc.org/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;pandoc&lt;/a&gt; to convert Markdown into whatever format you want: HTML, PDF, Word, PowerPoint, etc. (&lt;a href=&#34;https://pandoc.org/MANUAL.html#option--to&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;see the full list of output types here&lt;/a&gt;)&lt;/p&gt;
&lt;h2 id=&#34;basic-markdown-formatting&#34;&gt;Basic Markdown formatting&lt;/h2&gt;
&lt;table&gt;
&lt;colgroup&gt;
&lt;col width=&#34;40%&#34; /&gt;
&lt;col width=&#34;21%&#34; /&gt;
&lt;col width=&#34;38%&#34; /&gt;
&lt;/colgroup&gt;
&lt;thead&gt;
&lt;tr class=&#34;header&#34;&gt;
&lt;th&gt;Type…&lt;/th&gt;
&lt;th&gt;…or…&lt;/th&gt;
&lt;th&gt;…to get&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;&lt;pre&gt;Some text in a paragraph.&lt;br&gt;
More text in the next paragraph. Always
use empty lines between paragraphs.&lt;/pre&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;Some text in a paragraph.&lt;/p&gt;
&lt;p&gt;More text in the next paragraph. Always
use empty lines between paragraphs.&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td&gt;&lt;code&gt;*Italic*&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;_Italic_&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;em&gt;Italic&lt;/em&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;&lt;code&gt;**Bold**&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;__Bold__&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Bold&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td&gt;&lt;code&gt;# Heading 1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;h1 class=&#34;smaller-h1&#34;&gt;
Heading 1
&lt;/h1&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;&lt;code&gt;## Heading 2&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;h2 class=&#34;smaller-h2&#34;&gt;
Heading 2
&lt;/h2&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td&gt;&lt;code&gt;### Heading 3&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;h3 class=&#34;smaller-h3&#34;&gt;
Heading 3
&lt;/h3&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;(Go up to heading level 6 with &lt;code&gt;######&lt;/code&gt;)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td&gt;&lt;code&gt;[Link text](http://www.example.com)&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;http://www.example.com&#34;&gt;Link text&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;&lt;code&gt;![Image caption](/path/to/image.png)&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;img src=&#34;/img/mstile-144x144.png&#34; title=&#34;fig:&#34; alt=&#34;Class logo&#34; /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td&gt;`&lt;code&gt;Inline code` with backticks&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;Inline code&lt;/code&gt; with backticks&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;&lt;code&gt;&amp;gt; Blockquote&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;blockquote&gt;
&lt;p&gt;Blockquote&lt;/p&gt;
&lt;/blockquote&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td&gt;&lt;pre&gt;- Things in
- an unordered
- list&lt;/pre&gt;&lt;/td&gt;
&lt;td&gt;&lt;pre&gt;* Things in
* an unordered
* list&lt;/pre&gt;&lt;/td&gt;
&lt;td&gt;&lt;ul&gt;
&lt;li&gt;Things in&lt;/li&gt;
&lt;li&gt;an unordered&lt;/li&gt;
&lt;li&gt;list&lt;/li&gt;
&lt;/ul&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;&lt;pre&gt;1. Things in
2. an ordered
3. list&lt;/pre&gt;&lt;/td&gt;
&lt;td&gt;&lt;pre&gt;1) Things in
2) an ordered
3) list&lt;/pre&gt;&lt;/td&gt;
&lt;td&gt;&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Things in&lt;/li&gt;
&lt;li&gt;an ordered&lt;/li&gt;
&lt;li&gt;list&lt;/li&gt;
&lt;/ol&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td&gt;&lt;pre&gt;Horizontal line
&lt;p&gt;&amp;mdash;&lt;/pre&gt;&lt;/td&gt;&lt;/p&gt;
&lt;td&gt;&lt;pre&gt;Horizontal line
&lt;p&gt;***&lt;/pre&gt;&lt;/td&gt;&lt;/p&gt;
&lt;td&gt;&lt;p&gt;Horizontal line&lt;/p&gt;
&lt;hr /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;math&#34;&gt;Math&lt;/h2&gt;
&lt;p&gt;Markdown uses LaTeX to create fancy mathematical equations. There are like a billion little options and features available for math equations—you can find &lt;a href=&#34;http://www.malinc.se/math/latex/basiccodeen.php&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;helpful examples of the the most common basic commands here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;You can use math in two different ways: inline or in a display block. To use math inline, wrap it in single dollar signs, like &lt;code&gt;\$y = mx + b\$&lt;/code&gt;:&lt;/p&gt;
&lt;table&gt;
&lt;colgroup&gt;
&lt;col width=&#34;52%&#34; /&gt;
&lt;col width=&#34;47%&#34; /&gt;
&lt;/colgroup&gt;
&lt;thead&gt;
&lt;tr class=&#34;header&#34;&gt;
&lt;th&gt;Type…&lt;/th&gt;
&lt;th&gt;…to get&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;&lt;pre&gt;Based on the DAG, the regression model for
estimating the effect of education on wages
is &amp;dollar;\hat{y} = \beta_0 + \beta_1 x_1 + \epsilon&amp;dollar;, or
&amp;dollar;\text{Wages} = \beta_0 + \beta_1 \text{Education} + \epsilon&amp;dollar;.&lt;/pre&gt;&lt;/td&gt;
&lt;td&gt;Based on the DAG, the regression model for
estimating the effect of education on wages
is &lt;span class=&#34;math inline&#34;&gt;\(\hat{y} = \beta_0 + \beta_1 x_1 + \epsilon\)&lt;/span&gt;, or
&lt;span class=&#34;math inline&#34;&gt;\(\text{Wages} = \beta_0 + \beta_1 \text{Education} + \epsilon\)&lt;/span&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;To put an equation on its own line in a display block, wrap it in double dollar signs, like this:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Type…&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;The quadratic equation was an important part of high school math:

$$
x = \frac{-b \pm \sqrt{b^2 - 4ac}}{2a}
$$

But now we just use computers to solve for $x$.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;…to get…&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The quadratic equation was an important part of high school math:&lt;/p&gt;
&lt;p&gt;$$
x = \frac{-b \pm \sqrt{b^2 - 4ac}}{2a}
$$&lt;/p&gt;
&lt;p&gt;But now we just use computers to solve for &lt;code&gt;\(x\)&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;p&gt;Because dollar signs are used to indicate math equations, you can&amp;rsquo;t just use dollar signs like normal if you&amp;rsquo;re writing about actual dollars. For instance, if you write &lt;code&gt;This book costs \$5.75 and this other costs \$40&lt;/code&gt;, Markdown will treat everything that comes between the dollar signs as math, like so: &amp;ldquo;This book costs $5.75 and this other costs $40&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;To get around that, put a backslash (&lt;code&gt;\&lt;/code&gt;) in front of the dollar signs, so that &lt;code&gt;This book costs \\\$5.75 and this other costs \\\$40&lt;/code&gt; becomes &amp;ldquo;This book costs &lt;span&gt;$5.75&lt;/span&gt; and this other costs &lt;span&gt;$40&lt;/span&gt;&amp;rdquo;.&lt;/p&gt;
&lt;h2 id=&#34;tables&#34;&gt;Tables&lt;/h2&gt;
&lt;p&gt;There are 4 different ways to hand-create tables in Markdown—I say &amp;ldquo;hand-create&amp;rdquo; because it&amp;rsquo;s normally way easier to use R to generate these things with packages like &lt;a href=&#34;https://rapporter.github.io/pander/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;pander&lt;/strong&gt;&lt;/a&gt; (use &lt;code&gt;pandoc.table()&lt;/code&gt;) or &lt;strong&gt;knitr&lt;/strong&gt; (use &lt;a href=&#34;https://bookdown.org/yihui/rmarkdown-cookbook/kable.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;code&gt;kable()&lt;/code&gt;&lt;/a&gt;). The two most common are simple tables and pipe tables. &lt;a href=&#34;https://pandoc.org/MANUAL.html#tables&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;You should look at the full documentation here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;For simple tables, type…&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;  Right     Left     Center     Default
-------     ------ ----------   -------
     12     12        12            12
    123     123       123          123
      1     1          1             1

Table: Caption goes here
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;…to get…&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Right     Left     Center     Default&lt;/p&gt;
&lt;hr&gt;
&lt;pre&gt;&lt;code&gt; 12     12        12            12
123     123       123          123
  1     1          1             1
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Table: Caption goes here&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;For pipe tables, type…&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;| Right | Left | Default | Center |
|------:|:-----|---------|:------:|
|   12  |  12  |    12   |    12  |
|  123  |  123 |   123   |   123  |
|    1  |    1 |     1   |     1  |

Table: Caption goes here
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;…to get…&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:right&#34;&gt;Right&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Left&lt;/th&gt;
&lt;th&gt;Default&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;Center&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right&#34;&gt;12&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;12&lt;/td&gt;
&lt;td&gt;12&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;12&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right&#34;&gt;123&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;123&lt;/td&gt;
&lt;td&gt;123&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;123&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right&#34;&gt;1&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;1&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Table: Caption goes here&lt;/p&gt;
&lt;h2 id=&#34;footnotes&#34;&gt;Footnotes&lt;/h2&gt;
&lt;p&gt;There are two different ways to add footnotes (&lt;a href=&#34;https://pandoc.org/MANUAL.html#footnotes&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;see here for complete documentation&lt;/a&gt;): regular and inline.&lt;/p&gt;
&lt;p&gt;Regular notes need (1) an identifier and (2) the actual note. The identifier can be whatever you want. Some people like to use numbers like &lt;code&gt;[^1]&lt;/code&gt;, but if you ever rearrange paragraphs or add notes before #1, the numbering will be wrong (in your Markdown file, not in the output; everything will be correct in the output). Because of that, I prefer to use some sort of text label:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Type…&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;Here is a footnote reference[^1] and here is another [^note-on-dags].

[^1]: This is a note.

[^note-on-dags]: DAGs are neat. 

And here&amp;#39;s more of the document.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;…to get…&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Here is a footnote reference&lt;a href=&#34;#fn1&#34; class=&#34;footnote-ref&#34; id=&#34;fnref1&#34;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt; and here is another.&lt;a href=&#34;#fn2&#34; class=&#34;footnote-ref&#34; id=&#34;fnref2&#34;&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;And here&amp;rsquo;s more of the document.&lt;/p&gt;
&lt;hr /&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;ol&gt;
&lt;li id=&#34;fn1&#34;&gt;&lt;p&gt;This is a note.&lt;a href=&#34;#fnref1&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn2&#34;&gt;&lt;p&gt;DAGs are neat.&lt;a href=&#34;#fnref2&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;p&gt;You can also use inline footnotes with &lt;code&gt;^[Text of the note goes here]&lt;/code&gt;, which are often easier because you don&amp;rsquo;t need to worry about identifiers:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Type…&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;Causal inference is neat.^[But it can be hard too!]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;…to get…&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Causal inference is neat.&lt;a href=&#34;#fn3&#34; class=&#34;footnote-ref&#34; id=&#34;fnref3&#34;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;ol&gt;
&lt;li id=&#34;fn3&#34;&gt;&lt;p&gt;But it can be hard too!&lt;a href=&#34;#fnref3&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;front-matter&#34;&gt;Front matter&lt;/h2&gt;
&lt;p&gt;You can include a special section at the top of a Markdown document that contains metadata (or data about your document) like the title, date, author, etc. This section uses a special simple syntax named &lt;a href=&#34;https://learn.getgrav.org/16/advanced/yaml&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;YAML&lt;/a&gt; (or &amp;ldquo;YAML Ain&amp;rsquo;t Markup Language&amp;rdquo;) that follows this basic outline: &lt;code&gt;setting: value for setting&lt;/code&gt;. Here&amp;rsquo;s an example YAML metadata section. Note that it must start and end with three dashes (&lt;code&gt;---&lt;/code&gt;).&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;---
&lt;span style=&#34;color:#f92672&#34;&gt;title&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;Title of your document&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;date&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;January 13, 2020&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;author&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Your name&amp;#34;&lt;/span&gt;
---
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You can put the values inside quotes (like the date and name in the example above), or you can leave them outside of quotes (like the title in the example above). I typically use quotes just to be safe—if the value you&amp;rsquo;re using has a colon (&lt;code&gt;:&lt;/code&gt;) in it, it&amp;rsquo;ll confuse Markdown since it&amp;rsquo;ll be something like &lt;code&gt;title: My cool title: a subtitle&lt;/code&gt;, which has two colons. It&amp;rsquo;s better to do this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;---
&lt;span style=&#34;color:#f92672&#34;&gt;title&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;My cool title: a subtitle&amp;#34;&lt;/span&gt;
---
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;If you want to use quotes inside one of the values (e.g. your document is &lt;code&gt;An evaluation of &amp;quot;scare quotes&amp;quot;&lt;/code&gt;), you can use single quotes instead:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;---
&lt;span style=&#34;color:#f92672&#34;&gt;title&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;An evaluation of &amp;#34;scare quotes&amp;#34;&amp;#39;&lt;/span&gt;
---
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;citations&#34;&gt;Citations&lt;/h2&gt;
&lt;p&gt;One of the most powerful features of Markdown + pandoc is the ability to automatically cite things and generate bibliographies. to use citations, you need to create a &lt;a href=&#34;http://www.bibtex.org/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;BibTeX file&lt;/a&gt; (ends in &lt;code&gt;.bib&lt;/code&gt;) that contains a database of the things you want to cite. You can do this with bibliography managers designed to work with BibTeX directly (like &lt;a href=&#34;https://bibdesk.sourceforge.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;BibDesk&lt;/a&gt; on macOS), or you can use &lt;a href=&#34;https://www.zotero.org/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Zotero&lt;/a&gt; (macOS and Windows) to export a &lt;code&gt;.bib&lt;/code&gt; file. You can &lt;a href=&#34;/resource/citations/&#34;&gt;download an example &lt;code&gt;.bib&lt;/code&gt; file of all the readings from this class here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://rmarkdown.rstudio.com/authoring_bibliographies_and_citations.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Complete details for using citations can be found here&lt;/a&gt;. In brief, you need to do three things:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Add a &lt;code&gt;bibliography:&lt;/code&gt; entry to the YAML metadata:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;---
&lt;span style=&#34;color:#f92672&#34;&gt;title&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;Title of your document&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;date&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;January 13, 2020&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;author&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Your name&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;bibliography&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;name_of_file.bib&lt;/span&gt;
---
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Choose a citation style based on a CSL file. The default is Chicago author-date, but you can choose from 2,000+ &lt;a href=&#34;https://github.com/citation-style-language/styles&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;at this repository&lt;/a&gt;. Download the CSL file, put it in your project folder, and add an entry to the YAML metadata (or provide a URL to the online version):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;---
&lt;span style=&#34;color:#f92672&#34;&gt;title&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;Title of your document&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;date&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;January 13, 2020&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;author&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Your name&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;bibliography&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;name_of_file.bib&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;csl&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://raw.githubusercontent.com/citation-style-language/styles/master/apa.csl&amp;#34;&lt;/span&gt;
---
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Some of the most common CSLs are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/citation-style-language/styles/master/chicago-author-date.csl&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Chicago author-date&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/citation-style-language/styles/master/chicago-note-bibliography.csl&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Chicago note-bibliography&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/citation-style-language/styles/master/chicago-fullnote-bibliography.csl&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Chicago full note-bibliography&lt;/a&gt; (no shortened notes or ibids)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/citation-style-language/styles/master/apa.csl&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;APA 7th edition&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://raw.githubusercontent.com/citation-style-language/styles/master/modern-language-association.csl&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;MLA 8th edition&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Cite things in your document. &lt;a href=&#34;https://rmarkdown.rstudio.com/authoring_bibliographies_and_citations.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Check the documentation for full details of how to do this&lt;/a&gt;. Essentially, you use &lt;code&gt;@citationkey&lt;/code&gt; inside square brackets (&lt;code&gt;[]&lt;/code&gt;):&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Type…&lt;/th&gt;
&lt;th&gt;…to get…&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Causal inference is neat [@Rohrer:2018; @AngristPischke:2015].&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Causal inference is neat (Rohrer 2018; Angrist and Pischke 2015).&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Causal inference is neat [see @Rohrer:2018, p. 34; also @AngristPischke:2015, chapter 1].&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Causal inference is neat (see Rohrer 2018, 34; also Angrist and Pischke 2015, chap. 1).&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Angrist and Pischke say causal inference is neat [-@AngristPischke:2015; see also @Rohrer:2018].&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Angrist and Pischke say causal inference is neat (2015; see also Rohrer 2018).&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;@AngristPischke:2015 [chapter 1] say causal inference is neat, and @Rohrer:2018 agrees.&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Angrist and Pischke (2015, chap. 1) say causal inference is neat, and Rohrer (2018) agrees.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;After compiling, you should have a perfectly formatted bibliography added to the end of your document too:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Angrist, Joshua D., and Jörn-Steffen Pischke. 2015. &lt;em&gt;Mastering ’Metrics: The Path from Cause to Effect.&lt;/em&gt; Princeton, NJ: Princeton University Press.&lt;/p&gt;
&lt;p&gt;Rohrer, Julia M. 2018. “Thinking Clearly About Correlations and Causation: Graphical Causal Models for Observational Data.” &lt;em&gt;Advances in Methods and Practices in Psychological Science&lt;/em&gt; 1 (1): 27–42. &lt;a href=&#34;https://doi.org/10.1177/2515245917745629&#34;&gt;https://doi.org/10.1177/2515245917745629&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;other-references&#34;&gt;Other references&lt;/h2&gt;
&lt;p&gt;These websites have additional details and examples and practice tools:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://commonmark.org/help/tutorial/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;CommonMark&amp;rsquo;s Markdown tutorial&lt;/strong&gt;&lt;/a&gt;: A quick interactive Markdown tutorial.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.markdowntutorial.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;Markdown tutorial&lt;/strong&gt;&lt;/a&gt;: Another interactive tutorial to practice using Markdown.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://packetlife.net/media/library/16/Markdown.pdf&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;Markdown cheatsheet&lt;/strong&gt;&lt;/a&gt;: Useful one-page reminder of Markdown syntax.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://plain-text.co/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;The Plain Person’s Guide to Plain Text Social Science&lt;/strong&gt;&lt;/a&gt;: A comprehensive explanation and tutorial about why you should write data-based reports in Markdown.&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Using R Markdown</title>
      <link>/resource/rmarkdown/</link>
      <pubDate>Mon, 13 Jan 2020 00:00:00 +0000</pubDate>
      <guid>/resource/rmarkdown/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://rmarkdown.rstudio.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;R Markdown&lt;/a&gt; is &lt;a href=&#34;/resource/markdown/&#34;&gt;regular Markdown&lt;/a&gt; with R code and output sprinkled in. You can do everything you can with &lt;a href=&#34;/resource/markdown/&#34;&gt;regular Markdown&lt;/a&gt;, but you can incorporate graphs, tables, and other R output directly in your document. You can create HTML, PDF, and Word documents, PowerPoint and HTML presentations, websites, books, and even &lt;a href=&#34;https://rmarkdown.rstudio.com/flexdashboard/index.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;interactive dashboards&lt;/a&gt; with R Markdown. This whole course website is created with R Markdown (and &lt;a href=&#34;https://bookdown.org/yihui/blogdown/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;a package named &lt;strong&gt;blogdown&lt;/strong&gt;&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;The &lt;a href=&#34;https://rmarkdown.rstudio.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;documentation for R Markdown&lt;/a&gt; is extremely comprehensive, and their &lt;a href=&#34;https://rmarkdown.rstudio.com/lesson-1.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;tutorials&lt;/a&gt; and &lt;a href=&#34;https://rmarkdown.rstudio.com/lesson-15.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;cheatsheets&lt;/a&gt; are excellent—rely on those.&lt;/p&gt;
&lt;p&gt;Here are the most important things you&amp;rsquo;ll need to know about R Markdown in this class:&lt;/p&gt;
&lt;h2 id=&#34;key-terms&#34;&gt;Key terms&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Document&lt;/strong&gt;: A Markdown file where you type stuff&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Chunk&lt;/strong&gt;: A piece of R code that is included in your document. It looks like this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-markdown&#34; data-lang=&#34;markdown&#34;&gt;```{r}
# Code goes here
```
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;There must be an empty line before and after the chunk. The final three backticks must be the only thing on the line—if you add more text, or if you forget to add the backticks, or accidentally delete the backticks, your document will not knit correctly.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Knit&lt;/strong&gt;: When you &amp;ldquo;knit&amp;rdquo; a document, R runs each of the chunks sequentially and converts the output of each chunk into Markdown. R then runs the knitted document through &lt;a href=&#34;https://pandoc.org/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;pandoc&lt;/a&gt; to convert it to HTML or PDF or Word (or whatever output you&amp;rsquo;ve selected).&lt;/p&gt;
&lt;p&gt;You can knit by clicking on the &amp;ldquo;Knit&amp;rdquo; button at the top of the editor window, or by pressing &lt;code&gt;⌘⇧K&lt;/code&gt; on macOS or &lt;code&gt;control + shift + K&lt;/code&gt; on Windows.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/assignments/knit-button.png&#34; width=&#34;30%&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;add-chunks&#34;&gt;Add chunks&lt;/h2&gt;
&lt;p&gt;There are three ways to insert chunks:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Press &lt;code&gt;⌘⌥I&lt;/code&gt; on macOS or &lt;code&gt;control + alt + I&lt;/code&gt; on Windows&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Click on the &amp;ldquo;Insert&amp;rdquo; button at the top of the editor window&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/reference/insert-chunk.png&#34; width=&#34;30%&#34; /&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Manually type all the backticks and curly braces (don&amp;rsquo;t do this)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;chunk-names&#34;&gt;Chunk names&lt;/h2&gt;
&lt;p&gt;You can add names to chunks to make it easier to navigate your document. If you click on the little dropdown menu at the bottom of your editor in RStudio, you can see a table of contents that shows all the headings and chunks. If you name chunks, they&amp;rsquo;ll appear in the list. If you don&amp;rsquo;t include a name, the chunk will still show up, but you won&amp;rsquo;t know what it does.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/reference/chunk-toc.png&#34; width=&#34;40%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;To add a name, include it immediately after the &lt;code&gt;{r&lt;/code&gt; in the first line of the chunk. Names cannot contain spaces, but they can contain underscores and dashes. &lt;strong&gt;All chunk names in your document must be unique.&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-markdown&#34; data-lang=&#34;markdown&#34;&gt;```{r name-of-this-chunk}
# Code goes here
```
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;chunk-options&#34;&gt;Chunk options&lt;/h2&gt;
&lt;p&gt;There are a bunch of different options you can set for each chunk. You can see a complete list in the &lt;a href=&#34;https://rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;RMarkdown Reference Guide&lt;/a&gt; or at &lt;a href=&#34;https://yihui.org/knitr/options/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;knitr&lt;/strong&gt;&amp;rsquo;s website&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Options go inside the &lt;code&gt;{r}&lt;/code&gt; section of the chunk:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-markdown&#34; data-lang=&#34;markdown&#34;&gt;```{r name-of-this-chunk, warning=FALSE, message=FALSE}
# Code goes here
```
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The most common chunk options are these:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;fig.width=5&lt;/code&gt; and &lt;code&gt;fig.height=3&lt;/code&gt; (&lt;em&gt;or whatever number you want&lt;/em&gt;): Set the dimensions for figures&lt;/li&gt;
&lt;li&gt;&lt;code&gt;echo=FALSE&lt;/code&gt;: The code is not shown in the final document, but the results are&lt;/li&gt;
&lt;li&gt;&lt;code&gt;message=FALSE&lt;/code&gt;: Any messages that R generates (like all the notes that appear after you load a package) are omitted&lt;/li&gt;
&lt;li&gt;&lt;code&gt;warning=FALSE&lt;/code&gt;: Any warnings that R generates are omitted&lt;/li&gt;
&lt;li&gt;&lt;code&gt;include=FALSE&lt;/code&gt;: The chunk still runs, but the code and results are not included in the final document&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can also set chunk options by clicking on the little gear icon in the top right corner of any chunk:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/reference/chunk-options.png&#34; width=&#34;70%&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;inline-chunks&#34;&gt;Inline chunks&lt;/h2&gt;
&lt;p&gt;You can also include R output directly in your text, which is really helpful if you want to report numbers from your analysis. To do this, use &lt;code&gt;`r r_code_here`&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s generally easiest to calculate numbers in a regular chunk beforehand and then use an inline chunk to display the value in your text. For instance, this document…&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-markdown&#34; data-lang=&#34;markdown&#34;&gt;```{r find-avg-mpg, echo=FALSE}
avg_mpg &amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;mean&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;mtcars&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;mpg&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;)&lt;/span&gt;
&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;```&lt;/span&gt;

&lt;span style=&#34;color:#a6e22e&#34;&gt;The&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;average&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;fuel&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;efficiency&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;for&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;cars&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;from&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;1974&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;was&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;`r round(avg_mpg, 1)`&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;miles&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;per&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;gallon&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;… would knit into this:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The average fuel efficiency for cars from 1974 was 20.1 miles per gallon.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;output-formats&#34;&gt;Output formats&lt;/h2&gt;
&lt;p&gt;You can specify what kind of document you create when you knit in the &lt;a href=&#34;/resource/markdown/#front-matter&#34;&gt;YAML front matter&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;title&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;My document&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;output&lt;/span&gt;:
  &lt;span style=&#34;color:#f92672&#34;&gt;html_document&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;default&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;pdf_document&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;default&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;word_document&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;default&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You can also click on the down arrow on the &amp;ldquo;Knit&amp;rdquo; button to choose the output &lt;em&gt;and&lt;/em&gt; generate the appropriate YAML. If you click on the gear icon next to the &amp;ldquo;Knit&amp;rdquo; button and choose &amp;ldquo;Output options&amp;rdquo;, you change settings for each specific output type, like default figure dimensions or whether or not a table of contents is included.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/reference/output-options.png&#34; width=&#34;35%&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The first output type listed under &lt;code&gt;output:&lt;/code&gt; will be what is generated when you click on the &amp;ldquo;Knit&amp;rdquo; button or press the keyboard shortcut (&lt;code&gt;⌘⇧K&lt;/code&gt; on macOS; &lt;code&gt;control + shift + K&lt;/code&gt; on Windows). If you choose a different output with the &amp;ldquo;Knit&amp;rdquo; button menu, that output will be moved to the top of the &lt;code&gt;output&lt;/code&gt; section.&lt;/p&gt;
&lt;p&gt;The indentation of the YAML section matters, especially when you have settings nested under each output type. Here&amp;rsquo;s what a typical &lt;code&gt;output&lt;/code&gt; section might look like:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;---
&lt;span style=&#34;color:#f92672&#34;&gt;title&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;My document&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;author&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;My name&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;date&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;January 13, 2020&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;output&lt;/span&gt;: 
  &lt;span style=&#34;color:#f92672&#34;&gt;html_document&lt;/span&gt;: 
    &lt;span style=&#34;color:#f92672&#34;&gt;toc&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;yes&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;fig_caption&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;yes&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;fig_height&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;8&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;fig_width&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;pdf_document&lt;/span&gt;: 
    &lt;span style=&#34;color:#f92672&#34;&gt;latex_engine&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;xelatex &lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;# More modern PDF typesetting engine&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;toc&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;yes&lt;/span&gt;
  &lt;span style=&#34;color:#f92672&#34;&gt;word_document&lt;/span&gt;: 
    &lt;span style=&#34;color:#f92672&#34;&gt;toc&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;yes&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;fig_caption&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;yes&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;fig_height&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;fig_width&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;
---
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>Schedule</title>
      <link>/schedule/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/schedule/</guid>
      <description>
&lt;script src=&#34;/schedule/index_files/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;


&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;/content/&#34;&gt;&lt;strong&gt;Clases&lt;/strong&gt;&lt;/a&gt; (&lt;i class=&#34;fas fa-book-reader&#34;&gt;&lt;/i&gt;): Esta página contiene las presentaciones, sesiones grabadas y lecturas correspondientes al tema.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;/example/&#34;&gt;&lt;strong&gt;Prácticos&lt;/strong&gt;&lt;/a&gt; (&lt;i class=&#34;fas fa-laptop-code&#34;&gt;&lt;/i&gt;): Esta página contiene los ejercicios prácticos asociados a cada sesión de clase. Podrás encontrar tanto el código de R cómo, en algunos casos, los videos grabados del &lt;em&gt;live coding&lt;/em&gt;. Esta página será &lt;strong&gt;muy importante&lt;/strong&gt; para la entrega de las tareas.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;/assignment/&#34;&gt;&lt;strong&gt;Tareas&lt;/strong&gt;&lt;/a&gt; (&lt;i class=&#34;fas fa-pencil-ruler&#34;&gt;&lt;/i&gt;): Esta página contiene las instrucciones para cada tarea. &lt;strong&gt;Las tareas pueden ser entregadas hasta el día viernes a las 23.59 de la semana correspondiente&lt;/strong&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;ical&#34;&gt;
&lt;p&gt;Puedes suscribir la &lt;strong&gt;planificación&lt;/strong&gt; del curso con la URL del calendario en Outlook, Google Calendar o Apple Calendar:&lt;br&gt;&lt;a class=&#34;btn btn-primary&#34; href=&#34;https://bit.ly/3AYfLhR&#34; role=&#34;button&#34;&gt;&lt;i class=&#34;far fa-calendar-alt&#34;&gt;&lt;/i&gt;&lt;/a&gt; &lt;input id=&#34;ics_url&#34; type=&#34;text&#34; value=&#34;https://bit.ly/3AYfLhR&#34; onclick=&#34;this.select()&#34; readonly=&#34;readonly&#34; size=&#34;60&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;table class=&#34;table schedule&#34; style=&#34;max-width:100%&#34;&gt;
    &lt;tbody&gt;
        &lt;tr
            class=&#34; fake-header-table&#34;&gt;
            &lt;td align=&#34;right&#34; style=&#34;width:20%;text-align:right&#34;&gt;
                &lt;strong&gt;&lt;/strong&gt;&lt;/td&gt;
            &lt;td style=&#34;width:56%;text-align:left&#34;&gt;Análisis Estadístico en R&lt;/td&gt;

            &lt;td style=&#34;width:8%;text-align:center&#34; class=&#34;mid-table-header&#34;&gt;Clases&lt;/td&gt;
            &lt;td style=&#34;width:8%;text-align:center&#34; class=&#34;mid-table-header&#34;&gt;Prácticos&lt;/td&gt;
            &lt;td style=&#34;width:8%;text-align:center&#34; class=&#34;mid-table-header&#34;&gt;Tareas&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr
            class=&#34; schedule-bg-1&#34;&gt;
            &lt;td align=&#34;right&#34; style=&#34;width:20%;text-align:right&#34;&gt;
                &lt;strong&gt;9-16 de agosto&lt;/strong&gt;&lt;/td&gt;
            &lt;td style=&#34;width:56%;text-align:left&#34;&gt;&lt;span class=&#34;content-title&#34;&gt;Unidad 1. Elementos y herramientas básicos de R&lt;/span&gt;&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-book-reader fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-laptop-code fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-pencil-ruler fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr
            class=&#34; schedule-bg-1&#34;&gt;
            &lt;td align=&#34;right&#34; style=&#34;width:20%;text-align:right&#34;&gt;
                &lt;strong&gt;9 Agosto&lt;/strong&gt;&lt;br&gt;
                &lt;small&gt;(Sesión 1)&lt;/small&gt;&lt;/td&gt;
            &lt;td style=&#34;width:56%;text-align:left&#34;&gt;1.1 R enviroment: interfaz de RStudio, elementos de script, workspace&lt;br&gt;1.2 Prácticas y herramientas de consulta: CRAN, stackoverflow, Rcommunity&lt;br&gt;1.3 Herramientas para la colaboración y comunicación: Rprojects, GitHub y Slack&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;&lt;a
                    href=&#34;/content/01-content/&#34;&gt;
                    &lt;i class=&#34;fas fa-book-reader fa-lg&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;&lt;a
                    href=&#34;/example/rstudio-tidyverse/&#34;&gt;
                    &lt;i class=&#34;fas fa-laptop-code fa-lg&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;&lt;a
                    href=&#34;/assignment/weekly-check-in/&#34;&gt;
                    &lt;i class=&#34;fas fa-pencil-ruler fa-lg&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr
            class=&#34; section-bottom schedule-bg-1&#34;&gt;
            &lt;td align=&#34;right&#34; style=&#34;width:20%;text-align:right&#34;&gt;
                &lt;strong&gt;16 Agosto&lt;/strong&gt;&lt;br&gt;
                &lt;small&gt;(Sesión 2)&lt;/small&gt;&lt;/td&gt;
            &lt;td style=&#34;width:56%;text-align:left&#34;&gt;1.4 Librerías y funciones para las ciencias sociales: tidyverse y sj (sjmisc y sjPlot)&lt;br&gt;1.5 Construcción de reportes reproducibles e integrados con código: Rmarkdown&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;&lt;a
                    href=&#34;/content/02-content/&#34;&gt;
                    &lt;i class=&#34;fas fa-book-reader fa-lg&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;&lt;a
                    href=&#34;/example/rstudio-tidyverse/&#34;&gt;
                    &lt;i class=&#34;fas fa-laptop-code fa-lg&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;&lt;a
                    href=&#34;/assignment/01-problem-set/&#34;&gt;
                    &lt;i class=&#34;fas fa-pencil-ruler fa-lg&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr
            class=&#34; schedule-bg-2&#34;&gt;
            &lt;td align=&#34;right&#34; style=&#34;width:20%;text-align:right&#34;&gt;
                &lt;strong&gt;23 Agosto-6 Septiembre&lt;/strong&gt;&lt;/td&gt;
            &lt;td style=&#34;width:56%;text-align:left&#34;&gt;&lt;span class=&#34;content-title&#34;&gt;Unidad 2. Manipulación y limpieza de datos&lt;/span&gt;&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-book-reader fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-laptop-code fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-pencil-ruler fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr
            class=&#34; schedule-bg-2&#34;&gt;
            &lt;td align=&#34;right&#34; style=&#34;width:20%;text-align:right&#34;&gt;
                &lt;strong&gt;23 Agosto&lt;/strong&gt;&lt;br&gt;
                &lt;small&gt;(Sesión 3)&lt;/small&gt;&lt;/td&gt;
            &lt;td style=&#34;width:56%;text-align:left&#34;&gt;2.1 Importar/exportar datos en diferentes formatos&lt;br&gt;2.2 Validación y limpieza de variables&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;&lt;a
                    href=&#34;/content/03-content/&#34;&gt;
                    &lt;i class=&#34;fas fa-book-reader fa-lg&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;&lt;a
                    href=&#34;/example/rstudio-tidyverse/&#34;&gt;
                    &lt;i class=&#34;fas fa-laptop-code fa-lg&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-pencil-ruler fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr
            class=&#34; schedule-bg-2&#34;&gt;
            &lt;td align=&#34;right&#34; style=&#34;width:20%;text-align:right&#34;&gt;
                &lt;strong&gt;30 Agosto&lt;/strong&gt;&lt;br&gt;
                &lt;small&gt;(Sesión 4)&lt;/small&gt;&lt;/td&gt;
            &lt;td style=&#34;width:56%;text-align:left&#34;&gt;2.3 Transformación y selección de variables&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-book-reader fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;&lt;a
                    href=&#34;/example/rstudio-tidyverse/&#34;&gt;
                    &lt;i class=&#34;fas fa-laptop-code fa-lg&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-pencil-ruler fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr
            class=&#34; section-bottom schedule-bg-2&#34;&gt;
            &lt;td align=&#34;right&#34; style=&#34;width:20%;text-align:right&#34;&gt;
                &lt;strong&gt;6 Septiembre&lt;/strong&gt;&lt;br&gt;
                &lt;small&gt;(Sesión 5)&lt;/small&gt;&lt;/td&gt;
            &lt;td style=&#34;width:56%;text-align:left&#34;&gt;2.4 Transformación de datos en tidydata&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;&lt;a
                    href=&#34;/content/05-content/&#34;&gt;
                    &lt;i class=&#34;fas fa-book-reader fa-lg&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;&lt;a
                    href=&#34;/example/rstudio-tidyverse/&#34;&gt;
                    &lt;i class=&#34;fas fa-laptop-code fa-lg&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;&lt;a
                    href=&#34;/assignment/02-problem-set/&#34;&gt;
                    &lt;i class=&#34;fas fa-pencil-ruler fa-lg&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr
            class=&#34; schedule-bg-1&#34;&gt;
            &lt;td align=&#34;right&#34; style=&#34;width:20%;text-align:right&#34;&gt;
                &lt;strong&gt;13-20 Septiembre&lt;/strong&gt;&lt;/td&gt;
            &lt;td style=&#34;width:56%;text-align:left&#34;&gt;&lt;span class=&#34;content-title&#34;&gt;Unidad 3. Análisis estadístico descriptivo en R&lt;/span&gt;&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-book-reader fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-laptop-code fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-pencil-ruler fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr
            class=&#34; section-bottom schedule-bg-1&#34;&gt;
            &lt;td align=&#34;right&#34; style=&#34;width:20%;text-align:right&#34;&gt;
                &lt;strong&gt;13 Septiembre&lt;/strong&gt;&lt;br&gt;
                &lt;small&gt;(Sesión 6)&lt;/small&gt;&lt;/td&gt;
            &lt;td style=&#34;width:56%;text-align:left&#34;&gt;3.1 Análisis descriptivos univariados: medidas de tendencia central, dispersión y frecuencias&lt;br&gt;3.2 Análisis bivariado: tablas de contingencia, correlaciones y ANOVA&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;&lt;a
                    href=&#34;/content/06-content/&#34;&gt;
                    &lt;i class=&#34;fas fa-book-reader fa-lg&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;&lt;a
                    href=&#34;/example/rstudio-tidyverse/&#34;&gt;
                    &lt;i class=&#34;fas fa-laptop-code fa-lg&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;&lt;a
                    href=&#34;/assignment/03-problem-set/&#34;&gt;
                    &lt;i class=&#34;fas fa-pencil-ruler fa-lg&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr
            class=&#34; section-bottom schedule-bg-2&#34;&gt;
            &lt;td align=&#34;right&#34; style=&#34;width:20%;text-align:right&#34;&gt;
                &lt;strong&gt;20 Septiembre&lt;/strong&gt;&lt;/td&gt;
            &lt;td style=&#34;width:56%;text-align:left&#34;&gt;Semana de receso&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-book-reader fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-laptop-code fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-pencil-ruler fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr
            class=&#34; schedule-bg-1&#34;&gt;
            &lt;td align=&#34;right&#34; style=&#34;width:20%;text-align:right&#34;&gt;
                &lt;strong&gt;27 Septiembre-8 Noviembre&lt;/strong&gt;&lt;/td&gt;
            &lt;td style=&#34;width:56%;text-align:left&#34;&gt;&lt;span class=&#34;content-title&#34;&gt;Unidad 4. Análisis estadístico inferencial en R&lt;/span&gt;&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-book-reader fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-laptop-code fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-pencil-ruler fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr
            class=&#34; schedule-bg-1&#34;&gt;
            &lt;td align=&#34;right&#34; style=&#34;width:20%;text-align:right&#34;&gt;
                &lt;strong&gt;27 Septiembre&lt;/strong&gt;&lt;br&gt;
                &lt;small&gt;(Sesión 7)&lt;/small&gt;&lt;/td&gt;
            &lt;td style=&#34;width:56%;text-align:left&#34;&gt;4.1 Muestras complejas y precisión de inferencia estadística&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;&lt;a
                    href=&#34;/content/07-content/&#34;&gt;
                    &lt;i class=&#34;fas fa-book-reader fa-lg&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;&lt;a
                    href=&#34;/example/rstudio-tidyverse/&#34;&gt;
                    &lt;i class=&#34;fas fa-laptop-code fa-lg&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;&lt;a
                    href=&#34;/assignment/04-problem-set/&#34;&gt;
                    &lt;i class=&#34;fas fa-pencil-ruler fa-lg&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr
            class=&#34; section-bottom schedule-bg-1&#34;&gt;
            &lt;td align=&#34;right&#34; style=&#34;width:20%;text-align:right&#34;&gt;
                &lt;strong&gt;4 Octubre&lt;/strong&gt;&lt;br&gt;
                &lt;small&gt;(Sesión 8)&lt;/small&gt;&lt;/td&gt;
            &lt;td style=&#34;width:56%;text-align:left&#34;&gt;4.2 Pruebas de hipótesis y representación gráfica&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;&lt;a
                    href=&#34;/content/08-content/&#34;&gt;
                    &lt;i class=&#34;fas fa-book-reader fa-lg&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;&lt;a
                    href=&#34;/example/rstudio-tidyverse/&#34;&gt;
                    &lt;i class=&#34;fas fa-laptop-code fa-lg&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-pencil-ruler fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr
            class=&#34; section-bottom schedule-bg-2&#34;&gt;
            &lt;td align=&#34;right&#34; style=&#34;width:20%;text-align:right&#34;&gt;
                &lt;strong&gt;11 Octubre&lt;/strong&gt;&lt;/td&gt;
            &lt;td style=&#34;width:56%;text-align:left&#34;&gt;Feriado&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-book-reader fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-laptop-code fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-pencil-ruler fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr
            class=&#34; schedule-bg-1&#34;&gt;
            &lt;td align=&#34;right&#34; style=&#34;width:20%;text-align:right&#34;&gt;
                &lt;strong&gt;18 Octubre&lt;/strong&gt;&lt;br&gt;
                &lt;small&gt;(Sesión 9)&lt;/small&gt;&lt;/td&gt;
            &lt;td style=&#34;width:56%;text-align:left&#34;&gt;4.3 Regresiones &lt;strong&gt;lineales&lt;/strong&gt;, predictores categóricos y representación gráfica&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;&lt;a
                    href=&#34;/content/09-content/&#34;&gt;
                    &lt;i class=&#34;fas fa-book-reader fa-lg&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;&lt;a
                    href=&#34;/example/rstudio-tidyverse/&#34;&gt;
                    &lt;i class=&#34;fas fa-laptop-code fa-lg&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-pencil-ruler fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr
            class=&#34; schedule-bg-1&#34;&gt;
            &lt;td align=&#34;right&#34; style=&#34;width:20%;text-align:right&#34;&gt;
                &lt;strong&gt;25 Octubre&lt;/strong&gt;&lt;br&gt;
                &lt;small&gt;(Sesión 10)&lt;/small&gt;&lt;/td&gt;
            &lt;td style=&#34;width:56%;text-align:left&#34;&gt;4.4 Regresiones &lt;strong&gt;logísticas&lt;/strong&gt;, exponenciación y representación gráfica&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;&lt;a
                    href=&#34;/content/10-content/&#34;&gt;
                    &lt;i class=&#34;fas fa-book-reader fa-lg&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;&lt;a
                    href=&#34;/example/rstudio-tidyverse/&#34;&gt;
                    &lt;i class=&#34;fas fa-laptop-code fa-lg&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;&lt;a
                    href=&#34;/assignment/05-problem-set/&#34;&gt;
                    &lt;i class=&#34;fas fa-pencil-ruler fa-lg&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr
            class=&#34; section-bottom schedule-bg-2&#34;&gt;
            &lt;td align=&#34;right&#34; style=&#34;width:20%;text-align:right&#34;&gt;
                &lt;strong&gt;1 Noviembre&lt;/strong&gt;&lt;/td&gt;
            &lt;td style=&#34;width:56%;text-align:left&#34;&gt;Feriado&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-book-reader fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-laptop-code fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-pencil-ruler fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr
            class=&#34; section-bottom schedule-bg-1&#34;&gt;
            &lt;td align=&#34;right&#34; style=&#34;width:20%;text-align:right&#34;&gt;
                &lt;strong&gt;8 Noviembre&lt;/strong&gt;&lt;br&gt;
                &lt;small&gt;(Sesión 11)&lt;/small&gt;&lt;/td&gt;
            &lt;td style=&#34;width:56%;text-align:left&#34;&gt;4.5 Calidad de modelos y otras técnicas de estimación&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;&lt;a
                    href=&#34;/content/11-content/&#34;&gt;
                    &lt;i class=&#34;fas fa-book-reader fa-lg&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;&lt;a
                    href=&#34;/example/rstudio-tidyverse/&#34;&gt;
                    &lt;i class=&#34;fas fa-laptop-code fa-lg&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-pencil-ruler fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr
            class=&#34; section-bottom schedule-bg-2&#34;&gt;
            &lt;td align=&#34;right&#34; style=&#34;width:20%;text-align:right&#34;&gt;
                &lt;strong&gt;15 Noviembre&lt;/strong&gt;&lt;/td&gt;
            &lt;td style=&#34;width:56%;text-align:left&#34;&gt;Receso&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-book-reader fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-laptop-code fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-pencil-ruler fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr
            class=&#34; section-bottom schedule-bg-3&#34;&gt;
            &lt;td align=&#34;right&#34; style=&#34;width:20%;text-align:right&#34;&gt;
                &lt;strong&gt;22 Noviembre&lt;/strong&gt;&lt;/td&gt;
            &lt;td style=&#34;width:56%;text-align:left&#34;&gt;&lt;i class=&#34;fas fa-dice-six&#34;&gt;&lt;/i&gt; &lt;strong&gt;Entrega final&lt;/strong&gt;&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-book-reader fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-laptop-code fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;&lt;a
                    href=&#34;/assignment/06-problem-set/&#34;&gt;
                    &lt;i class=&#34;fas fa-pencil-ruler fa-lg&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr
            class=&#34; fake-header-table&#34;&gt;
            &lt;td align=&#34;right&#34; style=&#34;width:20%;text-align:right&#34;&gt;
                &lt;strong&gt;&lt;/strong&gt;&lt;/td&gt;
            &lt;td style=&#34;width:56%;text-align:left&#34;&gt;Resumen Evaluaciones&lt;/td&gt;

            &lt;td style=&#34;width:8%;text-align:center&#34; class=&#34;mid-table-header&#34;&gt;Clases&lt;/td&gt;
            &lt;td style=&#34;width:8%;text-align:center&#34; class=&#34;mid-table-header&#34;&gt;Prácticos&lt;/td&gt;
            &lt;td style=&#34;width:8%;text-align:center&#34; class=&#34;mid-table-header&#34;&gt;Tareas&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr
            class=&#34; section-bottom schedule-bg-3&#34;&gt;
            &lt;td align=&#34;right&#34; style=&#34;width:20%;text-align:right&#34;&gt;
                &lt;strong&gt;9 Agosto-13 Agosto&lt;/strong&gt;&lt;/td&gt;
            &lt;td style=&#34;width:56%;text-align:left&#34;&gt;&lt;i class=&#34;fas fa-square&#34;&gt;&lt;/i&gt; &lt;strong&gt;Tarea 0: Colaborando en Github&lt;/strong&gt;&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-book-reader fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-laptop-code fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;&lt;a
                    href=&#34;/assignment/weekly-check-in/&#34;&gt;
                    &lt;i class=&#34;fas fa-pencil-ruler fa-lg&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr
            class=&#34; section-bottom schedule-bg-3&#34;&gt;
            &lt;td align=&#34;right&#34; style=&#34;width:20%;text-align:right&#34;&gt;
                &lt;strong&gt;16 Agosto-20 Agosto&lt;/strong&gt;&lt;/td&gt;
            &lt;td style=&#34;width:56%;text-align:left&#34;&gt;&lt;i class=&#34;fas fa-dice-one&#34;&gt;&lt;/i&gt; &lt;strong&gt;Tarea 1: Reporte en Rmarkdown&lt;/strong&gt;&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-book-reader fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-laptop-code fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;&lt;a
                    href=&#34;/assignment/01-problem-set/&#34;&gt;
                    &lt;i class=&#34;fas fa-pencil-ruler fa-lg&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr
            class=&#34; section-bottom schedule-bg-3&#34;&gt;
            &lt;td align=&#34;right&#34; style=&#34;width:20%;text-align:right&#34;&gt;
                &lt;strong&gt;6 Septiembre-10 septiembre&lt;/strong&gt;&lt;/td&gt;
            &lt;td style=&#34;width:56%;text-align:left&#34;&gt;&lt;i class=&#34;fas fa-dice-two&#34;&gt;&lt;/i&gt; &lt;strong&gt;Tarea 2: Procesamiento de datos&lt;/strong&gt;&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-book-reader fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-laptop-code fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;&lt;a
                    href=&#34;/assignment/02-problem-set/&#34;&gt;
                    &lt;i class=&#34;fas fa-pencil-ruler fa-lg&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr
            class=&#34; section-bottom schedule-bg-3&#34;&gt;
            &lt;td align=&#34;right&#34; style=&#34;width:20%;text-align:right&#34;&gt;
                &lt;strong&gt;13 Septiembre-17 septiembre&lt;/strong&gt;&lt;/td&gt;
            &lt;td style=&#34;width:56%;text-align:left&#34;&gt;&lt;i class=&#34;fas fa-dice-two&#34;&gt;&lt;/i&gt; &lt;strong&gt;Tarea 3: Análisis descriptivo&lt;/strong&gt;&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-book-reader fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-laptop-code fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;&lt;a
                    href=&#34;/assignment/03-problem-set/&#34;&gt;
                    &lt;i class=&#34;fas fa-pencil-ruler fa-lg&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr
            class=&#34; section-bottom schedule-bg-3&#34;&gt;
            &lt;td align=&#34;right&#34; style=&#34;width:20%;text-align:right&#34;&gt;
                &lt;strong&gt;27 Septiembre-1 octubre&lt;/strong&gt;&lt;/td&gt;
            &lt;td style=&#34;width:56%;text-align:left&#34;&gt;&lt;i class=&#34;fas fa-dice-two&#34;&gt;&lt;/i&gt; &lt;strong&gt;Tarea 4: Muestras complejas&lt;/strong&gt;&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-book-reader fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-laptop-code fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;&lt;a
                    href=&#34;/assignment/04-problem-set/&#34;&gt;
                    &lt;i class=&#34;fas fa-pencil-ruler fa-lg&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr
            class=&#34; section-bottom schedule-bg-3&#34;&gt;
            &lt;td align=&#34;right&#34; style=&#34;width:20%;text-align:right&#34;&gt;
                &lt;strong&gt;25 octubre-29 octubre&lt;/strong&gt;&lt;/td&gt;
            &lt;td style=&#34;width:56%;text-align:left&#34;&gt;&lt;i class=&#34;fas fa-dice-two&#34;&gt;&lt;/i&gt; &lt;strong&gt;Tarea 5: Regresiones en R&lt;/strong&gt;&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-book-reader fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-laptop-code fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;&lt;a
                    href=&#34;/assignment/05-problem-set/&#34;&gt;
                    &lt;i class=&#34;fas fa-pencil-ruler fa-lg&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr
            class=&#34; section-bottom schedule-bg-3&#34;&gt;
            &lt;td align=&#34;right&#34; style=&#34;width:20%;text-align:right&#34;&gt;
                &lt;strong&gt;22 Noviembre&lt;/strong&gt;&lt;/td&gt;
            &lt;td style=&#34;width:56%;text-align:left&#34;&gt;&lt;i class=&#34;fas fa-dice-six&#34;&gt;&lt;/i&gt; &lt;strong&gt;Entrega investigación final&lt;/strong&gt;&lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-book-reader fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;
                &lt;font color=&#34;f1f1f1&#34;&gt;
                    &lt;i class=&#34;fas fa-laptop-code fa-lg&#34;&gt;&lt;/i&gt;&lt;/font&gt;
            &lt;/td&gt;
            &lt;td align=&#34;center&#34; style=&#34;width:10%;text-align:center&#34;&gt;&lt;a
                    href=&#34;/assignment/06-problem-set/&#34;&gt;
                    &lt;i class=&#34;fas fa-pencil-ruler fa-lg&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;
        &lt;/tr&gt;

    &lt;/tbody&gt;

&lt;/table&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Syllabus</title>
      <link>/syllabus/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/syllabus/</guid>
      <description>
&lt;script src=&#34;/syllabus/index_files/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;

&lt;div id=&#34;TOC&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#presentación&#34;&gt;Presentación&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#descripción&#34;&gt;Descripción&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#objetivos&#34;&gt;Objetivos&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#objetivo-general&#34;&gt;Objetivo general&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#objetivos-específicos&#34;&gt;Objetivos específicos&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#i.-contenidos&#34;&gt;I. Contenidos&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#unidad-1.-elementos-y-herramientas-básicos-de-r&#34;&gt;Unidad 1. Elementos y herramientas básicos de R&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#unidad-2.-manipulación-y-limpieza-de-datos&#34;&gt;Unidad 2. Manipulación y limpieza de datos&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#unidad-3.-análisis-estadístico-descriptivo-en-r&#34;&gt;Unidad 3. Análisis estadístico descriptivo en R&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#unidad-4.-análisis-estadístico-inferencial-en-r&#34;&gt;Unidad 4. Análisis estadístico inferencial en R&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ii.-metodología-del-curso&#34;&gt;II. Metodología del curso&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#recursos-principales-de-aprendizaje&#34;&gt;Recursos principales de aprendizaje&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#iii.-evaluación-de-aprendizajes&#34;&gt;III. Evaluación de aprendizajes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#iv.-calendario-de-actividades&#34;&gt;IV. Calendario de actividades&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#v.-recursos-pedagógicos&#34;&gt;V. Recursos pedagógicos&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#referencias-bibliográficas&#34;&gt;1. Referencias bibliográficas&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#sitios-de-consulta&#34;&gt;2. Sitios de consulta&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#descargar-programa-en-pdf&#34;&gt;&lt;span&gt;Descargar programa en pdf&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;

&lt;p&gt;&lt;div class=&#34;row&#34;&gt;
    &lt;div class=&#34;col-md-4&#34;&gt;
        &lt;h3&gt;Docente&lt;/h3&gt;
        &lt;ul class=&#34;icon-list&#34;&gt;
            &lt;li&gt;&lt;i class=&#34;fas fa-user&#34;&gt;&lt;/i&gt; &lt;a href=&#34;https://valentinaandrade.netlify.app/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt; Valentina Andrade&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;i class=&#34;fas fa-university&#34;&gt;&lt;/i&gt;&lt;a href=&#34;https://https://valentinaandrade.netlify.app/&#34;&gt; valentinaandrade.netlify.app/&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;i class=&#34;fas fa-envelope&#34;&gt;&lt;/i&gt; &lt;a href=&#34;mailto:valentinaandrade@uchile.cl&#34;&gt; valentinaandrade@uchile.cl&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;i class=&#34;fab fa-twitter&#34;&gt;&lt;/i&gt; &lt;a href=&#34;https://twitter.com/valentiandrade&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt; @valentiandrade&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;i class=&#34;fas fa-calendar-check&#34;&gt;&lt;/i&gt; &lt;a href=&#34;https://calendly.com/valentinaandrade/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt; Agendar reunión&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;
    &lt;div class=&#34;col-md-4&#34;&gt;
        &lt;h3&gt;Course details&lt;/h3&gt;
        &lt;ul class=&#34;icon-list&#34;&gt;
            &lt;li&gt;&lt;i class=&#34;far fa-calendar-alt&#34;&gt;&lt;/i&gt; Clases: Lunes 16.30-17.40&lt;/li&gt;
            &lt;li&gt;&lt;i class=&#34;fas fa-pencil-alt&#34;&gt;&lt;/i&gt; Práctico: Lunes 18.00-19.20&lt;/li&gt;
            &lt;li&gt;&lt;i class=&#34;fas fa-university&#34;&gt;&lt;/i&gt; Online, en link de Zoom&lt;/li&gt;&lt;li&gt;&lt;i class=&#34;fab fa-slack&#34;&gt;&lt;/i&gt; &lt;a href=&#34;http://learn-r-uah.slack.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Slack&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;
    &lt;div class=&#34;col-md-4 contact-policy&#34;&gt;
        &lt;h3&gt;Contacto&lt;/h3&gt;
        &lt;p&gt;El canal de contacto de preferencia es &lt;a href=&#34;http://learn-r-uah.slack.com/&#34;&gt;Slack&lt;/a&gt;, y en segunda instancia, email.&lt;/p&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;/p&gt;
&lt;div id=&#34;presentación&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Presentación&lt;/h1&gt;
&lt;p&gt;R es uno de los lenguajes de programación estadística más populares y demandados del último tiempo. Una de las razones principales es que tanto el software como la comunidad que hace uso de este se maneja en un marco de la ciencia abierta (r Open Science Tools o &lt;em&gt;rOpensci&lt;/em&gt;), permitiendo el desarrollo constante de una serie de herramientas que permiten mejorar nuestras investigaciones, de manera &lt;strong&gt;libre, gratis y colaborativa.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Para las ciencias sociales estos elementos no son triviales. Es frecuente encontrarse con personas de nuestro campo que se están iniciando en R y desisten de este intento dada la frustración y pensamientos de incapacidad. Aprender R puede ser difícil al iniciar – es como aprender cualquier otro lenguaje o idioma -, y poco se ha pensado en cómo implementar enseñanza a grupos más expuestos a estos prejuicios, como en las ciencias sociales y humanidades.&lt;/p&gt;
&lt;p&gt;Se propone que un curso de introducción de R para análisis de datos sociales puede abordar estos desafíos basado en enseñar herramientas concretas que faciliten y potencien las investigaciones sociales. Basada en la experiencia de enseñanza de R en contextos similares, esto implica introducir prácticas del &lt;em&gt;rOpensci&lt;/em&gt; como la colaboración y reproducibilidad, que facilitan sin duda el aprendizaje colectivo y la calidad de los productos desarrollados durante el curso.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;¡Iniciemos este desafío juntas/os!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;../../img/eval-flowchart.png&#34; /&gt;&lt;/p&gt;
&lt;div id=&#34;descripción&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Descripción&lt;/h2&gt;
&lt;p&gt;Este curso busca introducir a estudiante en el uso de R y RStudio para el análisis de datos sociales. En ese sentido, será una introducción al entorno R y a la interfaz de RStudio para su uso en contextos académicos. Al mismo tiempo, el curso profundiza en temas específicos para las ciencias sociales como el análisis estadístico y la presentación de resultados (visualización de datos).&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;objetivos&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Objetivos&lt;/h2&gt;
&lt;div id=&#34;objetivo-general&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Objetivo general&lt;/h3&gt;
&lt;p&gt;Aprender las principales herramientas para el análisis de datos sociales en RStudio, con el fin de lograr un uso autónomo del software&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;objetivos-específicos&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Objetivos específicos&lt;/h3&gt;
&lt;p&gt;El curso no es un curso de programación en R , sino que una aplicación concreta del uso de R para ciencias sociales. Por ello, el curso tiene como propósito específico que los estudiantes sean capaces de&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Manejar R y herramientas asociadas a su utilización (&lt;em&gt;rOpensci&lt;/em&gt;), utilizando prácticas que les permitan avanzar en su aprendizaje de manera autónoma (Unidad 1)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Manipular, procesar y limpiar datos sociales utilizando R (Unidad 2)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Aplicar herramientas para análisis estadísticos descriptivos en R (Unidad 3)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Aplicar herramientas para análisis estadísticos inferenciales en R (Unidad 4)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Presentar de resultados, a partir de la visualización de datos y construcción de documentos (transversal a todas las unidades)&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;i.-contenidos&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;I. Contenidos&lt;/h1&gt;
&lt;div id=&#34;unidad-1.-elementos-y-herramientas-básicos-de-r&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Unidad 1. Elementos y herramientas básicos de R&lt;/h2&gt;
&lt;p&gt;1.1 R enviroment: interfaz de RStudio, elementos de script, workspace&lt;/p&gt;
&lt;p&gt;1.2 Prácticas y herramientas de consulta: CRAN, stackoverflow, Rcommunity&lt;/p&gt;
&lt;p&gt;1.3 Herramientas para la colaboración y comunicación: Rprojects, GitHub y Slack&lt;/p&gt;
&lt;p&gt;1.4 Librerías y funciones para las ciencias sociales: tidyverse y sj (sjmisc y sjPlot)&lt;/p&gt;
&lt;p&gt;1.5 Construcción de reportes reproducibles e integrados con código: RMarkdown&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;unidad-2.-manipulación-y-limpieza-de-datos&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Unidad 2. Manipulación y limpieza de datos&lt;/h2&gt;
&lt;p&gt;2.1 Importar y exportar datos en diferentes formatos&lt;/p&gt;
&lt;p&gt;2.2 Validación y limpieza de variables (missing values)&lt;/p&gt;
&lt;p&gt;2.3 Transformación y selección de variables&lt;/p&gt;
&lt;p&gt;2.4 Transformación de datos en tidydata con tidyr&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;unidad-3.-análisis-estadístico-descriptivo-en-r&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Unidad 3. Análisis estadístico descriptivo en R&lt;/h2&gt;
&lt;p&gt;3.1 Análisis descriptivos univariados: medidas de tendencia central, dispersión y frecuencias&lt;/p&gt;
&lt;p&gt;3.2 Análisis descriptivo bivariado: tablas de contingencia, correlaciones y ANOVA&lt;/p&gt;
&lt;p&gt;3.3 Representación gráfica con sjPlot: Likert, proporciones agrupadas y distribuciones&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;unidad-4.-análisis-estadístico-inferencial-en-r&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Unidad 4. Análisis estadístico inferencial en R&lt;/h2&gt;
&lt;p&gt;4.1 Muestras complejas y precisión de inferencia estadística con survey y srvyr&lt;/p&gt;
&lt;p&gt;4.2 Pruebas de hipótesis y representación gráfica&lt;/p&gt;
&lt;p&gt;4.3 Regresiones lineales, predictores categóricos y representación gráfica&lt;/p&gt;
&lt;p&gt;4.4 Regresiones logísticas, exponenciación y representación gráfica&lt;/p&gt;
&lt;p&gt;4.5 Ajuste de modelos (performance) y otras representaciones gráficas (predicción, efectos marginales e interacciones)&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;ii.-metodología-del-curso&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;II. Metodología del curso&lt;/h1&gt;
&lt;p&gt;Dado el contexto de pandemia se tendrán tres espacios principales de aprendizaje:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Sesiones de clases lectivas&lt;/strong&gt; (&lt;i class=&#34;fas fa-book-reader&#34;&gt;&lt;/i&gt;), donde se presentarán los aspectos centrales de los contenidos correspondientes a la semana vía Zoom. Tanto el documento de presentación como el video de la clase se encontrará disponible en la pestaña de &lt;a href=&#34;/content/&#34;&gt;&lt;strong&gt;Clases&lt;/strong&gt;&lt;/a&gt; de este sitio web del curso.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Prácticas guiadas&lt;/strong&gt; (&lt;i class=&#34;fas fa-laptop-code&#34;&gt;&lt;/i&gt;): cada tema de las sesiones se acompaña de una guía práctica de aplicación de contenidos, y que estarán disponibles en la pestaña &lt;a href=&#34;/example/&#34;&gt;&lt;strong&gt;Prácticos&lt;/strong&gt;&lt;/a&gt;. Estas guías están diseñadas para ser desarrolladas de manera autónoma por cada estudiante semana a semana. También serán desarrolladas y revisadas cada semana en grupos pequeños con supervisión de ayudantes para dar mayor oportunidad de participación y resolver las dudas respectivas. Existe un &lt;strong&gt;reporte de progreso&lt;/strong&gt; asociado a estas guías que deberá ser completado semanalmente con fines de monitoreo y retroalimentación.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Tareas&lt;/strong&gt;: se desarrollarán &lt;strong&gt;6 tareas&lt;/strong&gt; que les permitirán aplicar contenidos y replicar lo aprendido en los prácticos en base a una base de datos seleccionada por ustedes &lt;strong&gt;al inicio de semestre&lt;/strong&gt;. Esto permitirá no solo recibir retroalimentación constante, sino que aprender con datos que puedan ser útiles para otros proyectos de investigación que sean de su interés.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div id=&#34;recursos-principales-de-aprendizaje&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Recursos principales de aprendizaje&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;1. Sitio web&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;El curso tiene disponible este sitio web, que he programado pues permite integrar texto y código de R, junto con hacer interactuar con otras plataformas como el &lt;em&gt;foro Disqus&lt;/em&gt; y &lt;em&gt;Github&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. R, RStudio y RStudio Cloud&lt;/strong&gt; &lt;i class=&#34;fab fa-r-project&#34;&gt;&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;El software que se utilizará principalmente será R y su interfaz RStudio. Ahora bien, muchos usuario/as de R presentan problemas de instalación dada la capacidad de sus computadores y sistemas operativos. Por ello se promoverá el uso del servicio gratuito de &lt;a href=&#34;https://rstudio.cloud/&#34;&gt;RStudio.cloud&lt;/a&gt; , que permite ejecutar la interfaz de RStudio en el navegador web y compartir el código de manera sincrónica con la docente. Dado el enfoque &lt;em&gt;rOpensci&lt;/em&gt;, las plantillas para ejemplos, ejercicios y mini proyectos podrán ser implementados en esta plataforma. Si bien no es ideal pues tiene limitantes de memoria, mientras ustedes asimilan el programa será una buena herramienta.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3. Slack&lt;/strong&gt; &lt;i class=&#34;fab fa-slack&#34;&gt;&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://slack.com/intl/es-cl/&#34;&gt;&lt;em&gt;Slack&lt;/em&gt;&lt;/a&gt; es una herramienta de uso frecuente en equipos de trabajo que utilizan R pues permite integrar script (o &lt;em&gt;código&lt;/em&gt;) de distintos lenguajes en el chat. Se tendrá un espacio de trabajo en la &lt;em&gt;app Slack&lt;/em&gt; que permite que cualquier persona del curso pueda hacer preguntas y cualquiera pueda responder. Esta es una de las prácticas que se promoverán en el curso pues es probable que los estudiantes tengan dudas similares a las de sus compañeros, por lo que las respuestas de la docente, ayudante y otros compañeros serán de libre disposición de todo el curso. Dentro del &lt;em&gt;Slack&lt;/em&gt; se tendrán canales para hacer preguntas sobre las sesiones, tareas y proyectos, y el link que permite unirse a este estará disponible en el sitio del curso.&lt;/p&gt;
&lt;p&gt;&lt;i class=&#34;fab fa-slack&#34;&gt;&lt;/i&gt; &lt;a href=&#34;https://slack.com/intl/es-cl/help/articles/360059928654-C%C3%B3mo-usar-Slack--tu-gu%C3%ADa-de-inicio-r%C3%A1pido&#34;&gt;Guía de uso de slack&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;i class=&#34;fab fa-slack&#34;&gt;&lt;/i&gt; &lt;a href=&#34;https://join.slack.com/t/learn-r-uah/shared_invite/zt-sh9uysuu-IzEG8~u5k2YYGWgpAFTRFA&#34;&gt;Unirse a slack de curso&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4. GitHub&lt;/strong&gt; &lt;i class=&#34;fab fa-github&#34;&gt;&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;Github es una plataforma online que permite depositar archivos y el control de versiones (VCS), por lo que se ha transformado una herramienta fácil y popular para corregir, colaborar y compartir códigos de distintos lenguajes (no solo R). Utilizaremos esta plataforma para subir las tareas, ayudarlos/as de manera directa con su código y darles feedback.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;5. Zotero&lt;/strong&gt; &lt;i class=&#34;fab fa-zotero&#34;&gt;&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;Zotero es un gestor bibliográfico que permite sistematizar las referencias y archivos utilizados en una investigación o informe. Enseñaremos este de manera complementaria pues este software se puede integrar en los documentos escritos hechos en R.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;iii.-evaluación-de-aprendizajes&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;III. Evaluación de aprendizajes&lt;/h1&gt;
&lt;p&gt;Las evaluaciones del curso se componen de &lt;strong&gt;tareas&lt;/strong&gt; (70% de la nota final) y la &lt;strong&gt;entrega de una investigación&lt;/strong&gt; (30% de la nota final), en dónde en ambos casos la/el estudiante deberá seleccionar datos y temas de interés de modo de acercar la aplicación del software a contextos de investigación propios de la/el estudiante. En concreto, cada evaluación consiste en:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1. Tareas&lt;/strong&gt; (&lt;em&gt;70% de la nota final&lt;/em&gt;): consisten en evaluaciones parciales temáticas que buscan poner en práctica los aprendizajes expuestos en la sesión de clases y herramientas reforzadas en los prácticos. &lt;strong&gt;El promedio de notas las de tareas será calculado solo con las cuatro mejores entregas&lt;/strong&gt; a partir de la Tarea 1 (&lt;em&gt;25% c/u&lt;/em&gt;)&lt;a href=&#34;#fn1&#34; class=&#34;footnote-ref&#34; id=&#34;fnref1&#34;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. Investigación final&lt;/strong&gt; (&lt;em&gt;30% de la nota final&lt;/em&gt;): consiste en una evaluación final que aplica los conocimientos y herramientas entregadas a lo largo de curso, a un proyecto de investigación de elección por el/la estudiante.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;iv.-calendario-de-actividades&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;IV. Calendario de actividades&lt;/h1&gt;
&lt;p&gt;El calendario de actividades se puede revisar con detención en la &lt;a href=&#34;/schedule/&#34;&gt;pestaña planificación&lt;/a&gt;. Un resumen breve de las tareas es&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&#34;header&#34;&gt;
&lt;th&gt;Evaluación&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;Formato&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Fecha&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;Ponderación Nota Final&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td&gt;Tarea&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;4 tareas&lt;a href=&#34;#fn2&#34; class=&#34;footnote-ref&#34; id=&#34;fnref2&#34;&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;&lt;em&gt;Hasta Viernes de la semana informada&lt;/em&gt;&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;70% (25% c/u)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td&gt;Investigación&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;Única entrega&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;22 de noviembre&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;30%&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div id=&#34;v.-recursos-pedagógicos&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;V. Recursos pedagógicos&lt;/h1&gt;
&lt;div id=&#34;referencias-bibliográficas&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;1. Referencias bibliográficas&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Wickham, H., &amp;amp; Grolemund, G. (2016). R for data science: import, tidy, transform, visualize, and model data (First edition). Sebastopol: O’Reilly.&lt;/strong&gt; Libro con enfoque en el aprendizaje de R. Disponible en español como &lt;a href=&#34;https://es.r4ds.hadley.nz/&#34;&gt;“R para ciencia de datos”&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://CRAN.R-project.org/package=sjPlot&#34;&gt;&lt;strong&gt;Daniel Lüdecke (2021) Data Visualization for Statistics in Social Science&lt;/strong&gt; R package version 2.8.7&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://doi.org/10.21105/joss.01686&#34;&gt;&lt;strong&gt;Wickham et al., (2019). Welcome to the tidyverse.&lt;/strong&gt; Journal of Open Source Software, 4(43), 1686&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://bookdown.org/yihui/rmarkdown/&#34;&gt;&lt;strong&gt;Yihui Xie, J. J. Allaire, Garrett Grolemund (2021) R Markdown: The Definitive Guide&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://happygitwithr.com/&#34;&gt;&lt;strong&gt;Bryan, Jenny (2019) Happy Git in R&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&#34;sitios-de-consulta&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;2. Sitios de consulta&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://*rOpensci*.org/&#34;&gt;&lt;em&gt;rOpensci&lt;/em&gt;&lt;/a&gt; (R Open Scicnce Tools)&lt;/li&gt;
&lt;li&gt;Laboratorio de Ciencia Social Abierta, Centro de Estudios de Conflicto y Cohesión Social &lt;a href=&#34;https://lisa-coes.netlify.app/&#34;&gt;(LISA-COES)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://stackoverflow.com/&#34;&gt;Stackoverflow&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://community.rstudio.com/&#34;&gt;RStudio Community&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://rmarkdown.rstudio.com/&#34;&gt;RMarkdown&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://strengejacke.github.io/sjPlot/&#34;&gt;sjPlot&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.tidyverse.org/&#34;&gt;tidyverse&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;descargar-programa-en-pdf&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;&lt;a href=&#34;../files/programa-R-uah.pdf/&#34;&gt;Descargar programa en pdf&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;&lt;a Puedes descargar el programa apretando el siguiente botón class=&#34;btn btn-primary&#34; href=&#34;../files/programa-R-uah.pdf/&#34; role=&#34;button&#34;&gt;&lt;i class=&#34;far fa-file-pdf&#34;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&#34;fn1&#34;&gt;&lt;p&gt;Es decir, a lo largo del semestre deberá entregar 6 tareas: 5 calificadas (Tarea 1 a Tarea 5) y 1 no (Tarea 0). De las 5 tareas restantes, solo las 4 mejores serán consideradas en su promedio de las tareas.&lt;a href=&#34;#fnref1&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn2&#34;&gt;&lt;p&gt;Es decir, a lo largo del semestre deberá entregar 6 tareas: 5 calificadas (Tarea 1 a Tarea 5) y 1 no (Tarea 0). De las 5 tareas restantes, solo las 4 mejores serán consideradas en su promedio de las tareas.&lt;a href=&#34;#fnref2&#34; class=&#34;footnote-back&#34;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Weekly check-in</title>
      <link>/assignment/weekly-check-in/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>/assignment/weekly-check-in/</guid>
      <description>&lt;p&gt;Every week, after you finish working through the content, I want to hear about what you learned and what questions you still have. To facilitate this, and to encourage engagement with the course content, you&amp;rsquo;ll need to fill out a short response on iCollege. This should be ≈150 words. That&amp;rsquo;s fairly short: there are ≈250 words on a typical double-spaced page in Microsoft Word (500 when single-spaced).&lt;/p&gt;
&lt;p&gt;You should answer these two questions each week:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;What was the most exciting thing you learned from the session? Why?&lt;/li&gt;
&lt;li&gt;What was the muddiest thing from the session this week? What are you still wondering about?&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I will grade these check-ins using a check system:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;✔+: (&lt;em&gt;11.5 points (115%) in gradebook&lt;/em&gt;) Response shows phenomenal thought and engagement with the course content. I will not assign these often.&lt;/li&gt;
&lt;li&gt;✔: (&lt;em&gt;10 points (100%) in gradebook&lt;/em&gt;) Response is thoughtful, well-written, and shows engagement with the course content. This is the expected level of performance.&lt;/li&gt;
&lt;li&gt;✔−: (&lt;em&gt;5 points (50%) in gradebook&lt;/em&gt;) Response is hastily composed, too short, and/or only cursorily engages with the course content. This grade signals that you need to improve next time. I will hopefully not assign these often.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Notice that is essentially a pass/fail or completion-based system. I&amp;rsquo;m not grading your writing ability, I&amp;rsquo;m not counting the exact number of words you&amp;rsquo;re writing, and I&amp;rsquo;m not looking for encyclopedic citations of every single reading to prove that you did indeed read everything. I&amp;rsquo;m looking for thoughtful engagement, that&amp;rsquo;s all. Do good work and you&amp;rsquo;ll get a ✓.&lt;/p&gt;
&lt;p&gt;You will submit these responses via iCollege.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
